(()=>{var e={};e.id=482,e.ids=[482],e.modules={416:(e,t,n)=>{var r=n(35558);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},1708:e=>{"use strict";e.exports=require("node:process")},1728:e=>{e.exports=function(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}},2051:(e,t,n)=>{"use strict";n.d(t,{vt:()=>d});var r=n(13050),o=n(60159),i=n(81816);let{useDebugValue:a}=o,{useSyncExternalStoreWithSelector:s}=i,u=!1,l=e=>e,c=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?(0,r.y)(e):e,n=(e,n)=>(function(e,t=l,n){n&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let r=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return a(r),r})(t,e,n);return Object.assign(n,t),n},d=e=>e?c(e):c},2203:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(13486),o=n(17121),i=n(14513),a=n.n(i);let s=e=>{let{style:t="",children:n,selected:i,isHovered:s}=e;return(0,r.jsx)("div",{className:(0,o.pS)(a().border,s&&a().hover,i&&a().selected,t),children:n})}},3117:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{n:()=>u});var o=n(13486);n(60159);var i=n(35412),a=n(17121),s=e([i]);i=(s.then?(await s)():s)[0];let u=e=>{let{isEdit:t,value:n,onChange:r}=e;return t?(0,o.jsx)(i.lrV.RangePicker,{value:[n?.[0]?(0,a.yf)(n[0]):null,n?.[1]?(0,a.yf)(n[1]):null],onChange:e=>{r(e?.map(e=>e?.valueOf()))}}):n?.length!==2?null:(0,o.jsxs)("div",{children:[a.yf(n[0])?.format("YYYY-MM-DD")," 至 ",a.yf(n[1])?.format("YYYY-MM-DD")]})};r()}catch(e){r(e)}})},3265:(e,t,n)=>{"use strict";var r=n(46795);e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=function(e,t,n){for(var o=r.zipObject(n,r.map(n,function(e,t){return t})),i=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:o[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(Array(s),function(){return 0}),l=0;return r.forEach(i.forEach(function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;l+=e.weight*n})),l}(e,t[o-1],t[o]);return n}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4274:(e,t,n)=>{var r=n(82629),o=n(85302),i=n(31354);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},4375:(e,t,n)=>{var r=n(94657),o=n(82627),i=n(47755),a=n(10617),s=n(96091),u=n(27177);e.exports=function(e,t,n){var l=-1,c=o,d=e.length,f=!0,h=[],p=h;if(n)f=!1,c=i;else if(d>=200){var g=t?null:s(e);if(g)return u(g);f=!1,c=a,p=new r}else p=t?[]:h;e:for(;++l<d;){var v=e[l],m=t?t(v):v;if(v=n||0!==v?v:0,f&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue e;t&&p.push(m),h.push(v)}else c(p,m,n)||(p!==h&&p.push(m),h.push(v))}return h}},4924:(e,t,n)=>{Promise.resolve().then(n.bind(n,66028))},5015:(e,t,n)=>{var r=n(46795),o=n(14014);function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}e.exports=function(e,t){var n,a=o.partition(e,function(e){return r.has(e,"barycenter")}),s=a.lhs,u=r.sortBy(a.rhs,function(e){return-e.i}),l=[],c=0,d=0,f=0;s.sort((n=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i})),f=i(l,u,f),r.forEach(s,function(e){f+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=i(l,u,f)});var h={vs:r.flatten(l,!0)};return d&&(h.barycenter=c/d,h.weight=d),h}},6995:(e,t,n)=>{e.exports=n(13346)()},7273:e=>{"use strict";e.exports=require("prettier/parser-typescript")},7296:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var r=n(9127);let o=()=>{let{getNodes:e,getEdges:t,setNodes:n,setEdges:o,fitView:i}=(0,r.VH)(),a=e(),s=t(),u=a.some(e=>e.dragging);return{nodes:a,edges:s,setNodes:n,setEdges:o,isDragging:u,fitView:i}}},7545:(e,t,n)=>{var r=n(92471);e.exports=function(e){var t,n={},o=[];return r.each(e.nodes(),function(i){t=[],function o(i){r.has(n,i)||(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}(i),t.length&&o.push(t)}),o}},7899:(e,t,n)=>{Promise.resolve().then(n.bind(n,52333))},8021:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return -1}},9083:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{Y:()=>s});var o=n(13486);n(60159);var i=n(35412),a=e([i]);i=(a.then?(await a)():a)[0];let s=e=>{let{isEdit:t,tags:n,onChange:r}=e;return t?(0,o.jsx)("div",{className:"mt-1.5 text-sm font-medium text-gray-900 truncate",style:{width:"100%"},children:(0,o.jsx)(i.l6P,{mode:"tags",style:{width:"100%"},placeholder:"请选择标签",value:n,onChange:e=>r({tags:e}),options:["需求","BUG","思考","临时","手机","电脑","外出","家里"].map(e=>({label:e,value:e}))})}):null};r()}catch(e){r(e)}})},9127:(e,t,n)=>{"use strict";n.d(t,{VS:()=>t$,h7:()=>eS,Gc:()=>tM,ReactFlowProvider:()=>tk,fM:()=>tI,ck:()=>tj,VH:()=>ea});var r,o=n(13486),i=n(60159);function a(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=a(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var s=n(72704),u=n(81816),l=n(13050);let{useDebugValue:c}=i,{useSyncExternalStoreWithSelector:d}=u,f=e=>e;function h(e,t=f,n){let r=d(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(r),r}let p=(e,t)=>{let n=(0,l.y)(e),r=(e,r=t)=>h(n,e,r);return Object.assign(r,n),r},g=(e,t)=>e?p(e,t):p;function v(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}n(22358);let m=(0,i.createContext)(null),y=m.Provider,x=s.xc.error001();function w(e,t){let n=(0,i.useContext)(m);if(null===n)throw Error(x);return h(n,e,t)}function _(){let e=(0,i.useContext)(m);if(null===e)throw Error(x);return(0,i.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let b={display:"none"},E={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},C="react-flow__node-desc",k="react-flow__edge-desc",S=e=>e.ariaLiveMessage;function N({rfId:e}){let t=w(S);return(0,o.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:E,children:t})}function M({rfId:e,disableKeyboardA11y:t}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{id:`${C}-${e}`,style:b,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,o.jsx)("div",{id:`${k}-${e}`,style:b,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,o.jsx)(N,{rfId:e})]})}let j=e=>e.userSelectionActive?"none":"all",I=(0,i.forwardRef)(({position:e="top-left",children:t,className:n,style:r,...i},s)=>{let u=w(j),l=`${e}`.split("-");return(0,o.jsx)("div",{className:a(["react-flow__panel",n,...l]),style:{...r,pointerEvents:u},ref:s,...i,children:t})});function A({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,o.jsx)(I,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,o.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}I.displayName="Panel";let R=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},z=e=>e.id;function P(e,t){return v(e.selectedNodes.map(z),t.selectedNodes.map(z))&&v(e.selectedEdges.map(z),t.selectedEdges.map(z))}function O({onSelectionChange:e}){_();let{selectedNodes:t,selectedEdges:n}=w(R,P);return null}let $=e=>!!e.onSelectionChangeHandlers;function D({onSelectionChange:e}){let t=w($);return e||t?(0,o.jsx)(O,{onSelectionChange:e}):null}let T=[0,0],B={x:0,y:0,zoom:1},L=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],U=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),V={translateExtent:s.ZO,nodeOrigin:T,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function F(e){let{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:a,setNodeExtent:s,reset:u,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=w(U,v),d=_(),f=(0,i.useRef)(V);return(0,i.useEffect)(()=>{for(let i of L){let u=e[i];u!==f.current[i]&&void 0!==e[i]&&("nodes"===i?t(u):"edges"===i?n(u):"minZoom"===i?r(u):"maxZoom"===i?o(u):"translateExtent"===i?a(u):"nodeExtent"===i?s(u):"paneClickDistance"===i?c(u):"fitView"===i?d.setState({fitViewQueued:u}):"fitViewOptions"===i?d.setState({fitViewOptions:u}):d.setState({[i]:u}))}f.current=e},L.map(t=>e[t])),null}let H="undefined"!=typeof document?document:null;function W(e=null,t={target:H,actInsideInputWithModifier:!0}){let[n,r]=(0,i.useState)(!1);(0,i.useRef)(!1),(0,i.useRef)(new Set([]));let[o,a]=(0,i.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return n}let Y=()=>{let e=_();return(0,i.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{let{width:o,height:i,maxZoom:a,panZoom:s}=e.getState(),u=void 0!==r?.zoom?r.zoom:a;return s?(await s.setViewport({x:o/2-t*u,y:i/2-n*u,zoom:u},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{let{width:r,height:o,minZoom:i,maxZoom:a,panZoom:u}=e.getState(),l=(0,s.R4)(t,r,o,i,a,n?.padding??.1);return u?(await u.setViewport(l,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{let{transform:r,snapGrid:o,snapToGrid:i,domNode:a}=e.getState();if(!a)return t;let{x:u,y:l}=a.getBoundingClientRect(),c={x:t.x-u,y:t.y-l},d=n.snapGrid??o,f=n.snapToGrid??i;return(0,s.Ff)(c,r,f,d)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:o,y:i}=r.getBoundingClientRect(),a=(0,s.zj)(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function q(e,t){let n=[],r=new Map,o=[];for(let t of e){if("add"===t.type){o.push(t);continue}if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{let e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}}for(let e of t){let t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let o={...e};for(let e of t)(function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}})(e,o);n.push(o)}return o.length&&o.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function X(e,t){return{id:e,type:"select",selected:t}}function G(e,t=new Set,n=!1){let r=[];for(let[o,i]of e){let e=t.has(o);void 0===i.selected&&!e||i.selected===e||(n&&(i.selected=e),r.push(X(i.id,e)))}return r}function Z({items:e=[],lookup:t}){let n=[],r=new Map(e.map(e=>[e.id,e]));for(let[r,o]of e.entries()){let e=t.get(o.id),i=e?.internals?.userNode??e;void 0!==i&&i!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===i&&n.push({item:o,type:"add",index:r})}for(let[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function K(e){return{id:e.id,type:"remove"}}let Q=e=>(0,s.oB)(e),J=e=>(0,s.b$)(e);function ee(e){return(0,i.forwardRef)(e)}let et=i.useEffect;function en(e){let[t,n]=(0,i.useState)(BigInt(0)),[r]=(0,i.useState)(()=>{var e;let t;return e=()=>n(e=>e+BigInt(1)),t=[],{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}});return et(()=>{let t=r.get();t.length&&(e(t),r.reset())},[t]),r}let er=(0,i.createContext)(null);function eo({children:e}){let t=_(),n=en((0,i.useCallback)(e=>{let{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a,fitViewQueued:s}=t.getState(),u=n;for(let t of e)u="function"==typeof t?t(u):t;if(o)r(u);else{let e=Z({items:u,lookup:a});e.length>0?i?.(e):s&&window.requestAnimationFrame(()=>{let{fitViewQueued:e,nodes:n,setNodes:r}=t.getState();e&&r(n)})}},[])),r=en((0,i.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(Z({items:s,lookup:a}))},[])),a=(0,i.useMemo)(()=>({nodeQueue:n,edgeQueue:r}),[]);return(0,o.jsx)(er.Provider,{value:a,children:e})}let ei=e=>!!e.panZoom;function ea(){let e=Y(),t=_(),n=function(){let e=(0,i.useContext)(er);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),r=w(ei),o=(0,i.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState(),o=Q(e)?e:n.get(e.id),i=o.parentId?(0,s.us)(o.position,o.measured,o.parentId,n,r):o.position,a={...o,position:i,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return(0,s.kM)(a)},a=(e,t,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&Q(e)?e:{...r,...e}}return r}))},u=(e,t,n={replace:!1})=>{o(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&J(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{let{nodes:r,edges:o,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:u,triggerEdgeChanges:l,onDelete:c,onBeforeDelete:d}=t.getState(),{nodes:f,edges:h}=await (0,s.Tq)({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:d}),p=h.length>0,g=f.length>0;if(p){let e=h.map(K);a?.(h),l(e)}if(g){let e=f.map(K);i?.(f),u(e)}return(g||p)&&c?.({nodes:f,edges:h}),{deletedNodes:f,deletedEdges:h}},getIntersectingNodes:(e,n=!0,r)=>{let o=(0,s.mW)(e),a=o?e:i(e),u=void 0!==r;return a?(r||t.getState().nodes).filter(r=>{let i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;let l=(0,s.kM)(u?r:i),c=(0,s.X6)(l,a);return n&&c>0||c>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let r=(0,s.mW)(e)?e:i(e);if(!r)return!1;let o=(0,s.X6)(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:u,updateEdgeData:(e,t,n={replace:!1})=>{u(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState();return(0,s.Jo)(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}${n?`-${n}`:""}`)?.values()??[]),getNodeConnections:({type:e,handleId:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}${e?n?`-${e}-${n}`:`-${e}`:""}`)?.values()??[]),fitView:async e=>{let r=t.getState().fitViewResolver??Promise.withResolvers();return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:r}),n.nodeQueue.push(e=>[...e]),r.promise}}},[]);return(0,i.useMemo)(()=>({...o,...e,viewportInitialized:r}),[r])}let es={actInsideInputWithModifier:!1},eu=void 0,el={position:"absolute",width:"100%",height:"100%",top:0,left:0},ec=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function ed({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:a=.5,panOnScrollMode:u=s.ny.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:f,minZoom:h,maxZoom:p,zoomActivationKeyCode:g,preventScrolling:m=!0,children:y,noWheelClassName:x,noPanClassName:b,onViewportChange:E,isControlledViewport:C,paneClickDistance:k}){let S=_(),N=(0,i.useRef)(null),{userSelectionActive:M,lib:j}=w(ec,v);return W(g),(0,i.useRef)(),_(),(0,i.useCallback)(e=>{E?.({x:e[0],y:e[1],zoom:e[2]}),C||S.setState({transform:e})},[E,C]),(0,o.jsx)("div",{className:"react-flow__renderer",ref:N,style:el,children:y})}let ef=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eh(){let{userSelectionActive:e,userSelectionRect:t}=w(ef,v);return e&&t?(0,o.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let ep=(e,t)=>n=>{n.target===t.current&&e?.(n)},eg=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function ev({isSelecting:e,selectionKeyPressed:t,selectionMode:n=s.Qc.Full,panOnDrag:r,selectionOnDrag:u,onSelectionStart:l,onSelectionEnd:c,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:h,onPaneMouseEnter:p,onPaneMouseMove:g,onPaneMouseLeave:m,children:y}){let x=_(),{userSelectionActive:b,elementsSelectable:E,dragging:C,connectionInProgress:k}=w(eg,v),S=E&&(e||b),N=(0,i.useRef)(null),M=(0,i.useRef)(),j=(0,i.useRef)(new Set),I=(0,i.useRef)(new Set),A=(0,i.useRef)(!1),R=(0,i.useRef)(!1),z=e=>{if(A.current||k){A.current=!1;return}d?.(e),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},P=!0===r||Array.isArray(r)&&r.includes(0);return(0,o.jsxs)("div",{className:a(["react-flow__pane",{draggable:P,dragging:C,selection:e}]),onClick:S?void 0:ep(z,N),onContextMenu:ep(e=>{if(Array.isArray(r)&&r?.includes(2)){e.preventDefault();return}f?.(e)},N),onWheel:ep(h?e=>h(e):void 0,N),onPointerEnter:S?void 0:p,onPointerDown:S?t=>{let{resetSelectedElements:n,domNode:r}=x.getState();if(M.current=r?.getBoundingClientRect(),!E||!e||0!==t.button||t.target!==N.current||!M.current)return;t.target?.setPointerCapture?.(t.pointerId),R.current=!0,A.current=!1;let{x:o,y:i}=(0,s.q1)(t.nativeEvent,M.current);n(),x.setState({userSelectionRect:{width:0,height:0,startX:o,startY:i,x:o,y:i}}),l?.(t)}:g,onPointerMove:S?e=>{let{userSelectionRect:t,transform:r,nodeLookup:o,edgeLookup:i,connectionLookup:a,triggerNodeChanges:u,triggerEdgeChanges:l,defaultEdgeOptions:c}=x.getState();if(!M.current||!t)return;A.current=!0;let{x:d,y:f}=(0,s.q1)(e.nativeEvent,M.current),{startX:h,startY:p}=t,g={startX:h,startY:p,x:d<h?d:h,y:f<p?f:p,width:Math.abs(d-h),height:Math.abs(f-p)},v=j.current,m=I.current;j.current=new Set((0,s.U$)(o,g,r,n===s.Qc.Partial,!0).map(e=>e.id)),I.current=new Set;let y=c?.selectable??!0;for(let e of j.current){let t=a.get(e);if(t)for(let{edgeId:e}of t.values()){let t=i.get(e);t&&(t.selectable??y)&&I.current.add(e)}}(0,s._s)(v,j.current)||u(G(o,j.current,!0)),(0,s._s)(m,I.current)||l(G(i,I.current)),x.setState({userSelectionRect:g,userSelectionActive:!0,nodesSelectionActive:!1})}:g,onPointerUp:S?e=>{if(0!==e.button||!R.current)return;e.target?.releasePointerCapture?.(e.pointerId);let{userSelectionRect:n}=x.getState();!b&&n&&e.target===N.current&&z?.(e),x.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:j.current.size>0}),c?.(e),(t||u)&&(A.current=!1),R.current=!1}:void 0,onPointerLeave:m,ref:N,style:el,children:[y,(0,o.jsx)(eh,{})]})}function em({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:u,onError:l}=t.getState(),c=u.get(e);if(!c){l?.("012",s.xc.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&a)&&(i({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function ey({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:a,nodeClickDistance:s}){_();let[u,l]=(0,i.useState)(!1);return(0,i.useRef)(),u}let ex=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function ew(){let e=_();return(0,i.useCallback)(t=>{let{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:u,nodeLookup:l,nodeOrigin:c}=e.getState(),d=new Map,f=ex(i),h=r?o[0]:5,p=r?o[1]:5,g=t.direction.x*h*t.factor,v=t.direction.y*p*t.factor;for(let[,e]of l){if(!f(e))continue;let t={x:e.internals.positionAbsolute.x+g,y:e.internals.positionAbsolute.y+v};r&&(t=(0,s.s_)(t,o));let{position:i,positionAbsolute:u}=(0,s.aE)({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:a});e.position=i,e.internals.positionAbsolute=u,d.set(e.id,e)}u(d)},[])}let e_=(0,i.createContext)(null),eb=e_.Provider;e_.Consumer;let eE=()=>(0,i.useContext)(e_),eC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),ek=(e,t,n)=>r=>{let{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:u,toHandle:l,isValid:c}=a,d=l?.nodeId===e&&l?.id===t&&l?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:d,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:i===s.WZ.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!o,valid:d&&c}},eS=(0,i.memo)(ee(function({type:e="source",position:t=s.yX.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:u=!0,id:l,onConnect:c,children:d,className:f,onMouseDown:h,onTouchStart:p,...g},m){let y=l||null,x="target"===e,b=_(),E=eE(),{connectOnClick:C,noPanClassName:k,rfId:S}=w(eC,v),{connectingFrom:N,connectingTo:M,clickConnecting:j,isPossibleEndHandle:I,connectionInProcess:A,clickConnectionInProcess:R,valid:z}=w(ek(E,y,e),v);E||b.getState().onError?.("010",s.xc.error010());let P=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=b.getState(),o={...t,...e};if(r){let{edges:e,setEdges:t}=b.getState();t((0,s.rN)(o,e))}n?.(o),c?.(o)},O=e=>{if(!E)return;let t=(0,s.Er)(e.nativeEvent);if(i&&(t&&0===e.button||!t)){let t=b.getState();s.aQ.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:x,handleId:y,nodeId:E,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:P,isValidConnection:n||t.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?h?.(e):p?.(e)};return(0,o.jsx)("div",{"data-handleid":y,"data-nodeid":E,"data-handlepos":t,"data-id":`${S}-${E}-${y}-${e}`,className:a(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",k,f,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:u,clickconnecting:j,connectingfrom:N,connectingto:M,valid:z,connectionindicator:r&&(!A||I)&&(A||R?u:i)}]),onMouseDown:O,onTouchStart:O,onClick:C?t=>{let{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:a,connectionMode:u,isValidConnection:l,lib:c,rfId:d,nodeLookup:f,connection:h}=b.getState();if(!E||!a&&!i)return;if(!a){r?.(t.nativeEvent,{nodeId:E,handleId:y,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:E,type:e,id:y}});return}let p=(0,s.oj)(t.target),g=n||l,{connection:v,isValid:m}=s.aQ.isValid(t.nativeEvent,{handle:{nodeId:E,id:y,type:e},connectionMode:u,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:g,flowId:d,doc:p,lib:c,nodeLookup:f});m&&v&&P(v);let x=structuredClone(h);delete x.inProgress,x.toPosition=x.toHandle?x.toHandle.position:null,o?.(t,x),b.setState({connectionClickStartHandle:null})}:void 0,ref:m,...g,children:d})})),eN={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},eM={input:function({data:e,isConnectable:t,sourcePosition:n=s.yX.Bottom}){return(0,o.jsxs)(o.Fragment,{children:[e?.label,(0,o.jsx)(eS,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=s.yX.Top,sourcePosition:r=s.yX.Bottom}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eS,{type:"target",position:n,isConnectable:t}),e?.label,(0,o.jsx)(eS,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=s.yX.Top}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eS,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},ej=e=>{let{width:t,height:n,x:r,y:o}=(0,s.aZ)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,s.kf)(t)?t:null,height:(0,s.kf)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function eI({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=_(),{width:s,height:u,transformString:l,userSelectionActive:c}=w(ej,v),d=ew(),f=(0,i.useRef)(null);if(ey({nodeRef:f}),c||!s||!u)return null;let h=e?t=>{e(t,r.getState().nodes.filter(e=>e.selected))}:void 0;return(0,o.jsx)("div",{className:a(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:(0,o.jsx)("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(eN,e.key)&&(e.preventDefault(),d({direction:eN[e.key],factor:e.shiftKey?4:1}))},style:{width:s,height:u}})})}let eA=void 0,eR=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function ez({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,paneClickDistance:u,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:f,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:g,panActivationKeyCode:v,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:b,panOnScroll:E,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:S,panOnDrag:N,defaultViewport:M,translateExtent:j,minZoom:I,maxZoom:A,preventScrolling:R,onSelectionContextMenu:z,noWheelClassName:P,noPanClassName:O,disableKeyboardA11y:$,onViewportChange:D,isControlledViewport:T}){let{nodesSelectionActive:B,userSelectionActive:L}=w(eR),U=W(c,{target:eA}),V=W(v,{target:eA}),F=V||N,H=V||E,Y=d&&!0!==F,q=U||L||Y;return function({deleteKeyCode:e,multiSelectionKeyCode:t}){_();let{deleteElements:n}=ea();W(e,es),W(t,{target:eu})}({deleteKeyCode:l,multiSelectionKeyCode:g}),(0,o.jsx)(ed,{onPaneContextMenu:a,elementsSelectable:y,zoomOnScroll:x,zoomOnPinch:b,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:k,zoomOnDoubleClick:S,panOnDrag:!U&&F,defaultViewport:M,translateExtent:j,minZoom:I,maxZoom:A,zoomActivationKeyCode:m,preventScrolling:R,noWheelClassName:P,noPanClassName:O,onViewportChange:D,isControlledViewport:T,paneClickDistance:u,children:(0,o.jsxs)(ev,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:F,isSelecting:!!q,selectionMode:f,selectionKeyPressed:U,selectionOnDrag:Y,children:[e,B&&(0,o.jsx)(eI,{onSelectionContextMenu:z,noPanClassName:O,disableKeyboardA11y:$})]})})}ez.displayName="FlowRenderer";let eP=(0,i.memo)(ez),eO=e=>t=>e?(0,s.U$)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),e$=e=>e.updateNodeInternals;function eD({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:u,onContextMenu:l,onDoubleClick:c,nodesDraggable:d,elementsSelectable:f,nodesConnectable:h,nodesFocusable:p,resizeObserver:g,noDragClassName:m,noPanClassName:y,disableKeyboardA11y:x,rfId:b,nodeTypes:E,nodeClickDistance:k,onError:S}){let{node:N,internals:M,isParent:j}=w(t=>{let n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},v),I=N.type||"default",A=E?.[I]||eM[I];void 0===A&&(S?.("003",s.xc.error003(I)),I="default",A=eM.default);let R=!!(N.draggable||d&&void 0===N.draggable),z=!!(N.selectable||f&&void 0===N.selectable),P=!!(N.connectable||h&&void 0===N.connectable),O=!!(N.focusable||p&&void 0===N.focusable),$=_(),D=(0,s.QE)(N),T=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){_();let o=(0,i.useRef)(null);return(0,i.useRef)(null),(0,i.useRef)(e.sourcePosition),(0,i.useRef)(e.targetPosition),(0,i.useRef)(t),n&&e.internals.handleBounds,o}({node:N,nodeType:I,hasDimensions:D,resizeObserver:g}),B=ey({nodeRef:T,disabled:N.hidden||!R,noDragClassName:m,handleSelector:N.dragHandle,nodeId:e,isSelectable:z,nodeClickDistance:k}),L=ew();if(N.hidden)return null;let U=(0,s.uD)(N),V=void 0===N.internals.handleBounds?{width:N.width??N.initialWidth??N.style?.width,height:N.height??N.initialHeight??N.style?.height}:{width:N.width??N.style?.width,height:N.height??N.style?.height},F=z||R||t||n||r||u,H=n?e=>n(e,{...M.userNode}):void 0,W=r?e=>r(e,{...M.userNode}):void 0,Y=u?e=>u(e,{...M.userNode}):void 0,q=l?e=>l(e,{...M.userNode}):void 0,X=c?e=>c(e,{...M.userNode}):void 0;return(0,o.jsx)("div",{className:a(["react-flow__node",`react-flow__node-${I}`,{[y]:R},N.className,{selected:N.selected,selectable:z,parent:j,draggable:R,dragging:B}]),ref:T,style:{zIndex:M.z,transform:`translate(${M.positionAbsolute.x}px,${M.positionAbsolute.y}px)`,pointerEvents:F?"all":"none",visibility:D?"visible":"hidden",...N.style,...V},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:W,onMouseLeave:Y,onContextMenu:q,onClick:n=>{let{selectNodesOnDrag:r,nodeDragThreshold:o}=$.getState();z&&(!r||!R||o>0)&&em({id:e,store:$,nodeRef:T}),t&&t(n,{...M.userNode})},onDoubleClick:X,onKeyDown:O?t=>{!(0,s.v5)(t.nativeEvent)&&!x&&(s.tn.includes(t.key)&&z?em({id:e,store:$,unselect:"Escape"===t.key,nodeRef:T}):R&&N.selected&&Object.prototype.hasOwnProperty.call(eN,t.key)&&(t.preventDefault(),$.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~M.positionAbsolute.x}, y: ${~~M.positionAbsolute.y}`}),L({direction:eN[t.key],factor:t.shiftKey?4:1})))}:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":x?void 0:`${C}-${b}`,"aria-label":N.ariaLabel,children:(0,o.jsx)(eb,{value:e,children:(0,o.jsx)(A,{id:e,data:N.data,type:I,positionAbsoluteX:M.positionAbsolute.x,positionAbsoluteY:M.positionAbsolute.y,selected:N.selected??!1,selectable:z,draggable:R,deletable:N.deletable??!0,isConnectable:P,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:B,dragHandle:N.dragHandle,zIndex:M.z,parentId:N.parentId,...U})})})}let eT=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function eB(e){var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,onError:u}=w(eT,v),l=(t=e.onlyRenderVisibleElements,w((0,i.useCallback)(eO(t),[t]),v)),c=function(){let e=w(e$),[t]=(0,i.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return t}();return(0,o.jsx)("div",{className:"react-flow__nodes",style:el,children:l.map(t=>(0,o.jsx)(eD,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:c,nodesDraggable:n,nodesConnectable:r,nodesFocusable:a,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:u},t))})}eB.displayName="NodeRenderer";let eL=(0,i.memo)(eB),eU={[s.TG.Arrow]:({color:e="none",strokeWidth:t=1})=>(0,o.jsx)("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[s.TG.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>(0,o.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},eV=({id:e,type:t,color:n,width:r=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{let d=function(e){let t=_();return(0,i.useMemo)(()=>Object.prototype.hasOwnProperty.call(eU,e)?eU[e]:(t.getState().onError?.("009",s.xc.error009(e)),null),[e])}(t);return d?(0,o.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:c,refX:"0",refY:"0",children:(0,o.jsx)(d,{color:n,strokeWidth:l})}):null},eF=({defaultColor:e,rfId:t})=>{let n=w(e=>e.edges),r=w(e=>e.defaultEdgeOptions),a=(0,i.useMemo)(()=>(0,s.Hm)(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return a.length?(0,o.jsx)("svg",{className:"react-flow__marker",children:(0,o.jsx)("defs",{children:a.map(e=>(0,o.jsx)(eV,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};eF.displayName="MarkerDefinitions";var eH=(0,i.memo)(eF);function eW({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:u,labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:f,...h}){let[p,g]=(0,i.useState)({x:1,y:0,width:0,height:0}),v=a(["react-flow__edge-textwrapper",f]),m=(0,i.useRef)(null);return n?(0,o.jsxs)("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:v,visibility:p.width?"visible":"hidden",...h,children:[s&&(0,o.jsx)("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:u,rx:c,ry:c}),(0,o.jsx)("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:m,style:r,children:n}),d]}):null}eW.displayName="EdgeText";let eY=(0,i.memo)(eW);function eq({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{...h,d:e,fill:"none",className:a(["react-flow__edge-path",h.className])}),f&&(0,o.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),r&&(0,s.kf)(t)&&(0,s.kf)(n)?(0,o.jsx)(eY,{x:t,y:n,label:r,labelStyle:i,labelShowBg:u,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function eX({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===s.yX.Left||e===s.yX.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function eG({sourceX:e,sourceY:t,sourcePosition:n=s.yX.Bottom,targetX:r,targetY:o,targetPosition:i=s.yX.Top}){let[a,u]=eX({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=eX({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,f,h,p]=(0,s.e_)({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:u,targetControlX:l,targetControlY:c});return[`M${e},${t} C${a},${u} ${l},${c} ${r},${o}`,d,f,h,p]}function eZ(e){return(0,i.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:u=s.yX.Bottom,targetPosition:l=s.yX.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,interactionWidth:x})=>{let[w,_,b]=eG({sourceX:n,sourceY:r,sourcePosition:u,targetX:i,targetY:a,targetPosition:l}),E=e.isInternal?void 0:t;return(0,o.jsx)(eq,{id:E,path:w,labelX:_,labelY:b,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,interactionWidth:x})})}let eK=eZ({isInternal:!1}),eQ=eZ({isInternal:!0});function eJ(e){return(0,i.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=s.yX.Bottom,targetPosition:v=s.yX.Top,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{let[_,b,E]=(0,s.oN)({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:a,targetPosition:v,borderRadius:x?.borderRadius,offset:x?.offset}),C=e.isInternal?void 0:t;return(0,o.jsx)(eq,{id:C,path:_,labelX:b,labelY:E,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:m,markerStart:y,interactionWidth:w})})}eK.displayName="SimpleBezierEdge",eQ.displayName="SimpleBezierEdgeInternal";let e0=eJ({isInternal:!1}),e1=eJ({isInternal:!0});function e2(e){return(0,i.memo)(({id:t,...n})=>{let r=e.isInternal?void 0:t;return(0,o.jsx)(e0,{...n,id:r,pathOptions:(0,i.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}e0.displayName="SmoothStepEdge",e1.displayName="SmoothStepEdgeInternal";let e5=e2({isInternal:!1}),e3=e2({isInternal:!0});function e4(e){return(0,i.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m})=>{let[y,x,w]=(0,s.ah)({sourceX:n,sourceY:r,targetX:i,targetY:a}),_=e.isInternal?void 0:t;return(0,o.jsx)(eq,{id:_,path:y,labelX:x,labelY:w,label:u,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m})})}e5.displayName="StepEdge",e3.displayName="StepEdgeInternal";let e6=e4({isInternal:!1}),e9=e4({isInternal:!0});function e8(e){return(0,i.memo)(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:a,sourcePosition:u=s.yX.Bottom,targetPosition:l=s.yX.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,pathOptions:x,interactionWidth:w})=>{let[_,b,E]=(0,s.Fp)({sourceX:n,sourceY:r,sourcePosition:u,targetX:i,targetY:a,targetPosition:l,curvature:x?.curvature}),C=e.isInternal?void 0:t;return(0,o.jsx)(eq,{id:C,path:_,labelX:b,labelY:E,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:v,markerEnd:m,markerStart:y,interactionWidth:w})})}e6.displayName="StraightEdge",e9.displayName="StraightEdgeInternal";let e7=e8({isInternal:!1}),te=e8({isInternal:!0});e7.displayName="BezierEdge",te.displayName="BezierEdgeInternal";let tt={default:te,straight:e9,step:e3,smoothstep:e1,simplebezier:eQ},tn={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},tr=(e,t,n)=>n===s.yX.Left?e-t:n===s.yX.Right?e+t:e,to=(e,t,n)=>n===s.yX.Top?e-t:n===s.yX.Bottom?e+t:e,ti="react-flow__edgeupdater";function ta({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:u,type:l}){return(0,o.jsx)("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:u,className:a([ti,`${ti}-${l}`]),cx:tr(t,r,e),cy:to(n,r,e),r:r,stroke:"transparent",fill:"transparent"})}function ts({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:a,targetY:u,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:g}){let v=_(),m=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:r,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:u,lib:l,onConnectStart:c,onConnectEnd:g,cancelConnection:m,nodeLookup:y,rfId:x,panBy:w,updateConnection:_}=v.getState(),b="target"===t.type;p(!0),f?.(e,n,t.type),s.aQ.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:a,connectionRadius:u,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:y,isTarget:b,edgeUpdaterType:t.type,lib:l,flowId:x,cancelConnection:m,panBy:w,isValidConnection:i,onConnect:e=>d?.(n,e),onConnectStart:c,onConnectEnd:g,onReconnectEnd:(e,r)=>{p(!1),h?.(e,n,t.type,r)},updateConnection:_,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle})},y=()=>g(!0),x=()=>g(!1);return(0,o.jsxs)(o.Fragment,{children:[(!0===e||"source"===e)&&(0,o.jsx)(ta,{position:l,centerX:r,centerY:i,radius:t,onMouseDown:e=>m(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:y,onMouseOut:x,type:"source"}),(!0===e||"target"===e)&&(0,o.jsx)(ta,{position:c,centerX:a,centerY:u,radius:t,onMouseDown:e=>m(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:y,onMouseOut:x,type:"target"})]})}function tu({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:u,onDoubleClick:l,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,reconnectRadius:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:y,rfId:x,edgeTypes:b,noPanClassName:E,onError:C,disableKeyboardA11y:S}){let N=w(t=>t.edgeLookup.get(e)),M=w(e=>e.defaultEdgeOptions),j=(N=M?{...M,...N}:N).type||"default",I=b?.[j]||tt[j];void 0===I&&(C?.("011",s.xc.error011(j)),j="default",I=tt.default);let A=!!(N.focusable||t&&void 0===N.focusable),R=void 0!==g&&(N.reconnectable||n&&void 0===N.reconnectable),z=!!(N.selectable||r&&void 0===N.selectable),P=(0,i.useRef)(null),[O,$]=(0,i.useState)(!1),[D,T]=(0,i.useState)(!1),B=_(),{zIndex:L,sourceX:U,sourceY:V,targetX:F,targetY:H,sourcePosition:W,targetPosition:Y}=w((0,i.useCallback)(t=>{let n=t.nodeLookup.get(N.source),r=t.nodeLookup.get(N.target);if(!n||!r)return{zIndex:N.zIndex,...tn};let o=(0,s.b5)({id:e,sourceNode:n,targetNode:r,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:t.connectionMode,onError:C});return{zIndex:(0,s.qX)({selected:N.selected,zIndex:N.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...o||tn}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),v),q=(0,i.useMemo)(()=>N.markerStart?`url('#${(0,s.aW)(N.markerStart,x)}')`:void 0,[N.markerStart,x]),X=(0,i.useMemo)(()=>N.markerEnd?`url('#${(0,s.aW)(N.markerEnd,x)}')`:void 0,[N.markerEnd,x]);if(N.hidden||null===U||null===V||null===F||null===H)return null;let G=l?e=>{l(e,{...N})}:void 0,Z=c?e=>{c(e,{...N})}:void 0,K=d?e=>{d(e,{...N})}:void 0,Q=f?e=>{f(e,{...N})}:void 0,J=h?e=>{h(e,{...N})}:void 0;return(0,o.jsx)("svg",{style:{zIndex:L},children:(0,o.jsxs)("g",{className:a(["react-flow__edge",`react-flow__edge-${j}`,N.className,E,{selected:N.selected,animated:N.animated,inactive:!z&&!u,updating:O,selectable:z}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:o}=B.getState();z&&(B.setState({nodesSelectionActive:!1}),N.selected&&o?(r({nodes:[],edges:[N]}),P.current?.blur()):n([e])),u&&u(t,N)},onDoubleClick:G,onContextMenu:Z,onMouseEnter:K,onMouseMove:Q,onMouseLeave:J,onKeyDown:A?t=>{if(!S&&s.tn.includes(t.key)&&z){let{unselectNodesAndEdges:n,addSelectedEdges:r}=B.getState();"Escape"===t.key?(P.current?.blur(),n({edges:[N]})):r([e])}}:void 0,tabIndex:A?0:void 0,role:A?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===N.ariaLabel?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":A?`${k}-${x}`:void 0,ref:P,children:[!D&&(0,o.jsx)(I,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:z,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:U,sourceY:V,targetX:F,targetY:H,sourcePosition:W,targetPosition:Y,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:q,markerEnd:X,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),R&&(0,o.jsx)(ts,{edge:N,isReconnectable:R,reconnectRadius:p,onReconnect:g,onReconnectStart:m,onReconnectEnd:y,sourceX:U,sourceY:V,targetX:F,targetY:H,sourcePosition:W,targetPosition:Y,setUpdateHover:$,setReconnecting:T})]})})}let tl=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function tc({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:a,onReconnect:u,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:g,onReconnectStart:m,onReconnectEnd:y,disableKeyboardA11y:x}){let{edgesFocusable:_,edgesReconnectable:b,elementsSelectable:E,onError:C}=w(tl,v),k=w((0,i.useCallback)(e=>{if(!t)return e.edges.map(e=>e.id);let n=[];if(e.width&&e.height)for(let t of e.edges){let r=e.nodeLookup.get(t.source),o=e.nodeLookup.get(t.target);r&&o&&(0,s.uj)({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&n.push(t.id)}return n},[t]),v);return(0,o.jsxs)("div",{className:"react-flow__edges",children:[(0,o.jsx)(eH,{defaultColor:e,rfId:n}),k.map(e=>(0,o.jsx)(tu,{id:e,edgesFocusable:_,edgesReconnectable:b,elementsSelectable:E,noPanClassName:a,onReconnect:u,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:f,onClick:h,reconnectRadius:p,onDoubleClick:g,onReconnectStart:m,onReconnectEnd:y,rfId:n,onError:C,edgeTypes:r,disableKeyboardA11y:x},e))]})}tc.displayName="EdgeRenderer";let td=(0,i.memo)(tc),tf=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function th({children:e}){let t=w(tf);return(0,o.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let tp=e=>e.panZoom?.syncViewport;function tg(e){return e.connection.inProgress?{...e.connection,to:(0,s.Ff)(e.connection.to,e.transform)}:{...e.connection}}let tv=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tm({containerStyle:e,style:t,type:n,component:r}){let{nodesConnectable:i,width:u,height:l,isValid:c,inProgress:d}=w(tv,v);return u&&i&&d?(0,o.jsx)("svg",{style:e,width:u,height:l,className:"react-flow__connectionline react-flow__container",children:(0,o.jsx)("g",{className:a(["react-flow__connection",(0,s.HF)(c)]),children:(0,o.jsx)(ty,{style:t,type:n,CustomComponent:r,isValid:c})})}):null}let ty=({style:e,type:t=s.Do.Bezier,CustomComponent:n,isValid:r})=>{let{inProgress:i,from:a,fromNode:u,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:h,toPosition:p}=function(e){return w(tg,v)}();if(!i)return;if(n)return(0,o.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:u,fromHandle:l,fromX:a.x,fromY:a.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:p,connectionStatus:(0,s.HF)(r),toNode:f,toHandle:h});let g="",m={sourceX:a.x,sourceY:a.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:p};switch(t){case s.Do.Bezier:[g]=(0,s.Fp)(m);break;case s.Do.SimpleBezier:[g]=eG(m);break;case s.Do.Step:[g]=(0,s.oN)({...m,borderRadius:0});break;case s.Do.SmoothStep:[g]=(0,s.oN)(m);break;default:[g]=(0,s.ah)(m)}return(0,o.jsx)("path",{d:g,fill:"none",className:"react-flow__connection-path",style:e})};ty.displayName="ConnectionLine";let tx={};function tw(e=tx){(0,i.useRef)(e),_()}function t_({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:a,onNodeDoubleClick:s,onEdgeDoubleClick:u,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:x,selectionKeyCode:b,selectionOnDrag:E,selectionMode:C,multiSelectionKeyCode:k,panActivationKeyCode:S,zoomActivationKeyCode:N,deleteKeyCode:M,onlyRenderVisibleElements:j,elementsSelectable:I,defaultViewport:A,translateExtent:R,minZoom:z,maxZoom:P,preventScrolling:O,defaultMarkerColor:$,zoomOnScroll:D,zoomOnPinch:T,panOnScroll:B,panOnScrollSpeed:L,panOnScrollMode:U,zoomOnDoubleClick:V,panOnDrag:F,onPaneClick:H,onPaneMouseEnter:W,onPaneMouseMove:Y,onPaneMouseLeave:q,onPaneScroll:X,onPaneContextMenu:G,paneClickDistance:Z,nodeClickDistance:K,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,onReconnect:er,onReconnectStart:eo,onReconnectEnd:ei,noDragClassName:es,noWheelClassName:eu,noPanClassName:el,disableKeyboardA11y:ec,nodeExtent:ed,rfId:ef,viewport:eh,onViewportChange:ep}){return tw(e),tw(t),_(),(0,i.useRef)(!1),ea(),(0,i.useRef)(!1),w(tp),_(),(0,o.jsx)(eP,{onPaneClick:H,onPaneMouseEnter:W,onPaneMouseMove:Y,onPaneMouseLeave:q,onPaneContextMenu:G,onPaneScroll:X,paneClickDistance:Z,deleteKeyCode:M,selectionKeyCode:b,selectionOnDrag:E,selectionMode:C,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:k,panActivationKeyCode:S,zoomActivationKeyCode:N,elementsSelectable:I,zoomOnScroll:D,zoomOnPinch:T,zoomOnDoubleClick:V,panOnScroll:B,panOnScrollSpeed:L,panOnScrollMode:U,panOnDrag:F,defaultViewport:A,translateExtent:R,minZoom:z,maxZoom:P,onSelectionContextMenu:h,preventScrolling:O,noDragClassName:es,noWheelClassName:eu,noPanClassName:el,disableKeyboardA11y:ec,onViewportChange:ep,isControlledViewport:!!eh,children:(0,o.jsxs)(th,{children:[(0,o.jsx)(td,{edgeTypes:t,onEdgeClick:a,onEdgeDoubleClick:u,onReconnect:er,onReconnectStart:eo,onReconnectEnd:ei,onlyRenderVisibleElements:j,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,defaultMarkerColor:$,noPanClassName:el,disableKeyboardA11y:ec,rfId:ef}),(0,o.jsx)(tm,{style:m,type:v,component:y,containerStyle:x}),(0,o.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,o.jsx)(eL,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:K,onlyRenderVisibleElements:j,noPanClassName:el,noDragClassName:es,disableKeyboardA11y:ec,nodeExtent:ed,rfId:ef}),(0,o.jsx)("div",{className:"react-flow__viewport-portal"})]})})}t_.displayName="GraphView";let tb=(0,i.memo)(t_),tE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:l}={})=>{let c=new Map,d=new Map,f=new Map,h=new Map,p=r??t??[],g=n??e??[],v=u??[0,0],m=l??s.ZO;(0,s.qn)(f,h,p),(0,s.bi)(g,c,d,{nodeOrigin:v,nodeExtent:m,elevateNodesOnSelect:!1});let y=[0,0,1];if(a&&o&&i){let e=(0,s.aZ)(c,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),{x:t,y:n,zoom:r}=(0,s.R4)(e,o,i,.5,2,.1);y=[t,n,r]}return{rfId:"1",width:0,height:0,transform:y,nodes:g,nodeLookup:c,parentLookup:d,edges:p,edgeLookup:h,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:s.ZO,nodeExtent:m,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:s.WZ.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:a??!1,fitViewOptions:void 0,fitViewResolver:null,connection:{...s.bK},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:s.KE,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},tC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:l})=>g((c,d)=>{async function f(){let{nodeLookup:e,panZoom:t,fitViewOptions:n,fitViewResolver:r,width:o,height:i,minZoom:a,maxZoom:u}=d();t&&(await (0,s.IO)({nodes:e,width:o,height:i,panZoom:t,minZoom:a,maxZoom:u},n),r?.resolve(!0),c({fitViewResolver:null}))}return{...tE({nodes:e,edges:t,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o,fitViewQueued:i}=d(),a=(0,s.bi)(e,t,n,{nodeOrigin:r,nodeExtent:l,elevateNodesOnSelect:o,checkEquality:!0});i&&a?(f(),c({nodes:e,fitViewQueued:!1,fitViewOptions:void 0})):c({nodes:e})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=d();(0,s.qn)(t,n,e),c({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=d();t(e),c({hasDefaultNodes:!0})}if(t){let{setEdges:e}=d();e(t),c({hasDefaultEdges:!0})}},updateNodeInternals:e=>{let{triggerNodeChanges:t,nodeLookup:n,parentLookup:r,domNode:o,nodeOrigin:i,nodeExtent:a,debug:u,fitViewQueued:l}=d(),{changes:h,updatedInternals:p}=(0,s.uL)(e,n,r,o,i,a);p&&((0,s.vS)(n,r,{nodeOrigin:i,nodeExtent:a}),l?(f(),c({fitViewQueued:!1,fitViewOptions:void 0})):c({}),h?.length>0&&(u&&console.log("React Flow: trigger node changes",h),t?.(h)))},updateNodePositions:(e,t=!1)=>{let n=[],r=[],{nodeLookup:o,triggerNodeChanges:i}=d();for(let[i,a]of e){let e=o.get(i),s=!!(e?.expandParent&&e?.parentId&&a?.position),u={id:i,type:"position",position:s?{x:Math.max(0,a.position.x),y:Math.max(0,a.position.y)}:a.position,dragging:t};s&&e.parentId&&n.push({id:i,parentId:e.parentId,rect:{...a.internals.positionAbsolute,width:a.measured.width??0,height:a.measured.height??0}}),r.push(u)}if(n.length>0){let{parentLookup:e,nodeOrigin:t}=d(),i=(0,s.r8)(n,o,e,t);r.push(...i)}i(r)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=d();e?.length&&(o&&n(q(e,r)),i&&console.log("React Flow: trigger node changes",e),t?.(e))},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=d();e?.length&&(o&&n(q(e,r)),i&&console.log("React Flow: trigger edge changes",e),t?.(e))},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=d();if(t){o(e.map(e=>X(e,!0)));return}o(G(r,new Set([...e]),!0)),i(G(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=d();if(t){i(e.map(e=>X(e,!0)));return}i(G(n,new Set([...e]))),o(G(r,new Set,!0))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=d(),s=(e||r).map(e=>{let t=o.get(e.id);return t&&(t.selected=!1),X(e.id,!1)}),u=(t||n).map(e=>X(e.id,!1));i(s),a(u)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=d();t?.setScaleExtent([e,n]),c({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=d();t?.setScaleExtent([n,e]),c({maxZoom:e})},setTranslateExtent:e=>{d().panZoom?.setTranslateExtent(e),c({translateExtent:e})},setPaneClickDistance:e=>{d().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r}=d(),o=t.reduce((e,t)=>t.selected?[...e,X(t.id,!1)]:e,[]),i=e.reduce((e,t)=>t.selected?[...e,X(t.id,!1)]:e,[]);n(o),r(i)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,nodeExtent:a}=d();(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])&&((0,s.bi)(t,n,r,{nodeOrigin:o,nodeExtent:e,elevateNodesOnSelect:i,checkEquality:!1}),c({nodeExtent:e}))},panBy:e=>{let{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=d();return(0,s.No)({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},cancelConnection:()=>{c({connection:{...s.bK}})},updateConnection:e=>{c({connection:e})},reset:()=>c({...tE()})}},Object.is);function tk({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:a,initialHeight:s,fitView:u,nodeOrigin:l,nodeExtent:c,children:d}){let[f]=(0,i.useState)(()=>tC({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:a,height:s,fitView:u,nodeOrigin:l,nodeExtent:c}));return(0,o.jsx)(y,{value:f,children:(0,o.jsx)(eo,{children:d})})}function tS({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:a,width:s,height:u,fitView:l,nodeOrigin:c,nodeExtent:d}){return(0,i.useContext)(m)?(0,o.jsx)(o.Fragment,{children:e}):(0,o.jsx)(tk,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:a,initialWidth:s,initialHeight:u,fitView:l,nodeOrigin:c,nodeExtent:d,children:e})}let tN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var tM=ee(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:u,nodeTypes:l,edgeTypes:c,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:v,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:b,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:S,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:I,onNodesDelete:R,onEdgesDelete:z,onDelete:P,onSelectionChange:O,onSelectionDragStart:$,onSelectionDrag:L,onSelectionDragStop:U,onSelectionContextMenu:V,onSelectionStart:H,onSelectionEnd:W,onBeforeDelete:Y,connectionMode:q,connectionLineType:X=s.Do.Bezier,connectionLineStyle:G,connectionLineComponent:Z,connectionLineContainerStyle:K,deleteKeyCode:Q="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ee=!1,selectionMode:et=s.Qc.Full,panActivationKeyCode:en="Space",multiSelectionKeyCode:er=(0,s.Ue)()?"Meta":"Control",zoomActivationKeyCode:eo=(0,s.Ue)()?"Meta":"Control",snapToGrid:ei,snapGrid:ea,onlyRenderVisibleElements:es=!1,selectNodesOnDrag:eu,nodesDraggable:el,nodesConnectable:ec,nodesFocusable:ed,nodeOrigin:ef=T,edgesFocusable:eh,edgesReconnectable:ep,elementsSelectable:eg=!0,defaultViewport:ev=B,minZoom:em=.5,maxZoom:ey=2,translateExtent:ex=s.ZO,preventScrolling:ew=!0,nodeExtent:e_,defaultMarkerColor:eb="#b1b1b7",zoomOnScroll:eE=!0,zoomOnPinch:eC=!0,panOnScroll:ek=!1,panOnScrollSpeed:eS=.5,panOnScrollMode:eN=s.ny.Free,zoomOnDoubleClick:eM=!0,panOnDrag:ej=!0,onPaneClick:eI,onPaneMouseEnter:eA,onPaneMouseMove:eR,onPaneMouseLeave:ez,onPaneScroll:eP,onPaneContextMenu:eO,paneClickDistance:e$=0,nodeClickDistance:eD=0,children:eT,onReconnect:eB,onReconnectStart:eL,onReconnectEnd:eU,onEdgeContextMenu:eV,onEdgeDoubleClick:eF,onEdgeMouseEnter:eH,onEdgeMouseMove:eW,onEdgeMouseLeave:eY,reconnectRadius:eq=10,onNodesChange:eX,onEdgesChange:eG,noDragClassName:eZ="nodrag",noWheelClassName:eK="nowheel",noPanClassName:eQ="nopan",fitView:eJ,fitViewOptions:e0,connectOnClick:e1,attributionPosition:e2,proOptions:e5,defaultEdgeOptions:e3,elevateNodesOnSelect:e4,elevateEdgesOnSelect:e6,disableKeyboardA11y:e9=!1,autoPanOnConnect:e8,autoPanOnNodeDrag:e7,autoPanSpeed:te,connectionRadius:tt,isValidConnection:tn,onError:tr,style:to,id:ti,nodeDragThreshold:ta,viewport:ts,onViewportChange:tu,width:tl,height:tc,colorMode:td="light",debug:tf,onScroll:th,...tp},tg){let tv=ti||"1",tm=function(e){let[t,n]=(0,i.useState)("system"===e?null:e);return null!==t?t:"light"}(td),ty=(0,i.useCallback)(e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),th?.(e)},[th]);return(0,o.jsx)("div",{"data-testid":"rf__wrapper",...tp,onScroll:ty,style:{...to,...tN},ref:tg,className:a(["react-flow",u,tm]),id:ti,children:(0,o.jsxs)(tS,{nodes:e,edges:t,width:tl,height:tc,fitView:eJ,nodeOrigin:ef,nodeExtent:e_,children:[(0,o.jsx)(tb,{onInit:h,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:b,onNodeMouseMove:E,onNodeMouseLeave:C,onNodeContextMenu:k,onNodeDoubleClick:S,nodeTypes:l,edgeTypes:c,connectionLineType:X,connectionLineStyle:G,connectionLineComponent:Z,connectionLineContainerStyle:K,selectionKeyCode:J,selectionOnDrag:ee,selectionMode:et,deleteKeyCode:Q,multiSelectionKeyCode:er,panActivationKeyCode:en,zoomActivationKeyCode:eo,onlyRenderVisibleElements:es,defaultViewport:ev,translateExtent:ex,minZoom:em,maxZoom:ey,preventScrolling:ew,zoomOnScroll:eE,zoomOnPinch:eC,zoomOnDoubleClick:eM,panOnScroll:ek,panOnScrollSpeed:eS,panOnScrollMode:eN,panOnDrag:ej,onPaneClick:eI,onPaneMouseEnter:eA,onPaneMouseMove:eR,onPaneMouseLeave:ez,onPaneScroll:eP,onPaneContextMenu:eO,paneClickDistance:e$,nodeClickDistance:eD,onSelectionContextMenu:V,onSelectionStart:H,onSelectionEnd:W,onReconnect:eB,onReconnectStart:eL,onReconnectEnd:eU,onEdgeContextMenu:eV,onEdgeDoubleClick:eF,onEdgeMouseEnter:eH,onEdgeMouseMove:eW,onEdgeMouseLeave:eY,reconnectRadius:eq,defaultMarkerColor:eb,noDragClassName:eZ,noWheelClassName:eK,noPanClassName:eQ,rfId:tv,disableKeyboardA11y:e9,nodeExtent:e_,viewport:ts,onViewportChange:tu}),(0,o.jsx)(F,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:x,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:el,nodesConnectable:ec,nodesFocusable:ed,edgesFocusable:eh,edgesReconnectable:ep,elementsSelectable:eg,elevateNodesOnSelect:e4,elevateEdgesOnSelect:e6,minZoom:em,maxZoom:ey,nodeExtent:e_,onNodesChange:eX,onEdgesChange:eG,snapToGrid:ei,snapGrid:ea,connectionMode:q,translateExtent:ex,connectOnClick:e1,defaultEdgeOptions:e3,fitView:eJ,fitViewOptions:e0,onNodesDelete:R,onEdgesDelete:z,onDelete:P,onNodeDragStart:N,onNodeDrag:j,onNodeDragStop:I,onSelectionDrag:L,onSelectionDragStart:$,onSelectionDragStop:U,onMove:p,onMoveStart:g,onMoveEnd:v,noPanClassName:eQ,nodeOrigin:ef,rfId:tv,autoPanOnConnect:e8,autoPanOnNodeDrag:e7,autoPanSpeed:te,onError:tr,connectionRadius:tt,isValidConnection:tn,selectNodesOnDrag:eu,nodeDragThreshold:ta,onBeforeDelete:Y,paneClickDistance:e$,debug:tf}),(0,o.jsx)(D,{onSelectionChange:O}),eT,(0,o.jsx)(A,{proOptions:e5,position:e2}),(0,o.jsx)(M,{rfId:tv,disableKeyboardA11y:e9})]})})});function tj(e){let[t,n]=(0,i.useState)(e),r=(0,i.useCallback)(e=>n(t=>q(e,t)),[]);return[t,n,r]}function tI(e){let[t,n]=(0,i.useState)(e),r=(0,i.useCallback)(e=>n(t=>q(e,t)),[]);return[t,n,r]}function tA({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,o.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:a(["react-flow__background-pattern",n,r])})}function tR({radius:e,className:t}){return(0,o.jsx)("circle",{cx:e,cy:e,r:e,className:a(["react-flow__background-pattern","dots",t])})}s.xc.error014(),!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(r||(r={}));let tz={[r.Dots]:1,[r.Lines]:1,[r.Cross]:6},tP=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function tO({id:e,variant:t=r.Dots,gap:n=20,size:s,lineWidth:u=1,offset:l=0,color:c,bgColor:d,style:f,className:h,patternClassName:p}){let g=(0,i.useRef)(null),{transform:m,patternId:y}=w(tP,v),x=s||tz[t],_=t===r.Dots,b=t===r.Cross,E=Array.isArray(n)?n:[n,n],C=[E[0]*m[2]||1,E[1]*m[2]||1],k=x*m[2],S=Array.isArray(l)?l:[l,l],N=b?[k,k]:C,M=[S[0]*m[2]||1+N[0]/2,S[1]*m[2]||1+N[1]/2],j=`${y}${e||""}`;return(0,o.jsxs)("svg",{className:a(["react-flow__background",h]),style:{...f,...el,"--xy-background-color-props":d,"--xy-background-pattern-color-props":c},ref:g,"data-testid":"rf__background",children:[(0,o.jsx)("pattern",{id:j,x:m[0]%C[0],y:m[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:_?(0,o.jsx)(tR,{radius:k/2,className:p}):(0,o.jsx)(tA,{dimensions:N,lineWidth:u,variant:t,className:p})}),(0,o.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${j})`})]})}tO.displayName="Background";let t$=(0,i.memo)(tO),tD=(0,i.memo)(function({id:e,x:t,y:n,width:r,height:i,style:s,color:u,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:h,selected:p,onClick:g}){let{background:v,backgroundColor:m}=s||{};return(0,o.jsx)("rect",{className:a(["react-flow__minimap-node",{selected:p},d]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:u||v||m,stroke:l,strokeWidth:c},shapeRendering:h,onClick:g?t=>g(t,e):void 0})}),tT=e=>e.nodes.map(e=>e.id),tB=e=>e instanceof Function?e:()=>e,tL=(0,i.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:a,shapeRendering:u,NodeComponent:l,onClick:c}){let{node:d,x:f,y:h,width:p,height:g}=w(t=>{let n=t.nodeLookup.get(e),{x:r,y:o}=n.internals.positionAbsolute,{width:i,height:a}=(0,s.uD)(n);return{node:n,x:r,y:o,width:i,height:a}},v);return d&&!d.hidden&&(0,s.QE)(d)?(0,o.jsx)(l,{x:f,y:h,width:p,height:g,style:d.style,selected:!!d.selected,className:r(d),color:t(d),borderRadius:i,strokeColor:n(d),strokeWidth:a,shapeRendering:u,onClick:c,id:d.id}):null}),tU=e=>!e.hidden,tV=e=>e.domNode?.querySelector(".react-flow__renderer"),tF=(e,t)=>e?.internals.positionAbsolute.x!==t?.internals.positionAbsolute.x||e?.internals.positionAbsolute.y!==t?.internals.positionAbsolute.y||e?.measured.width!==t?.measured.width||e?.measured.height!==t?.measured.height||e?.selected!==t?.selected||e?.internals.z!==t?.internals.z},9447:(e,t,n)=>{var r=n(92471);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(e){return e.key})},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11643:(e,t,n)=>{"use strict";n.d(t,{sW:()=>s,c$:()=>l,Qd:()=>d,RM:()=>c,Ej:()=>f,Y6:()=>h,hz:()=>p,Yu:()=>v,WH:()=>y,Js:()=>x,Or:()=>E,oC:()=>C,ML:()=>_,xr:()=>k,rc:()=>g});var r=n(40372),o=n.n(r),i=n(81193),a=n.n(i);class s{constructor(e=[]){this.items=e}add(e){let t=Array.isArray(e)?e:[e];return this.items.push(...t),this}remove(e){let t=(Array.isArray(e)?e:[e]).map(e=>e.id);return this.items=this.items.filter(e=>!t.includes(e.id)),this}removeById(e){let t=Array.isArray(e)?e:[e];return this.items=this.items.filter(e=>!t.includes(e.id)),this}removeManyBy(e){return this.items=this.items.filter(t=>!e(t)),this}removeManyByWhere(e){return this.items=this.items.filter(t=>!Object.entries(e).every(([e,n])=>t[e]===n)),this}update(e){return(Array.isArray(e)?e:[e]).forEach(e=>{let t=this.items.findIndex(t=>t.id===e.id);-1!==t&&(this.items[t]=e)}),this}updateById(e,t){return(Array.isArray(e)?e:[e]).forEach(e=>{let n=this.items.findIndex(t=>t.id===e);-1!==n&&(this.items[n]={...this.items[n],...t})}),this}updateManyBy(e){return this.items=this.items.map(t=>e(t)),this}updateManyByWhere(e,t){return this.items=this.items.map(n=>Object.entries(e).every(([e,t])=>n[e]===t)?{...n,...t}:n),this}findById(e){return this.items.find(t=>t.id===e)}findBy(e){return this.items.find(e)}findManyBy(e){return this.items.filter(e)}findManyByWhere(e){return this.items.filter(t=>Object.entries(e).every(([e,n])=>t[e]===n))}has(e){return this.items.some(t=>t.id===e.id)}hasById(e){return this.items.some(t=>t.id===e)}result(){return a().cloneDeep(this.items)}}var u=n(56119);let l="preview-node",c=e=>({id:Date.now().toString(),type:e,position:{x:0,y:0},data:{title:""}}),d=(e,t)=>({id:Date.now().toString(),type:"smoothstep",source:e,target:t}),f=(e,t)=>{let n=c(t),r=d(e.id,n.id);return{node:n,edge:r}},h=(e,t)=>({id:"preview-edge",source:e,target:t,type:"smoothstep",animated:!0,style:{opacity:.5,strokeDasharray:"5,5",stroke:"#6495ED",strokeWidth:2.5}}),p=e=>({...e,id:l,draggable:!1,style:{...e.style,opacity:.5,outline:"dashed 2.5px rgba(24, 144, 255, 1)",borderRadius:4,backgroundColor:"#fff"}}),g=e=>{let{edges:t,nodes:n}=e,r=new(o()).graphlib.Graph().setDefaultEdgeLabel(()=>({}));return r.setGraph({rankdir:"LR",nodesep:10,ranksep:50}),t?.forEach(e=>r.setEdge(e.source,e.target)),n?.forEach(e=>{r.setNode(e.id,{...e,width:e.measured?.width??0,height:e.measured?.height??0})}),o().layout(r),{edges:t,nodes:n?.map(e=>{let t=r.node(e.id),n=t.x-("taskCard"===e.type?(e.measured?.width??0)/3:0),o=t.y-(e.measured?.height??0)/2;return{...e,position:{x:n,y:o}}})}},v=e=>{let{nodes:t,edges:n}=e;return t.forEach(e=>{if(e.style?.display==="none")return;let{descendantNodes:r,descendantEdges:o}=b(e,t,n);r.forEach(t=>{t.style={display:e.data.fold?"none":"block"}}),o.forEach(t=>{t.style={display:e.data.fold?"none":"block"}})}),{nodes:t,edges:n}},m=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),y=(e,t)=>{let n=new Map;t.forEach(e=>{n.has(e.source)||n.set(e.source,[]),n.get(e.source)?.push(e.target)});let r=[],o=new Set,i=[e.id];for(;i.length>0;){let e=i.shift();(n.get(e)||[]).forEach(e=>{o.has(e)||(o.add(e),r.push(e),i.push(e))})}return r},x=(e,t,n)=>{let r=y(e,n);return t.filter(e=>r.includes(e.id))},w=(e,t)=>{let n=[];return t.forEach(t=>{t.target!==e.id||n.includes(t.source)||n.push(t.source)}),n},_=(e,t,n)=>{let r=w(e,n);return t.filter(e=>r.includes(e.id))},b=(e,t,n)=>{let r=y(e,n),o=n.filter(e=>r.includes(e.target)).map(e=>e.id);return{descendantIds:r,descendantEdgeIds:o,descendantNodes:t.filter(e=>r.includes(e.id)),descendantEdges:n.filter(e=>o.includes(e.id))}},E=(e,t)=>t.filter(t=>t.source===e.id||t.target===e.id),C=e=>{let{node:t,nodes:n,descendantIds:r}=e;if(!t||!n?.length)return n;let o=n.find(e=>e.id===t.id);if(!o)return n;let i=t.position.x-o.position.x,a=t.position.y-o.position.y;return new s(n).updateManyBy(e=>((r?.includes(e.id)||t.id===e.id)&&(e.position.x+=i,e.position.y+=a,e.style={...e.style,zIndex:1}),e)).result()},k=e=>{let t;let{node:n,nodes:r,edges:o,intersectingNodes:i}=e,a=y(n,o);if(n&&r?.length){if(i?.length===1&&i[0]&&i[0].id!==l)t=i[0];else{let e=r.map(e=>({node:e,distance:m(n.position,e.position)})).filter(e=>e.node.id!==n.id&&!a.includes(e.node.id)).sort((e,t)=>e.distance-t.distance);150>(e[0]?.distance||0)&&e[0]?.node.id!==l&&(t=e[0]?.node)}return n.type===u.Z.Group&&t?.type===u.Z.TaskCard&&(t=void 0),t}}},11693:e=>{e.exports=function(e,t){return e>t}},12437:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return -1}},12543:(e,t,n)=>{var r=n(16546);e.exports=function(e,t){return r(e,t,"post")}},12693:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{_:()=>u});var o=n(18726),i=n(20299),a=n(25491),s=e([a]);a=(s.then?(await s)():s)[0];let u=e=>{let{nodes:t,edges:n,setNodes:r,setEdges:s,onNodesChange:u,onEdgesChange:l}=e,{onKeyDown:c}=(0,o.X)({nodes:t,edges:n,setNodes:r,setEdges:s}),{preview:d,isPreview:f,onNodeDrag:h,onNodeDragStop:p}=(0,i.o)({nodes:t,edges:n,setNodes:r,setEdges:s}),g=(0,a.Q)({isPreview:f,onNodesChange:u,onEdgesChange:l});return{preview:d,onKeyDown:c,onNodeDrag:h,onNodeDragStop:p,...g}};r()}catch(e){r(e)}})},13050:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});let r=e=>{let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},o=e=>e?r(e):r},13346:(e,t,n)=>{var r=n(17625),o=n(85378),i=n(24162);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},13538:e=>{e.exports=function(e){return void 0===e}},13940:function(e){var t,n,r,o,i,a,s,u,l,c,d,f,h;r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,i={years:31536e6,months:2628e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},a=function(e){return e instanceof f},s=function(e,t,n){return new f(e,n,t.$l)},u=function(e){return n.p(e)+"s"},l=function(e){return e<0},c=function(e){return l(e)?Math.ceil(e):Math.floor(e)},d=function(e,t){return e?l(e)?{negative:!0,format:""+Math.abs(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},f=function(){function e(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return s(e*i[u(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach(function(t){r.$d[u(t)]=e[t]}),this.calMilliseconds(),this;if("string"==typeof e){var a=e.match(o);if(a){var l=a.slice(2).map(function(e){return null!=e?Number(e):0});return this.$d.years=l[0],this.$d.months=l[1],this.$d.weeks=l[2],this.$d.days=l[3],this.$d.hours=l[4],this.$d.minutes=l[5],this.$d.seconds=l[6],this.calMilliseconds(),this}}return this}var l=e.prototype;return l.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(t,n){return t+(e.$d[n]||0)*i[n]},0)},l.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=c(e/31536e6),e%=31536e6,this.$d.months=c(e/2628e6),e%=2628e6,this.$d.days=c(e/864e5),e%=864e5,this.$d.hours=c(e/36e5),e%=36e5,this.$d.minutes=c(e/6e4),e%=6e4,this.$d.seconds=c(e/1e3),e%=1e3,this.$d.milliseconds=e},l.toISOString=function(){var e=d(this.$d.years,"Y"),t=d(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=d(n,"D"),o=d(this.$d.hours,"H"),i=d(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3,a=Math.round(1e3*a)/1e3);var s=d(a,"S"),u=e.negative||t.negative||r.negative||o.negative||i.negative||s.negative,l=o.format||i.format||s.format?"T":"",c=(u?"-":"")+"P"+e.format+t.format+r.format+l+o.format+i.format+s.format;return"P"===c||"-P"===c?"P0D":c},l.toJSON=function(){return this.toISOString()},l.format=function(e){var t={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return(e||"YYYY-MM-DDTHH:mm:ss").replace(r,function(e,n){return n||String(t[e])})},l.as=function(e){return this.$ms/i[u(e)]},l.get=function(e){var t=this.$ms,n=u(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?c(t/i[n]):this.$d[n],t||0},l.add=function(e,t,n){var r;return r=t?e*i[u(t)]:a(e)?e.$ms:s(e,this).$ms,s(this.$ms+r*(n?-1:1),this)},l.subtract=function(e,t){return this.add(e,t,!0)},l.locale=function(e){var t=this.clone();return t.$l=e,t},l.clone=function(){return s(this.$ms,this)},l.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},l.valueOf=function(){return this.asMilliseconds()},l.milliseconds=function(){return this.get("milliseconds")},l.asMilliseconds=function(){return this.as("milliseconds")},l.seconds=function(){return this.get("seconds")},l.asSeconds=function(){return this.as("seconds")},l.minutes=function(){return this.get("minutes")},l.asMinutes=function(){return this.as("minutes")},l.hours=function(){return this.get("hours")},l.asHours=function(){return this.as("hours")},l.days=function(){return this.get("days")},l.asDays=function(){return this.as("days")},l.weeks=function(){return this.get("weeks")},l.asWeeks=function(){return this.as("weeks")},l.months=function(){return this.get("months")},l.asMonths=function(){return this.as("months")},l.years=function(){return this.get("years")},l.asYears=function(){return this.as("years")},e}(),h=function(e,t,n){return e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms")},e.exports=function(e,r,o){t=o,n=o().$utils(),o.duration=function(e,t){return s(e,{$l:o.locale()},t)},o.isDuration=a;var i=r.prototype.add,u=r.prototype.subtract;r.prototype.add=function(e,t){return a(e)?h(this,e,1):i.bind(this)(e,t)},r.prototype.subtract=function(e,t){return a(e)?h(this,e,-1):u.bind(this)(e,t)}}},14014:(e,t,n)=>{"use strict";var r=n(46795),o=n(89049).Graph;function i(e,t,n,o){var i;do i=r.uniqueId(o);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}e.exports={addDummyNode:i,simplify:function(e){var t=new o().setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,l=e.height/2;if(!a&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)});var o=0,i=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%i!=0?--o:o&&r.forEach(t,function(t){e.node(t).rank+=o})})},addBorderNode:function(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}}},14513:e=>{e.exports={border:"Border_border__xN_6B",hover:"Border_hover__HZnzf",selected:"Border_selected__kggRn"}},15100:(e,t,n)=>{e.exports={Graph:n(20171),version:n(15912)}},15439:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{p:()=>l});var o=n(13486),i=n(60159),a=n(35412),s=n(15568),u=e([a]);a=(u.then?(await u)():u)[0];let l=e=>{let{isEdit:t,autoFocus:n,value:r,mode:u="input",onChange:l}=e,[c,d]=(0,i.useState)(r);(0,s.useDebounceEffect)(()=>{l(c)},[c]);let f="input"===u?a.pde:a.pde.TextArea;return t?(0,o.jsx)(f,{autoFocus:n,value:c,placeholder:"请输入内容",onChange:e=>{d(e.target.value||"")}}):(0,o.jsx)("div",{className:"overflow-hidden text-ellipsis whitespace-pre",style:{color:r?"":"#ddd"},children:r||"请输入内容"})};r()}catch(e){r(e)}})},15912:e=>{e.exports="2.1.8"},16308:(e,t,n)=>{var r=n(39605);e.exports=function(e,t){return r(t,function(t){return e[t]})}},16546:(e,t,n)=>{var r=n(92471);e.exports=function(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return r.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);(function e(t,n,o,i,a,s){!r.has(i,n)&&(i[n]=!0,o||s.push(n),r.each(a(n),function(n){e(t,n,o,i,a,s)}),o&&s.push(n))})(e,t,"post"===n,a,o,i)}),i}},16869:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{e:()=>l});var o=n(13486),i=n(35412),a=n(26230),s=n(11643),u=e([i,a]);[i,a]=u.then?(await u)():u;let l=e=>{let{parentNode:t}=e,{nodes:n,edges:r,setNodes:u}=(0,a.Fo)(),l=(0,s.WH)(t,r).length;return(0,o.jsx)("div",{onClick:()=>{t.data.fold=!t.data.fold,u(new s.sW(n).updateById(t.id,t).result())},children:t.data.fold?(0,o.jsx)("div",{style:{width:15,height:15,display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(24, 144, 255, 1)",backgroundColor:"#fff",border:"1.5px solid rgba(24, 144, 255, 1)",fontSize:10,cursor:"pointer",borderRadius:"50%"},children:l}):(0,o.jsx)(i.MWI,{style:{color:"rgba(24, 144, 255, 1)",fontSize:14,backgroundColor:"#fff"}})})};r()}catch(e){r(e)}})},16917:(e,t,n)=>{var r=n(92471);e.exports=function(e){var t=0,n=[],o={},i=[];return e.nodes().forEach(function(a){r.has(o,a)||function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))}),u.lowlink===u.index){var l,c=[];do o[l=n.pop()].onStack=!1,c.push(l);while(s!==l);i.push(c)}}(a)}),i}},17040:(e,t,n)=>{var r=n(92471);e.exports=function(e,t,n){var r,i,a,s,u;return r=e,i=t||o,a=n||function(t){return e.outEdges(t)},s={},(u=r.nodes()).forEach(function(e){s[e]={},s[e][e]={distance:0},u.forEach(function(t){e!==t&&(s[e][t]={distance:Number.POSITIVE_INFINITY})}),a(e).forEach(function(t){var n=t.v===e?t.w:t.v,r=i(t);s[e][n]={distance:r,predecessor:e}})}),u.forEach(function(e){var t=s[e];u.forEach(function(n){var r=s[n];u.forEach(function(n){var o=r[e],i=t[n],a=r[n],s=o.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),s};var o=r.constant(1)},17051:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{c:()=>u});var o=n(56119),i=n(18273),a=n(21835),s=e([i,a]);[i,a]=s.then?(await s)():s;let u={[o.Z.Group]:i.Y,[o.Z.TaskCard]:a.y};r()}catch(e){r(e)}})},17060:(e,t,n)=>{"use strict";var r=n(46795),o=n(87173);e.exports={run:function(e){var t,n,i,a,s,u="greedy"===e.graph().acyclicer?o(e,(t=e,function(e){return t.edge(e).weight})):(n=e,i=[],a={},s={},r.forEach(n.nodes(),function e(t){!r.has(s,t)&&(s[t]=!0,a[t]=!0,r.forEach(n.outEdges(t),function(t){r.has(a,t.w)?i.push(t):e(t.w)}),delete a[t])}),i);r.forEach(u,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},17194:(e,t,n)=>{var r=n(93040),o=n(79542),i=n(85378),a=n(76979),s=Object.prototype,u=s.hasOwnProperty;e.exports=r(function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;for(l&&i(t[0],t[1],l)&&(r=1);++n<r;)for(var c=t[n],d=a(c),f=-1,h=d.length;++f<h;){var p=d[f],g=e[p];(void 0===g||o(g,s[p])&&!u.call(e,p))&&(e[p]=c[p])}return e})},17625:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,s=n(t((r-e)/(o||1)),0),u=Array(s);s--;)u[i?s:++a]=e,e+=o;return u}},17710:(e,t,n)=>{var r=n(13103),o=n(49976),i=n(76979);e.exports=function(e,t){return null==e?e:r(e,o(t),i)}},18273:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{Y:()=>f});var o=n(13486),i=n(60159),a=n(35412),s=n(69462),u=n(26230),l=n(11643),c=n(84420),d=e([a,s,u]);[a,s,u]=d.then?(await d)():d;let f=e=>{let{selected:t,dragging:n,data:r}=e,{setEditing:d}=(0,c.O)(),[f,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{d(f)},[f,d]),(0,i.useEffect)(()=>{r.editing&&(delete r.editing,h(!0),setTimeout(()=>document.querySelector("input")?.focus(),300))},[r,h]);let[p,g]=(0,i.useState)(e?.data.title||""),{nodes:v,edges:m,setNodes:y}=(0,u.Fo)(),x=(0,i.useMemo)(()=>{let t=(0,l.Js)(e,v,m);return t.length?t[0]?.type==="group":void 0},[m,v,e]),w=()=>{h(!0),g(e?.data.title||"")},_=e=>{g(e.target.value||"")},b=()=>{h(!1),y(t=>t.map(t=>t.id===e.id?{...t,data:{...t.data,title:p}}:t))},E=()=>{b()},C=e=>{"Enter"===e.key&&f&&b()};return(0,o.jsx)(s.h7,{children:(0,o.jsx)(s.tU,{children:({isHovered:r})=>(0,o.jsx)(s.VH,{selected:t,isHovered:r,children:(0,o.jsx)(s.xe,{parentNode:e,showAddBtn:x,isHovered:r,selected:t,dragging:n,children:(0,o.jsx)("div",{style:{backgroundColor:"rgb(249, 250, 251)"},children:f?(0,o.jsx)("div",{style:{padding:5},onDragOver:e=>e.preventDefault(),children:(0,o.jsx)(a.pde,{autoFocus:!0,bordered:!1,value:p,onChange:_,onBlur:E,onKeyDown:C})}):(0,o.jsx)("div",{onDoubleClick:w,style:{padding:"5px 10px",color:e?.data.title?"":"#ddd"},children:e?.data.title||"双击编辑"})})})})})})};r()}catch(e){r(e)}})},18585:e=>{var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",o="[^"+t+"]",i="(?:\ud83c[\udde6-\uddff]){2}",a="[\ud800-\udbff][\udc00-\udfff]",s="(?:"+n+"|"+r+")?",u="[\\ufe0e\\ufe0f]?",l="(?:\\u200d(?:"+[o,i,a].join("|")+")"+u+s+")*",c=RegExp(r+"(?="+r+")|"+("(?:"+[o+n+"?",n,i,a,"["+t+"]"].join("|"))+")"+(u+s+l),"g");e.exports=function(e){for(var t=c.lastIndex=0;c.test(e);)++t;return t}},18726:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(17121),o=n(11643);let i=e=>{let{nodes:t=[],edges:n=[],setEdges:i,setNodes:a}=e,s=r._.cloneDeep(t),u=r._.cloneDeep(n);return{onKeyDown:e=>{let r=e.target.dataset.id,l=t.find(e=>e.id===r),c=n.find(e=>e.target===r)?.source,d=t.find(e=>e.id===c);if("Enter"===e.key){if(!d||!l?.type)return;let{node:e,edge:t}=(0,o.Ej)(d,l.type),n=s.find(e=>e.id===l.id);n&&(n.selected=!1),e.selected=!0,e.data.editing=!0,s.push(e),a(s),u.push(t),i(u)}}}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20171:(e,t,n)=>{"use strict";var r=n(92471);function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function s(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}function u(e,t){return s(e,t.v,t.w,t.name)}e.exports=o,o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},o.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},o.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,function(e){n.length>1?o.setNode(e,t):o.setNode(e)}),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?arguments.length>1&&(this._nodes[e]=t):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t="\0";else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){var t;return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var o={};return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,function e(r){var i=n.parent(r);return void 0===i||t.hasNode(i)?(o[r]=i,i):i in o?o[i]:e(i)}(e))}),t},o.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},o.prototype.setEdge=function(){var e,t,n,o,a=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(e=u.v,t=u.w,n=u.name,2==arguments.length&&(o=arguments[1],a=!0)):(e=u,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var l=s(this._isDirected,e,t,n);if(r.has(this._edgeLabels,l))return a&&(this._edgeLabels[l]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[l]=a?o:this._defaultEdgeLabelFn(e,t,n);var c=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=c.v,t=c.w,Object.freeze(c),this._edgeObjs[l]=c,i(this._preds[t],e),i(this._sucs[e],t),this._in[t][l]=c,this._out[e][l]=c,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var o=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(e,t,n){var r=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.v===t}):o}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.w===t}):o}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},20299:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(60159),o=n(9127),i=n(17121),a=n(11643),s=n(86048),u=n.n(s);let l=e=>{let{nodes:t=[],edges:n=[],setEdges:s}=e,{getIntersectingNodes:l}=(0,o.VH)(),[c,d]=(0,r.useState)(null),f=(e,t)=>{let r=l(e);return(0,a.xr)({node:e,nodes:t,edges:n,intersectingNodes:r})};return{onNodeDrag:(e,r)=>{let o=i._.cloneDeep(t),s=i._.cloneDeep(n);o=(0,a.oC)({node:r,nodes:o,descendantIds:(0,a.WH)(r,n)});let l=f(r,o);if(l){s=s.filter(e=>e.target!==r.id);let e=(0,a.hz)(r);s.push((0,a.Y6)(l.id,e.id)),o.push(e);let{nodes:t}=(0,a.rc)({nodes:o,edges:s});e.position=t?.find(t=>t.id===e.id)?.position||e.position,o.forEach(e=>{e.id===l?.id?e.className?.includes(u().snap)||(e.className=(e.className||"")+u().snap):e.className=e.className?.replace(u().snap,"")})}d({nodes:o,edges:s})},onNodeDragStop:(e,r)=>{let o=i._.cloneDeep(t),l=i._.cloneDeep(n),c=l.find(e=>e.target===r.id),h=f(r,o);h&&(c?c.source=h.id:l.push((0,a.Qd)(h.id,r.id)),s(l),h.className=h.className?.replace(u().snap,"")),d(null)},preview:c,isPreview:!!(c?.nodes?.length||c?.edges?.length)}}},21835:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{y:()=>h});var o=n(13486),i=n(60159),a=n(52306),s=n(69462),u=n(17121),l=n(15568),c=n(26230),d=n(84420),f=e([a,s,c]);[a,s,c]=f.then?(await f)():f;let h=e=>{let{selected:t,dragging:n,data:r}=e,{title:f,description:h,dates:p,tags:g,preTaskStatus:v,executionRecords:m=[]}=r,{nodes:y,edges:x,setNodes:w}=(0,c.Fo)(),[_,{setTrue:b,setFalse:E}]=(0,l.useBoolean)(!1),{setEditing:C}=(0,d.O)();(0,i.useEffect)(()=>{C(_)},[_,C]),(0,i.useEffect)(()=>{r.editing&&(delete r.editing,b(),setTimeout(()=>document.querySelector("input")?.focus(),300))},[r,b]);let k=y.some(e=>e.dragging);(0,i.useEffect)(()=>{k&&E()},[k,E]);let{status:S,statusStyle:N}=(0,c.vg)(e,y,x),M=t=>{w(n=>n.map(n=>n.id===e.id?{...n,data:{...n.data,...t}}:n))},j=()=>{void 0===r.result&&b()};return(0,o.jsx)(s.h7,{children:(0,o.jsx)(s.tU,{children:({isHovered:r})=>(0,o.jsx)(s.VH,{selected:t,isHovered:r,style:N,children:(0,o.jsx)(s.xe,{parentNode:e,showAddBtn:!1,isHovered:r,selected:t,dragging:n,children:(0,o.jsx)("div",{className:"w-[280px] rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:(0,o.jsxs)("div",{className:"p-3",onDoubleClick:j,children:[_&&(0,o.jsx)(a.ff,{onClick:E}),(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)(a.hE,{title:f,isEdit:_,onChange:M}),!_&&(0,o.jsx)(a.wr,{status:S,onChange:M,executionRecords:u._.cloneDeep(m)})]}),(0,o.jsx)(a.AO,{dates:p,isEdit:_,onChange:M}),(0,o.jsx)(a.VY,{description:h,isEdit:_,onChange:M}),(0,o.jsx)(a.Vm,{executionRecords:m,isEdit:_,onChange:M}),(0,o.jsx)(a.YD,{tags:g,isEdit:_,onChange:M}),(0,o.jsx)(a.t_,{preTaskStatus:v,isEdit:_,onChange:M})]})})})})})})};r()}catch(e){r(e)}})},24162:(e,t,n)=>{var r=n(5856),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},24778:(e,t,n)=>{var r=n(86400),o=n(49655),i=n(62323);e.exports=function(e){return i(o(e,void 0,r),e+"")}},25438:(e,t,n)=>{var r=n(64830),o=n(479),i=n(37263);e.exports=function(e,t){var n={};return t=i(t,3),o(e,function(e,o,i){r(n,o,t(e,o,i))}),n}},25491:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{Q:()=>l});var o=n(13486),i=n(35412),a=n(7296),s=n(11643),u=e([i]);i=(u.then?(await u)():u)[0];let l=e=>{let{isPreview:t,onEdgesChange:n,onNodesChange:r}=e,{nodes:u,edges:l}=(0,a.F)(),c=e=>{let t=(0,s.Or)(e,l);t.length>0&&n(t.map(e=>({...e,type:"remove"})))};return{onNodesChange:e=>{if(t)return;let n=e.filter(e=>"remove"===e.type);n.length>0?i.aFV.confirm({title:"确定要删除选中的节点吗",content:(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Sc0,{checked:!0}),(0,o.jsx)("span",{className:"ml-1",children:"是否删除所有子节点"})]}),onOk:()=>{r(n),n.forEach(e=>{c(e)}),n.forEach(e=>{let t=(0,s.Js)(e,u,l);r(t.map(e=>({id:e.id,type:"remove"}))),t.forEach(e=>{c(e)})})}}):r(e)},onEdgesChange:e=>{if(t)return;let r=e.filter(e=>!["remove"].includes(e.type));r.length>0&&n(r)}}};r()}catch(e){r(e)}})},25743:(e,t,n)=>{"use strict";var r=n(38535).longestPath,o=n(92107),i=n(33790);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:(function(e){i(e)})(e);break;case"tight-tree":var t;r(t=e),o(t);break;case"longest-path":a(e)}};var a=r},26197:(e,t,n)=>{var r=n(59011),o=n(92471);e.exports=function(e,t,n){return o.transform(e.nodes(),function(o,i){o[i]=r(e,i,t,n)},{})}},26230:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{Fo:()=>a.F,_q:()=>s._,ac:()=>o.a,eB:()=>u.e,hW:()=>i.h,vg:()=>l.v});var o=n(42621),i=n(50772),a=n(7296),s=n(12693),u=n(82263),l=n(33730),c=e([o,i,s,u]);[o,i,s,u]=c.then?(await c)():c,r()}catch(e){r(e)}})},26636:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},26820:(e,t,n)=>{var r=n(92471),o=n(16917);e.exports=function(e){return r.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},27920:(e,t,n)=>{var r=n(37263),o=n(53380),i=n(97496);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var u=r(n,3);t=i(t),n=function(e){return u(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[u?t[l]:l]:void 0}}},28393:(e,t,n)=>{var r=n(92471),o=n(20171),i=n(9447);e.exports=function(e,t){var n,a=new o,s={},u=new i;function l(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),u.decrease(e.nodes()[0],0);for(var c=!1;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else if(c)throw Error("Input graph is not connected: "+e);else c=!0;e.nodeEdges(n).forEach(l)}return a}},28471:(e,t,n)=>{var r=n(46795),o=n(14014);e.exports={run:function(e){var t,n,i,a=o.addDummyNode(e,"root",{},"_root"),s=(t=e,n={},r.forEach(t.children(),function(e){!function e(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,function(t){e(t,i+1)}),n[o]=i}(e,1)}),n),u=r.max(r.values(s))-1,l=2*u+1;e.graph().nestingRoot=a,r.forEach(e.edges(),function(t){e.edge(t).minlen*=l});var c=(i=e,r.reduce(i.edges(),function(e,t){return e+i.edge(t).weight},0)+1);r.forEach(e.children(),function(t){(function e(t,n,i,a,s,u,l){var c=t.children(l);if(!c.length){l!==n&&t.setEdge(n,l,{weight:0,minlen:i});return}var d=o.addBorderNode(t,"_bt"),f=o.addBorderNode(t,"_bb"),h=t.node(l);t.setParent(d,l),h.borderTop=d,t.setParent(f,l),h.borderBottom=f,r.forEach(c,function(r){e(t,n,i,a,s,u,r);var o=t.node(r),c=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,g=c!==h?1:s-u[l]+1;t.setEdge(d,c,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(h,f,{weight:p,minlen:g,nestingEdge:!0})}),t.parent(l)||t.setEdge(n,d,{weight:0,minlen:s+u[l]})})(e,a,l,c,u,s,t)}),e.graph().nodeRankFactor=l},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},28516:(e,t,n)=>{var r=n(85180);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;++o<s;){var l=r(i[o],a[o]);if(l){if(o>=u)return l;return l*("desc"==n[o]?-1:1)}}return e.index-t.index}},29065:(e,t,n)=>{var r=n(39605),o=n(56560),i=n(37263),a=n(71034),s=n(32847),u=n(48431),l=n(28516),c=n(31354),d=n(51719);e.exports=function(e,t,n){t=t.length?r(t,function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e}):[c];var f=-1;return t=r(t,u(i)),s(a(e,function(e,n,o){return{criteria:r(t,function(t){return t(e)}),index:++f,value:e}}),function(e,t){return l(e,t,n)})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29606:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.r(t),n.d(t,{default:()=>d});var o=n(13486);n(60159);var i=n(9127),a=n(17051),s=n(84420),u=n(11643),l=n(26230),c=e([a,l]);[a,l]=c.then?(await c)():c;let d=()=>{let{isEditing:e}=(0,s.O)(),{nodes:t,edges:n,prevStateRef:r,setNodes:c,setEdges:d,onEdgesChange:f,onNodesChange:h}=(0,l.ac)();(0,l.hW)({nodes:t,edges:n,prevStateRef:r});let{preview:p,...g}=(0,l._q)({nodes:t,edges:n,setNodes:c,setEdges:d,onNodesChange:h,onEdgesChange:f});return(0,l.eB)({nodes:t,edges:n,handles:[u.Yu,u.rc]}),(0,o.jsx)(i.Gc,{nodes:p?.nodes||t,edges:p?.edges||n,nodeTypes:a.c,minZoom:1,maxZoom:1,fitView:!0,panOnDrag:!e,nodesDraggable:!e,selectNodesOnDrag:!1,fitViewOptions:{padding:.5},...g,children:(0,o.jsx)(i.VS,{})})};r()}catch(e){r(e)}})},30969:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{x:()=>h});var o=n(13486),i=n(69508),a=n(16869),s=n(26230),u=n(11643),l=n(56119),c=n(57513),d=n.n(c),f=e([i,a,s]);[i,a,s]=f.then?(await f)():f;let h=e=>{let{children:t,parentNode:n,selected:r,isHovered:c,dragging:f,showAddBtn:h}=e,{edges:p}=(0,s.Fo)(),g=!!(0,u.WH)(n,p).length,v=!r&&!f&&c&&g,m=r&&!f&&[void 0,!0].includes(h),y=r&&!f&&[void 0,!1].includes(h);return(0,o.jsxs)("div",{children:[t,(0,o.jsxs)("div",{className:d().add,children:[m&&(0,o.jsx)(i.$,{type:l.Z.Group,selected:r,parentNode:n}),y&&(0,o.jsx)(i.$,{type:l.Z.TaskCard,selected:r,parentNode:n}),v&&(0,o.jsx)(a.e,{parentNode:n})]})]})};r()}catch(e){r(e)}})},31530:(e,t,n)=>{var r=n(46795),o=n(89122),i=n(47313),a=n(5015);e.exports=function e(t,n,s,u){var l,c,d=t.children(n),f=t.node(n),h=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,g={};h&&(d=r.filter(d,function(e){return e!==h&&e!==p}));var v=o(t,d);r.forEach(v,function(n){if(t.children(n.v).length){var o,i,a=e(t,n.v,s,u);g[n.v]=a,r.has(a,"barycenter")&&(o=n,i=a,r.isUndefined(o.barycenter)?(o.barycenter=i.barycenter,o.weight=i.weight):(o.barycenter=(o.barycenter*o.weight+i.barycenter*i.weight)/(o.weight+i.weight),o.weight+=i.weight))}});var m=i(v,s);l=m,c=g,r.forEach(l,function(e){e.vs=r.flatten(e.vs.map(function(e){return c[e]?c[e].vs:e}),!0)});var y=a(m,u);if(h&&(y.vs=r.flatten([h,y.vs,p],!0),t.predecessors(h).length)){var x=t.node(t.predecessors(h)[0]),w=t.node(t.predecessors(p)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+x.order+w.order)/(y.weight+2),y.weight+=2}return y}},31908:(e,t,n)=>{"use strict";var r=n(46795);e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),o=r.max(r.map(n,function(t){return e.node(t).rank})),i=r.map(r.range(o+1),function(){return[]}),a=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(a,function n(o){r.has(t,o)||(t[o]=!0,i[e.node(o).rank].push(o),r.forEach(e.successors(o),n))}),i}},32847:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},33730:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(17121),o=n(11643),i=n(56119);let a={[i.e.NOT_DUE]:"outline-gray-200 bg-gray-50",[i.e.NOT_FATHER]:"outline-gray-200 bg-gray-50",[i.e.NOT_STARTED]:"outline-gray-200 bg-white",[i.e.IN_PROGRESS]:"outline-blue-200 bg-blue-50",[i.e.TIMEOUT]:"outline-yellow-200 bg-yellow-50",[i.e.COMPLETED]:"outline-green-200 bg-green-100",[i.e.FAILED]:"outline-red-200 bg-red-100"},s=(e,t,n)=>{let{dates:a,result:u,executionRecords:l,preTaskStatus:c}=e.data,d=(0,o.ML)(e,t,n).filter(e=>e.type===i.Z.TaskCard).map(e=>({...e,data:{...e.data,status:e.data.status||s(e,t,n)}}));return d?.length&&d.some(e=>!c?.includes(e.data?.status))?i.e.NOT_FATHER:a?.length?!0===u?i.e.COMPLETED:!1===u?i.e.FAILED:(0,r.yf)().isBefore((0,r.yf)(a?.[0]).startOf("day"))?i.e.NOT_DUE:(0,r.yf)().isAfter((0,r.yf)(a?.[1]).endOf("day"))?i.e.TIMEOUT:l?.length?i.e.IN_PROGRESS:i.e.NOT_STARTED:i.e.NOT_DUE},u=(e,t,n)=>{let r=e.id===o.c$?i.e.NOT_DUE:s(e,t,n);return{status:r,statusStyle:a[r]}}},33790:(e,t,n)=>{"use strict";var r=n(46795),o=n(92107),i=n(38535).slack,a=n(38535).longestPath,s=n(89049).alg.preorder,u=n(89049).alg.postorder,l=n(14014).simplify;function c(e){a(e=l(e));var t,n,r=o(e);for(h(r),d(r,e);t=p(r);)n=g(r,e,t),v(r,e,t,n)}function d(e,t){var n=u(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){var r,o,i,a;r=e,o=t,i=n,a=r.node(i).parent,r.edge(i,a).cutvalue=f(r,o,i)})}function f(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return a||(i=!1,a=t.edge(o,n)),s=a.weight,r.forEach(t.nodeEdges(n),function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==o){var l,c,d,f=a===i,h=t.edge(r).weight;if(s+=f?h:-h,l=e,c=n,d=u,l.hasEdge(c,d)){var p=e.edge(n,u).cutvalue;s+=f?-p:p}}}),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,o,i,a){var s=o,u=t.node(i);return n[i]=!0,r.forEach(t.neighbors(i),function(a){r.has(n,a)||(o=e(t,n,o,a,i))}),u.low=s,u.lim=o++,a?u.parent=a:delete u.parent,o}(e,{},1,t)}function p(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),u=e.node(a),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var d=r.filter(t.edges(),function(t){return c===m(e,e.node(t.v),l)&&c!==m(e,e.node(t.w),l)});return r.minBy(d,function(e){return i(t,e)})}function v(e,t,n,o){var i,a,u,l,c=n.v,f=n.w;e.removeEdge(c,f),e.setEdge(o.v,o.w,{}),h(e),d(e,t),i=e,a=t,u=r.find(i.nodes(),function(e){return!a.node(e).parent}),l=(l=s(i,u)).slice(1),r.forEach(l,function(e){var t=i.node(e).parent,n=a.edge(e,t),r=!1;n||(n=a.edge(t,e),r=!0),a.node(e).rank=a.node(t).rank+(r?n.minlen:-n.minlen)})}function m(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=h,c.initCutValues=d,c.calcCutValue=f,c.leaveEdge=p,c.enterEdge=g,c.exchangeEdges=v},33873:e=>{"use strict";e.exports=require("path")},34412:e=>{e.exports=function(e,t,n){for(var r=-1,o=e.length,i=t.length,a={};++r<o;){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}},34522:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,H:()=>i});var r=n(56119);let o=[(0,n(11643).RM)(r.Z.Group)],i=[]},34589:e=>{"use strict";e.exports=require("node:assert")},35558:(e,t,n)=>{var r=n(92471);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))}),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=Error()},35651:(e,t,n)=>{e.exports=n(27920)(n(62559))},36935:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(13486),o=n(9127),i=n(72704);let a=e=>{let{children:t}=e;return(0,r.jsxs)("div",{children:[t,(0,r.jsx)(o.h7,{type:"source",position:i.yX.Right,style:{visibility:"hidden"}}),(0,r.jsx)(o.h7,{type:"target",position:i.yX.Left,style:{visibility:"hidden"}})]})}},36945:(e,t,n)=>{e.exports=n(33943)("length")},37415:(e,t,n)=>{"use strict";var r=n(46795),o=n(31908),i=n(3265),a=n(31530),s=n(82954),u=n(86070),l=n(89049).Graph,c=n(14014);function d(e,t,n){return r.map(t,function(t){return s(e,t,n)})}function f(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}e.exports=function(e){var t=c.maxRank(e),n=d(e,r.range(1,t+1),"inEdges"),s=d(e,r.range(t-1,-1,-1),"outEdges"),h=o(e);f(e,h);for(var p,g=Number.POSITIVE_INFINITY,v=0,m=0;m<4;++v,++m){(function(e,t){var n=new l;r.forEach(e,function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,function(t,n){e.node(t).order=n}),u(e,n,i.vs)})})(v%2?n:s,v%4>=2),h=c.buildLayerMatrix(e);var y=i(e,h);y<g&&(m=0,p=r.cloneDeep(h),g=y)}f(e,p)}},38072:(e,t,n)=>{var r=n(15100);e.exports={Graph:r.Graph,json:n(48308),alg:n(58017),version:r.version}},38535:(e,t,n)=>{"use strict";var r=n(46795);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),function(t){return n(t.w)-e.edge(t).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),i.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},38964:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{V:()=>s});var o=n(13486);n(60159);var i=n(15439),a=e([i]);i=(a.then?(await a)():a)[0];let s=e=>{let{isEdit:t,description:n="",onChange:r}=e;return t||n?(0,o.jsx)("div",{className:"mt-2 text-xs text-gray-700 line-clamp-2",children:(0,o.jsx)(i.p,{mode:"textarea",isEdit:t,value:n,onChange:e=>r({description:e})})}):null};r()}catch(e){r(e)}})},39463:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{w:()=>d});var o=n(13486),i=n(60159),a=n(35412),s=n(15568),u=n(84420),l=n(56119),c=e([a]);a=(c.then?(await c)():c)[0];let d=e=>{let{status:t,executionRecords:n=[],onChange:r}=e,c=n[n.length-1],[d,{setTrue:f,setFalse:h}]=(0,s.useBoolean)(!!(n[n.length-1]?.start&&!n[n.length-1]?.end)),{setExecuting:p,isExecuting:g}=(0,u.O)();return((0,i.useEffect)(()=>{p(d)},[d,p]),[l.e.NOT_DUE,l.e.NOT_FATHER,l.e.COMPLETED,l.e.FAILED].includes(t))?null:(0,o.jsxs)("div",{className:"flex items-center gap-1.5",children:[d&&(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"animate-spin h-2.5 w-2.5 border border-blue-500 border-t-transparent rounded-full"}),(0,o.jsx)("span",{className:"ml-1 text-[11px] text-blue-500 whitespace-nowrap",children:"执行中"})]}),(0,o.jsx)("button",{onClick:()=>{if(d)h(),c.end=Date.now(),r({executionRecords:n});else{if(c&&!c.end){a.iUO.error("请先结束上次执行");return}if(g){a.iUO.error("请先结束别的任务");return}f(),n.push({start:Date.now()}),r({executionRecords:n})}},className:`
          p-0.5 rounded transition-colors
          ${d?"text-blue-500 hover:text-blue-600":"text-gray-400 hover:text-gray-500"}
        `,title:d?"停止执行":"开始执行",children:d?(0,o.jsx)(a.Xcy,{}):(0,o.jsx)(a.VgC,{})}),!!c?.end&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{onClick:()=>{r({result:!0})},className:"p-0.5 rounded text-green-500 hover:text-green-600 transition-colors",title:"标记完成",children:(0,o.jsx)(a.hWy,{})}),(0,o.jsx)("button",{onClick:()=>{r({result:!1})},className:"p-0.5 rounded text-red-500 hover:text-red-600 transition-colors",title:"标记失败",children:(0,o.jsx)(a.bBN,{})})]})]})};r()}catch(e){r(e)}})},40372:(e,t,n)=>{e.exports={graphlib:n(89049),layout:n(94012),debug:n(91235),util:{time:n(14014).time,notime:n(14014).notime},version:n(95356)}},41934:(e,t,n)=>{var r=n(26309),o=n(34412);e.exports=function(e,t){return o(e||[],t||[],r)}},42621:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{a:()=>d});var o=n(60159),i=n(9127),a=n(7296),s=n(17121),u=n(34522),l=n(74481),c=e([l]);l=(c.then?(await c)():c)[0];let d=()=>{let[e,t,n]=(0,i.ck)([]),[r,c,d]=(0,i.fM)([]),{fitView:f}=(0,a.F)(),h=(0,o.useRef)(null),p=l.F.taskNode.findMany.useQuery(),g=l.F.taskEdge.findMany.useQuery();return(0,o.useEffect)(()=>{if(p.isLoading||e?.length||g.isLoading||r?.length)return;let n=p?.data?.map(e=>({...e,position:{x:0,y:0}}))||[],o=g.data||[],i=p?.data?.length?n:u.E,a=g?.data?.length?o:u.H;h.current={nodes:s._.cloneDeep(n),edges:s._.cloneDeep(o)},t(i),c(a),setTimeout(()=>{f()},200)},[g,r?.length,f,p,e?.length,c,t]),{nodes:e,edges:r,setNodes:t,setEdges:c,onNodesChange:n,onEdgesChange:d,prevStateRef:h}};r()}catch(e){r(e)}})},43063:(e,t,n)=>{var r=n(82629),o=n(37263),i=n(85302);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},44691:(e,t,n)=>{Promise.resolve().then(n.bind(n,9127))},46617:(e,t,n)=>{var r=n(64339),o=n(38082),i=n(51719),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},46795:(e,t,n)=>{var r;try{r={cloneDeep:n(66617),constant:n(24996),defaults:n(17194),each:n(88109),filter:n(74354),find:n(35651),flatten:n(86400),forEach:n(74656),forIn:n(17710),has:n(59878),isUndefined:n(13538),last:n(61608),map:n(81e3),mapValues:n(25438),max:n(78288),merge:n(29486),min:n(4274),minBy:n(43063),now:n(55554),pick:n(53350),range:n(6995),reduce:n(71962),sortBy:n(80617),uniqueId:n(63738),values:n(72190),zipObject:n(41934)}}catch(e){}r||(r=window._),e.exports=r},47313:(e,t,n)=>{"use strict";var r=n(46795);e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}),function(e){for(var t=[];e.length;){var n=e.pop();t.push(n),r.forEach(n.in.reverse(),function(e){return function(t){!t.merged&&(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),r.forEach(n.out,function(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},47755:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},48308:(e,t,n)=>{var r=n(92471),o=n(20171);e.exports={write:function(e){var t,n,o={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(t=e,r.map(t.nodes(),function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i})),edges:(n=e,r.map(n.edges(),function(e){var t=n.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(t)||(o.value=t),o}))};return r.isUndefined(e.graph())||(o.value=r.clone(e.graph())),o},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},49352:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{t:()=>u});var o=n(13486);n(60159);var i=n(35412),a=n(56119),s=e([i]);i=(s.then?(await s)():s)[0];let u=e=>{let{isEdit:t,preTaskStatus:n=a.e.COMPLETED,onChange:r}=e;return t?(0,o.jsx)("div",{className:"mt-1.5 text-sm font-medium text-gray-900 truncate",style:{width:"100%"},children:(0,o.jsx)(i.l6P,{mode:"tags",style:{width:"100%"},placeholder:"请选择标签",value:n,onChange:e=>r({preTaskStatus:e}),options:[a.e.COMPLETED,a.e.IN_PROGRESS].map(e=>({label:e,value:e}))})}):null};r()}catch(e){r(e)}})},50514:(e,t,n)=>{"use strict";var r=n(46795),o=n(14014),i=n(98455).positionX;e.exports=function(e){var t,n,a,s;t=e=o.asNonCompoundGraph(e),n=o.buildLayerMatrix(t),a=t.graph().ranksep,s=0,r.forEach(n,function(e){var n=r.max(r.map(e,function(e){return t.node(e).height}));r.forEach(e,function(e){t.node(e).y=s+n/2}),s+=n+a}),r.forEach(i(e),function(t,n){e.node(n).x=t})}},50643:e=>{e.exports={task:"styles_task__Am_dW",snap:"styles_snap__WXTZS"}},50772:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{h:()=>u});var o=n(17121),i=n(15568),a=n(74481),s=e([a]);a=(s.then?(await s)():s)[0];let u=e=>{let{nodes:t,edges:n,prevStateRef:r}=e,{nodes:s,edges:u}=r.current||{},l=a.F.taskNode.create.useMutation(),c=a.F.taskNode.update.useMutation(),d=a.F.taskNode.delete.useMutation(),f=a.F.taskEdge.create.useMutation(),h=a.F.taskEdge.update.useMutation(),p=a.F.taskEdge.delete.useMutation();return(0,i.useDebouncedEffect)(async()=>{if(!s||!u)return;let e=t.filter(e=>{let t=s.find(t=>t.id===e.id);return t&&JSON.stringify(t.data)!==JSON.stringify(e.data)}),i=t.filter(e=>!s.find(t=>t.id===e.id)),a=s.filter(e=>!t.find(t=>t.id===e.id)),g=n.filter(e=>{let t=u.find(t=>t.id===e.id);return t&&t.target===e.target&&t.source!==e.source}),v=n.filter(e=>!u.find(t=>t.id===e.id)),m=u.filter(e=>!n.find(t=>t.id===e.id)),y={nodesToCreate:i.length,nodesToUpdate:e.length,nodesToDelete:a.length,edgesToCreate:v.length,edgesToUpdate:g.length,edgesToDelete:m.length};Object.values(y).reduce((e,t)=>e+t,0)>0&&console.log(666,"变更统计",y),await Promise.all([...e.map(e=>c.mutateAsync({where:{id:e.id},data:o._.pick(e,["data"])})),...i.map(e=>l.mutateAsync({data:o._.pick(e,["id","type","data"])})),...a.map(e=>d.mutateAsync({where:{id:e.id}}))]),await Promise.all([...v.map(e=>f.mutateAsync({data:o._.pick(e,["id","type","source","target"])})),...g.map(e=>h.mutateAsync({where:{id:e.id},data:o._.pick(e,["source","target"])})),...m.map(e=>{p.mutateAsync({where:{id:e.id}})})]),r.current={nodes:o._.cloneDeep(t),edges:o._.cloneDeep(n)}},[t,n]),{prevStateRef:r}};r()}catch(e){r(e)}})},51012:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(13486);n(60159);let o=e=>{let{onClick:t}=e;return(0,r.jsx)("div",{className:"flex justify-end mb-1 absolute right-[-50px]",children:(0,r.jsx)("button",{onClick:t,className:"text-xs px-1.5 py-0.5 rounded bg-blue-100 text-blue-700 hover:bg-blue-200",children:"完成"})})}},51455:e=>{"use strict";e.exports=require("node:fs/promises")},52306:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{AO:()=>a.A,VY:()=>i.V,Vm:()=>s.V,YD:()=>c.Y,ff:()=>u.f,hE:()=>o.h,t_:()=>d.t,wr:()=>l.w});var o=n(54844),i=n(38964),a=n(77337),s=n(81904),u=n(51012),l=n(39463),c=n(9083),d=n(49352),f=e([o,i,a,s,l,c,d]);[o,i,a,s,l,c,d]=f.then?(await f)():f,r()}catch(e){r(e)}})},52333:(e,t,n)=>{"use strict";n.d(t,{ReactFlowProvider:()=>o});var r=n(33952);(0,r.registerClientReference)(function(){throw Error("Attempted to call ConnectionLineType() from the server but ConnectionLineType is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ConnectionLineType"),(0,r.registerClientReference)(function(){throw Error("Attempted to call ConnectionMode() from the server but ConnectionMode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ConnectionMode"),(0,r.registerClientReference)(function(){throw Error("Attempted to call MarkerType() from the server but MarkerType is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","MarkerType"),(0,r.registerClientReference)(function(){throw Error("Attempted to call PanOnScrollMode() from the server but PanOnScrollMode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","PanOnScrollMode"),(0,r.registerClientReference)(function(){throw Error("Attempted to call Position() from the server but Position is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","Position"),(0,r.registerClientReference)(function(){throw Error("Attempted to call ResizeControlVariant() from the server but ResizeControlVariant is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ResizeControlVariant"),(0,r.registerClientReference)(function(){throw Error("Attempted to call SelectionMode() from the server but SelectionMode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","SelectionMode"),(0,r.registerClientReference)(function(){throw Error("Attempted to call addEdge() from the server but addEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","addEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getBezierEdgeCenter() from the server but getBezierEdgeCenter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getBezierEdgeCenter"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getBezierPath() from the server but getBezierPath is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getBezierPath"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getConnectedEdges() from the server but getConnectedEdges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getConnectedEdges"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getEdgeCenter() from the server but getEdgeCenter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getEdgeCenter"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getIncomers() from the server but getIncomers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getIncomers"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getNodesBounds() from the server but getNodesBounds is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getNodesBounds"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getOutgoers() from the server but getOutgoers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getOutgoers"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getSmoothStepPath() from the server but getSmoothStepPath is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getSmoothStepPath"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getStraightPath() from the server but getStraightPath is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getStraightPath"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getViewportForBounds() from the server but getViewportForBounds is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getViewportForBounds"),(0,r.registerClientReference)(function(){throw Error("Attempted to call reconnectEdge() from the server but reconnectEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","reconnectEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call Background() from the server but Background is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","Background"),(0,r.registerClientReference)(function(){throw Error("Attempted to call BackgroundVariant() from the server but BackgroundVariant is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","BackgroundVariant"),(0,r.registerClientReference)(function(){throw Error("Attempted to call BaseEdge() from the server but BaseEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","BaseEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call BezierEdge() from the server but BezierEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","BezierEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call ControlButton() from the server but ControlButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ControlButton"),(0,r.registerClientReference)(function(){throw Error("Attempted to call Controls() from the server but Controls is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","Controls"),(0,r.registerClientReference)(function(){throw Error("Attempted to call EdgeLabelRenderer() from the server but EdgeLabelRenderer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","EdgeLabelRenderer"),(0,r.registerClientReference)(function(){throw Error("Attempted to call EdgeText() from the server but EdgeText is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","EdgeText"),(0,r.registerClientReference)(function(){throw Error("Attempted to call Handle() from the server but Handle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","Handle"),(0,r.registerClientReference)(function(){throw Error("Attempted to call MiniMap() from the server but MiniMap is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","MiniMap"),(0,r.registerClientReference)(function(){throw Error("Attempted to call NodeResizeControl() from the server but NodeResizeControl is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","NodeResizeControl"),(0,r.registerClientReference)(function(){throw Error("Attempted to call NodeResizer() from the server but NodeResizer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","NodeResizer"),(0,r.registerClientReference)(function(){throw Error("Attempted to call NodeToolbar() from the server but NodeToolbar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","NodeToolbar"),(0,r.registerClientReference)(function(){throw Error("Attempted to call Panel() from the server but Panel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","Panel"),(0,r.registerClientReference)(function(){throw Error("Attempted to call ReactFlow() from the server but ReactFlow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ReactFlow");let o=(0,r.registerClientReference)(function(){throw Error("Attempted to call ReactFlowProvider() from the server but ReactFlowProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ReactFlowProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call SimpleBezierEdge() from the server but SimpleBezierEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","SimpleBezierEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call SmoothStepEdge() from the server but SmoothStepEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","SmoothStepEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call StepEdge() from the server but StepEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","StepEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call StraightEdge() from the server but StraightEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","StraightEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call ViewportPortal() from the server but ViewportPortal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","ViewportPortal"),(0,r.registerClientReference)(function(){throw Error("Attempted to call applyEdgeChanges() from the server but applyEdgeChanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","applyEdgeChanges"),(0,r.registerClientReference)(function(){throw Error("Attempted to call applyNodeChanges() from the server but applyNodeChanges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","applyNodeChanges"),(0,r.registerClientReference)(function(){throw Error("Attempted to call getSimpleBezierPath() from the server but getSimpleBezierPath is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","getSimpleBezierPath"),(0,r.registerClientReference)(function(){throw Error("Attempted to call isEdge() from the server but isEdge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","isEdge"),(0,r.registerClientReference)(function(){throw Error("Attempted to call isNode() from the server but isNode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","isNode"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useConnection() from the server but useConnection is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useConnection"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useEdges() from the server but useEdges is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useEdges"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useEdgesState() from the server but useEdgesState is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useEdgesState"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useHandleConnections() from the server but useHandleConnections is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useHandleConnections"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useInternalNode() from the server but useInternalNode is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useInternalNode"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useKeyPress() from the server but useKeyPress is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useKeyPress"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodeConnections() from the server but useNodeConnections is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodeConnections"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodeId() from the server but useNodeId is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodeId"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodes() from the server but useNodes is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodes"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodesData() from the server but useNodesData is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodesData"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodesInitialized() from the server but useNodesInitialized is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodesInitialized"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useNodesState() from the server but useNodesState is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useNodesState"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useOnSelectionChange() from the server but useOnSelectionChange is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useOnSelectionChange"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useOnViewportChange() from the server but useOnViewportChange is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useOnViewportChange"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useReactFlow() from the server but useReactFlow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useReactFlow"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useStore() from the server but useStore is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useStore"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useStoreApi() from the server but useStoreApi is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useStoreApi"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useUpdateNodeInternals() from the server but useUpdateNodeInternals is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useUpdateNodeInternals"),(0,r.registerClientReference)(function(){throw Error("Attempted to call useViewport() from the server but useViewport is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/node_modules/@xyflow/react/dist/esm/index.js","useViewport")},53350:(e,t,n)=>{var r=n(87527);e.exports=n(24778)(function(e,t){return null==e?{}:r(e,t)})},54844:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{h:()=>s});var o=n(13486);n(60159);var i=n(15439),a=e([i]);i=(a.then?(await a)():a)[0];let s=e=>{let{isEdit:t,title:n,onChange:r}=e;return(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate w-full",children:(0,o.jsx)("div",{style:{color:n?"":"#ccc"},children:(0,o.jsx)(i.p,{isEdit:t,value:n,autoFocus:!0,onChange:e=>r({title:e})})})})};r()}catch(e){r(e)}})},54859:(e,t,n)=>{var r=n(76041);e.exports=function(e){return r(e,4)}},56119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,e:()=>o});var r=function(e){return e.Group="group",e.TaskCard="taskCard",e}({}),o=function(e){return e.NOT_DUE="未到期",e.NOT_FATHER="前置任务未完成",e.NOT_STARTED="待开始",e.IN_PROGRESS="进行中",e.TIMEOUT="超时",e.COMPLETED="已完成",e.FAILED="失败",e}({})},57513:e=>{e.exports={add:"Right_add__aC9CL"}},57975:e=>{"use strict";e.exports=require("node:util")},58017:(e,t,n)=>{e.exports={components:n(7545),dijkstra:n(59011),dijkstraAll:n(26197),findCycles:n(26820),floydWarshall:n(17040),isAcyclic:n(416),postorder:n(12543),preorder:n(97866),prim:n(28393),tarjan:n(16917),topsort:n(35558)}},59011:(e,t,n)=>{var r=n(92471),o=n(9447);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},u=new o,l=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),l=a.distance+o;if(o<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(t,l))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)});u.size()>0&&(a=s[i=u.removeMin()]).distance!==Number.POSITIVE_INFINITY;)r(i).forEach(l);return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},59234:(e,t,n)=>{var r=n(5662),o=n(46617);e.exports=function e(t,n,i,a,s){var u=-1,l=t.length;for(i||(i=o),s||(s=[]);++u<l;){var c=t[u];n>0&&i(c)?n>1?e(c,n-1,i,a,s):r(s,c):a||(s[s.length]=c)}return s}},59332:e=>{var t=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},59538:(e,t,n)=>{var r=n(8021),o=n(74913),i=n(12437);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},59878:(e,t,n)=>{var r=n(26636),o=n(4376);e.exports=function(e,t){return null!=e&&o(e,t,r)}},61608:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},62559:(e,t,n)=>{var r=n(8021),o=n(37263),i=n(97315),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return -1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(e,o(t,3),u)}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63068:(e,t,n)=>{Promise.resolve().then(n.bind(n,29606))},63738:(e,t,n)=>{var r=n(27292),o=0;e.exports=function(e){var t=++o;return r(e)+t}},64904:(e,t,n)=>{"use strict";var r=n(60159),o=n(52826),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=l(function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,s=n)}var a,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,o]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),c(h),h}},65005:(e,t,n)=>{var r=n(69110),o=n(71603),i=n(53380),a=n(15741),s=n(81479);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},66028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/wangzhenyu/Code/work/persons/app/src/app/task/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/persons/app/src/app/task/page.tsx","default")},67374:(e,t,n)=>{var r=n(56560),o=n(99916),i=n(9911);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var l=t[a],c=r(e,l);n(c,l)&&o(u,i(l,e),c)}return u}},69462:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{VH:()=>o.V,h7:()=>s.h,tU:()=>i.t,xe:()=>a.x});var o=n(2203),i=n(72033),a=n(30969),s=n(36935),u=n(3117),l=n(15439),c=e([a,u,l]);[a,u,l]=c.then?(await c)():c,r()}catch(e){r(e)}})},69508:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{$:()=>l});var o=n(13486),i=n(9127),a=n(35412),s=n(11643),u=e([a]);a=(u.then?(await u)():u)[0];let l=e=>{let{parentNode:t,type:n,selected:r}=e,{addNodes:u,addEdges:l}=(0,i.VH)();return(0,o.jsx)("div",{onClick:()=>{let{node:e,edge:r}=(0,s.Ej)(t,n);u(e),l(r)},children:(0,o.jsx)(a.z6Y,{style:{color:`rgba(24, 144, 255, ${r?1:.5})`,fontSize:14,cursor:"copy",backgroundColor:"#fff"}})})};r()}catch(e){r(e)}})},71962:(e,t,n)=>{var r=n(86440),o=n(38487),i=n(37263),a=n(1728),s=n(51719);e.exports=function(e,t,n){var u=s(e)?r:a,l=arguments.length<3;return u(e,i(t,4),n,l,o)}},72033:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(13486),o=n(15568);let i=e=>{let{children:t}=e,{isHovered:n,hoverProps:i}=(0,o.useHovered)();return(0,r.jsx)("div",{...i,children:t({isHovered:n})})}},72190:(e,t,n)=>{var r=n(16308),o=n(97496);e.exports=function(e){return null==e?[]:r(e,o(e))}},72358:(e,t,n)=>{var r=n(46795);e.exports=function(e){var t,n,o,i=(t=e,n={},o=0,r.forEach(t.children(),function e(i){var a=o;r.forEach(t.children(i),e),n[i]={low:a,lim:o++}}),n);r.forEach(e.graph().dummyChains,function(t){for(var n=e.node(t),r=n.edgeObj,o=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);o=n;do a.push(o=e.parent(o));while(o&&(t[o].low>u||l>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,i,r.v,r.w),a=o.path,s=o.lca,u=0,l=a[0],c=!0;t!==r.w;){if(n=e.node(t),c){for(;(l=a[u])!==s&&e.node(l).maxRank<n.rank;)u++;l===s&&(c=!1)}if(!c){for(;u<a.length-1&&e.node(l=a[u+1]).minRank<=n.rank;)u++;l=a[u]}e.setParent(t,l),t=e.successors(t)[0]}})}},72704:(e,t,n)=>{"use strict";n.d(t,{Do:()=>s,WZ:()=>o,TG:()=>u,ny:()=>i,yX:()=>l,Qc:()=>a,I$:()=>ra,aQ:()=>rd,di:()=>rf,kO:()=>rw,rN:()=>nF,bi:()=>n6,_s:()=>nk,aE:()=>t8,Hm:()=>n1,KE:()=>np,tn:()=>tG,xc:()=>tq,us:()=>nC,IO:()=>t9,e_:()=>nP,Fp:()=>nD,Mi:()=>nc,HF:()=>tQ,Eo:()=>nN,b5:()=>nZ,Tq:()=>t7,qX:()=>nB,q1:()=>nR,oj:()=>nM,aZ:()=>t3,aW:()=>n0,uD:()=>nb,Jo:()=>t5,U$:()=>t4,X6:()=>nd,oN:()=>nX,ah:()=>nH,R4:()=>nx,r8:()=>n7,ZO:()=>tX,bK:()=>tZ,b$:()=>tJ,uj:()=>nL,v5:()=>nI,Ue:()=>nw,Er:()=>nA,oB:()=>t0,kf:()=>nh,mW:()=>nf,QE:()=>nE,kM:()=>nu,No:()=>rt,Ff:()=>nv,zj:()=>nm,s_:()=>ng,vS:()=>n4,qn:()=>rr,uL:()=>re});var r,o,i,a,s,u,l,c,d={value:()=>{}};function f(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new h(r)}function h(e){this._=e}function p(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=d,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function g(){}function v(e){return null==e?g:function(){return this.querySelector(e)}}function m(){return[]}function y(e){return null==e?m:function(){return this.querySelectorAll(e)}}function x(e){return function(){return this.matches(e)}}function w(e){return function(t){return t.matches(e)}}h.prototype=f.prototype={constructor:h,on:function(e,t){var n,r=this._,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),i=-1,a=o.length;if(arguments.length<2){for(;++i<a;)if((n=(e=o[i]).type)&&(n=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++i<a;)if(n=(e=o[i]).type)r[n]=p(r[n],e.name,t);else if(null==t)for(n in r)r[n]=p(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new h(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};var _=Array.prototype.find;function b(){return this.firstElementChild}var E=Array.prototype.filter;function C(){return Array.from(this.children)}function k(e){return Array(e.length)}function S(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function N(e,t,n,r,o,i){for(var a,s=0,u=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new S(e,i[s]);for(;s<u;++s)(a=t[s])&&(o[s]=a)}function M(e,t,n,r,o,i,a){var s,u,l,c=new Map,d=t.length,f=i.length,h=Array(d);for(s=0;s<d;++s)(u=t[s])&&(h[s]=l=a.call(u,u.__data__,s,t)+"",c.has(l)?o[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(e,i[s],s,i)+"",(u=c.get(l))?(r[s]=u,u.__data__=i[s],c.delete(l)):n[s]=new S(e,i[s]);for(s=0;s<d;++s)(u=t[s])&&c.get(h[s])===u&&(o[s]=u)}function j(e){return e.__data__}function I(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}S.prototype={constructor:S,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var A="http://www.w3.org/1999/xhtml";let R={svg:"http://www.w3.org/2000/svg",xhtml:A,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),R.hasOwnProperty(t)?{space:R[t],local:e}:e}function P(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function O(e,t){return e.style.getPropertyValue(t)||P(e).getComputedStyle(e,null).getPropertyValue(t)}function $(e){return e.trim().split(/^|\s+/)}function D(e){return e.classList||new T(e)}function T(e){this._node=e,this._names=$(e.getAttribute("class")||"")}function B(e,t){for(var n=D(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function L(e,t){for(var n=D(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function U(){this.textContent=""}function V(){this.innerHTML=""}function F(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function W(e){var t=z(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===A&&t.documentElement.namespaceURI===A?t.createElement(e):t.createElementNS(n,e)}})(t)}function Y(){return null}function q(){var e=this.parentNode;e&&e.removeChild(this)}function X(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function G(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function K(e,t,n){return function(){var r,o=this.__on,i=function(e){t.call(this,e,this.__data__)};if(o){for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),r.value=t;return}}this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function Q(e,t,n){var r=P(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}T.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var J=[null];function ee(e,t){this._groups=e,this._parents=t}function et(){return new ee([[document.documentElement]],J)}function en(e){return"string"==typeof e?new ee([[document.querySelector(e)]],[document.documentElement]):new ee([[e]],J)}function er(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}ee.prototype=et.prototype={constructor:ee,select:function(e){"function"!=typeof e&&(e=v(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a,s=t[o],u=s.length,l=r[o]=Array(u),c=0;c<u;++c)(i=s[c])&&(a=e.call(i,i.__data__,c,s))&&("__data__"in i&&(a.__data__=i.__data__),l[c]=a);return new ee(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=y(e);for(var n=this._groups,r=n.length,o=[],i=[],a=0;a<r;++a)for(var s,u=n[a],l=u.length,c=0;c<l;++c)(s=u[c])&&(o.push(e.call(s,s.__data__,c,u)),i.push(s));return new ee(o,i)},selectChild:function(e){var t;return this.select(null==e?b:(t="function"==typeof e?e:w(e),function(){return _.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?C:(t="function"==typeof e?e:w(e),function(){return E.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=x(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,u=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&u.push(i);return new ee(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,j);var n=t?M:N,r=this._parents,o=this._groups;"function"!=typeof e&&(y=e,e=function(){return y});for(var i=o.length,a=Array(i),s=Array(i),u=Array(i),l=0;l<i;++l){var c=r[l],d=o[l],f=d.length,h="object"==typeof(m=e.call(c,c&&c.__data__,l,r))&&"length"in m?m:Array.from(m),p=h.length,g=s[l]=Array(p),v=a[l]=Array(p);n(c,d,g,v,u[l]=Array(f),h,t);for(var m,y,x,w,_=0,b=0;_<p;++_)if(x=g[_]){for(_>=b&&(b=_+1);!(w=v[b])&&++b<p;);x._next=w||null}}return(a=new ee(a,r))._enter=s,a._exit=u,a},enter:function(){return new ee(this._enter||this._groups.map(k),this._parents)},exit:function(){return new ee(this._exit||this._groups.map(k),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),s=Array(o),u=0;u<a;++u)for(var l,c=n[u],d=r[u],f=c.length,h=s[u]=Array(f),p=0;p<f;++p)(l=c[p]||d[p])&&(h[p]=l);for(;u<o;++u)s[u]=n[u];return new ee(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=I);for(var n=this._groups,r=n.length,o=Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,l=o[i]=Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new ee(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=z(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):O(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=$(e+"");if(arguments.length<2){for(var r=D(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?B:L)(this,e)}}:t?function(e){return function(){B(this,e)}}:function(e){return function(){L(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?V:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(F)},lower:function(){return this.each(H)},append:function(e){var t="function"==typeof e?e:W(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:W(e),r=null==t?Y:"function"==typeof t?t:v(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(q)},clone:function(e){return this.select(e?G:X)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=i.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(r=0,s=t?K:Z;r<a;++r)this.each(s(i[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return Q(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return Q(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};let eo={passive:!1},ei={capture:!0,passive:!1};function ea(e){e.stopImmediatePropagation()}function es(e){e.preventDefault(),e.stopImmediatePropagation()}function eu(e){var t=e.document.documentElement,n=en(e).on("dragstart.drag",es,ei);"onselectstart"in t?n.on("selectstart.drag",es,ei):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function el(e,t){var n=e.document.documentElement,r=en(e).on("dragstart.drag",null);t&&(r.on("click.drag",es,ei),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}let ec=e=>()=>e;function ed(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function ef(e){return!e.ctrlKey&&!e.button}function eh(){return this.parentNode}function ep(e,t){return null==t?{x:e.x,y:e.y}:t}function eg(){return navigator.maxTouchPoints||"ontouchstart"in this}function ev(e){return((e=Math.exp(e))+1/e)/2}ed.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};let em=function e(t,n,r){function o(e,o){var i,a,s=e[0],u=e[1],l=e[2],c=o[0],d=o[1],f=o[2],h=c-s,p=d-u,g=h*h+p*p;if(g<1e-12)a=Math.log(f/l)/t,i=function(e){return[s+e*h,u+e*p,l*Math.exp(t*e*a)]};else{var v=Math.sqrt(g),m=(f*f-l*l+r*g)/(2*l*n*v),y=(f*f-l*l-r*g)/(2*f*n*v),x=Math.log(Math.sqrt(m*m+1)-m);a=(Math.log(Math.sqrt(y*y+1)-y)-x)/t,i=function(e){var r,o,i=e*a,c=ev(x),d=l/(n*v)*(c*(((r=Math.exp(2*(r=t*i+x)))-1)/(r+1))-((o=Math.exp(o=x))-1/o)/2);return[s+d*h,u+d*p,l*c/ev(t*i+x)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var ey,ex,ew=0,e_=0,eb=0,eE=0,eC=0,ek=0,eS="object"==typeof performance&&performance.now?performance:Date,eN="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eM(){return eC||(eN(ej),eC=eS.now()+ek)}function ej(){eC=0}function eI(){this._call=this._time=this._next=null}function eA(e,t,n){var r=new eI;return r.restart(e,t,n),r}function eR(){eC=(eE=eS.now())+ek,ew=e_=0;try{!function(){eM(),++ew;for(var e,t=ey;t;)(e=eC-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ew}()}finally{ew=0,function(){for(var e,t,n=ey,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ey=t);ex=e,eP(r)}(),eC=0}}function ez(){var e=eS.now(),t=e-eE;t>1e3&&(ek-=t,eE=e)}function eP(e){!ew&&(e_&&(e_=clearTimeout(e_)),e-eC>24?(e<1/0&&(e_=setTimeout(eR,e-eS.now()-ek)),eb&&(eb=clearInterval(eb))):(eb||(eE=eS.now(),eb=setInterval(ez,1e3)),ew=1,eN(eR)))}function eO(e,t,n){var r=new eI;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}eI.prototype=eA.prototype={constructor:eI,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?eM():+n)+(null==t?0:+t),this._next||ex===this||(ex?ex._next=this:ey=this,ex=this),this._call=e,this._time=n,eP()},stop:function(){this._call&&(this._call=null,this._time=1/0,eP())}};var e$=f("start","end","cancel","interrupt"),eD=[];function eT(e,t,n,r,o,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};(function(e,t,n){var r,o=e.__transition;function i(u){var l,c,d,f;if(1!==n.state)return s();for(l in o)if((f=o[l]).name===n.name){if(3===f.state)return eO(i);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[l])}if(eO(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(l=0,n.state=3,r=Array(d=n.tween.length),c=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=eA(function(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)},0,n.time)})(e,n,{name:t,index:r,group:o,on:e$,tween:eD,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function eB(e,t){var n=eU(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function eL(e,t){var n=eU(e,t);if(n.state>3)throw Error("too late; already running");return n}function eU(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function eV(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i){if((n=i[o]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]}a&&delete e.__transition}}function eF(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var eH=180/Math.PI,eW={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eY(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*eH,skewX:Math.atan(u)*eH,scaleX:a,scaleY:s}}function eq(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s,u,l,c,d=[],f=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:eF(e,o)},{i:u-2,x:eF(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,d,f),s=i.rotate,s!==(u=a.rotate)?(s-u>180?u+=360:u-s>180&&(s+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:eF(s,u)})):u&&d.push(o(d)+"rotate("+u+r),l=i.skewX,l!==(c=a.skewX)?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:eF(l,c)}):c&&d.push(o(d)+"skewX("+c+r),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:eF(e,n)},{i:s-2,x:eF(t,r)})}else(1!==n||1!==r)&&i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,d,f),i=a=null,function(e){for(var t,n=-1,r=f.length;++n<r;)d[(t=f[n]).i]=t.x(e);return d.join("")}}}var eX=eq(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eW:eY(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),eG=eq(function(e){return null==e?eW:(r||(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),e=r.transform.baseVal.consolidate())?eY((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):eW},", ",")",")");function eZ(e,t,n){var r=e._id;return e.each(function(){var e=eL(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return eU(e,r).value[t]}}function eK(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eQ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function eJ(){}var e0="\\s*([+-]?\\d+)\\s*",e1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e5=/^#([0-9a-f]{3,8})$/,e3=RegExp(`^rgb\\(${e0},${e0},${e0}\\)$`),e4=RegExp(`^rgb\\(${e2},${e2},${e2}\\)$`),e6=RegExp(`^rgba\\(${e0},${e0},${e0},${e1}\\)$`),e9=RegExp(`^rgba\\(${e2},${e2},${e2},${e1}\\)$`),e8=RegExp(`^hsl\\(${e1},${e2},${e2}\\)$`),e7=RegExp(`^hsla\\(${e1},${e2},${e2},${e1}\\)$`),te={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function tt(){return this.rgb().formatHex()}function tn(){return this.rgb().formatRgb()}function tr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e5.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?to(t):3===n?new ts(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ti(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ti(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=e3.exec(e))?new ts(t[1],t[2],t[3],1):(t=e4.exec(e))?new ts(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=e6.exec(e))?ti(t[1],t[2],t[3],t[4]):(t=e9.exec(e))?ti(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=e8.exec(e))?th(t[1],t[2]/100,t[3]/100,1):(t=e7.exec(e))?th(t[1],t[2]/100,t[3]/100,t[4]):te.hasOwnProperty(e)?to(te[e]):"transparent"===e?new ts(NaN,NaN,NaN,0):null}function to(e){return new ts(e>>16&255,e>>8&255,255&e,1)}function ti(e,t,n,r){return r<=0&&(e=t=n=NaN),new ts(e,t,n,r)}function ta(e,t,n,r){var o;return 1==arguments.length?((o=e)instanceof eJ||(o=tr(o)),o)?new ts((o=o.rgb()).r,o.g,o.b,o.opacity):new ts:new ts(e,t,n,null==r?1:r)}function ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function tu(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}`}function tl(){let e=tc(this.opacity);return`${1===e?"rgb(":"rgba("}${td(this.r)}, ${td(this.g)}, ${td(this.b)}${1===e?")":`, ${e})`}`}function tc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function td(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tf(e){return((e=td(e))<16?"0":"")+e.toString(16)}function th(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tg(e,t,n,r)}function tp(e){if(e instanceof tg)return new tg(e.h,e.s,e.l,e.opacity);if(e instanceof eJ||(e=tr(e)),!e)return new tg;if(e instanceof tg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=t===i?(n-r)/s+(n<r)*6:n===i?(r-t)/s+2:(t-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new tg(a,s,u,e.opacity)}function tg(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function tv(e){return(e=(e||0)%360)<0?e+360:e}function tm(e){return Math.max(0,Math.min(1,e||0))}function ty(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function tx(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}eK(eJ,tr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tt,formatHex:tt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return tp(this).formatHsl()},formatRgb:tn,toString:tn}),eK(ts,ta,eQ(eJ,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ts(td(this.r),td(this.g),td(this.b),tc(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tu,formatHex:tu,formatHex8:function(){return`#${tf(this.r)}${tf(this.g)}${tf(this.b)}${tf((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:tl,toString:tl})),eK(tg,function(e,t,n,r){return 1==arguments.length?tp(e):new tg(e,t,n,null==r?1:r)},eQ(eJ,{brighter(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new tg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new tg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ts(ty(e>=240?e-240:e+120,o,r),ty(e,o,r),ty(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new tg(tv(this.h),tm(this.s),tm(this.l),tc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=tc(this.opacity);return`${1===e?"hsl(":"hsla("}${tv(this.h)}, ${100*tm(this.s)}%, ${100*tm(this.l)}%${1===e?")":`, ${e})`}`}}));let tw=e=>()=>e;function t_(e,t){var n,r,o=t-e;return o?(n=e,r=o,function(e){return n+e*r}):tw(isNaN(e)?t:e)}let tb=function e(t){var n,r=1==(n=+t)?t_:function(e,t){var r,o,i;return t-e?(r=e,o=t,r=Math.pow(r,i=n),o=Math.pow(o,i)-r,i=1/i,function(e){return Math.pow(r+e*o,i)}):tw(isNaN(e)?t:e)};function o(e,t){var n=r((e=ta(e)).r,(t=ta(t)).r),o=r(e.g,t.g),i=r(e.b,t.b),a=t_(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return o.gamma=e,o}(1);function tE(e){return function(t){var n,r,o=t.length,i=Array(o),a=Array(o),s=Array(o);for(n=0;n<o;++n)r=ta(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}tE(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return tx((n-r/t)*t,a,o,i,s)}}),tE(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return tx((n-r/t)*t,o,i,a,s)}});var tC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tk=RegExp(tC.source,"g");function tS(e,t){var n;return("number"==typeof t?eF:t instanceof tr?tb:(n=tr(t))?(t=n,tb):function(e,t){var n,r,o,i,a,s=tC.lastIndex=tk.lastIndex=0,u=-1,l=[],c=[];for(e+="",t+="";(o=tC.exec(e))&&(i=tk.exec(t));)(a=i.index)>s&&(a=t.slice(s,a),l[u]?l[u]+=a:l[++u]=a),(o=o[0])===(i=i[0])?l[u]?l[u]+=i:l[++u]=i:(l[++u]=null,c.push({i:u,x:eF(o,i)})),s=tk.lastIndex;return s<t.length&&(a=t.slice(s),l[u]?l[u]+=a:l[++u]=a),l.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)l[(n=c[r]).i]=n.x(e);return l.join("")})})(e,t)}var tN=et.prototype.constructor;function tM(e){return function(){this.style.removeProperty(e)}}var tj=0;function tI(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var tA=et.prototype;tI.prototype=(function(e){return et().transition(e)}).prototype={constructor:tI,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=v(e));for(var r=this._groups,o=r.length,i=Array(o),a=0;a<o;++a)for(var s,u,l=r[a],c=l.length,d=i[a]=Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),d[f]=u,eT(d[f],t,n,f,d,eU(s,n)));return new tI(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=y(e));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u,l=r[s],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var f,h=e.call(u,u.__data__,d,l),p=eU(u,n),g=0,v=h.length;g<v;++g)(f=h[g])&&eT(f,t,n,g,h,p);i.push(h),a.push(u)}return new tI(i,a,t,n)},selectChild:tA.selectChild,selectChildren:tA.selectChildren,filter:function(e){"function"!=typeof e&&(e=x(e));for(var t=this._groups,n=t.length,r=Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,u=r[o]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&u.push(i);return new tI(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=Array(r),s=0;s<i;++s)for(var u,l=t[s],c=n[s],d=l.length,f=a[s]=Array(d),h=0;h<d;++h)(u=l[h]||c[h])&&(f[h]=u);for(;s<r;++s)a[s]=t[s];return new tI(a,this._parents,this._name,this._id)},selection:function(){return new tN(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++tj,r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=eU(a,t);eT(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new tI(r,this._parents,e,n)},call:tA.call,nodes:tA.nodes,node:tA.node,size:tA.size,empty:tA.empty,each:tA.each,on:function(e,t){var n,r,o,i,a,s,u=this._id;return arguments.length<2?eU(this.node(),u).on.on(e):this.each((n=u,r=e,o=t,s=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?eB:eL,function(){var e=s(this,n),t=e.on;t!==i&&(a=(i=t).copy()).on(r,o),e.on=a}))},attr:function(e,t){var n=z(e),r="transform"===n?eG:tS;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,s,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u))}}:function(e,t,n){var r,o,i;return function(){var a,s,u=n(this);return null==u?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u))}})(n,r,eZ(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=z(e);return this.tween(n,(r.local?function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttributeNS(e.space,e.local,o.call(this,t))}),n}return o._value=t,o}:function(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t){this.setAttribute(e,o.call(this,t))}),n}return o._value=t,o})(r,t))},style:function(e,t,n){var r,o,i,a,s,u,l,c,d,f,h,p,g,v,m,y,x,w,_,b,E,C="transform"==(e+="")?eX:tS;return null==t?this.styleTween(e,(r=e,function(){var e=O(this,r),t=(this.style.removeProperty(r),O(this,r));return e===t?null:e===o&&t===i?a:a=C(o=e,i=t)})).on("end.style."+e,tM(e)):"function"==typeof t?this.styleTween(e,(s=e,u=eZ(this,"style."+e,t),function(){var e=O(this,s),t=u(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=O(this,s)),e===n?null:e===l&&n===c?d:(c=n,d=C(l=e,t))})).each((f=this._id,x="end."+(y="style."+(h=e)),function(){var e=eL(this,f),t=e.on,n=null==e.value[y]?m||(m=tM(h)):void 0;(t!==p||v!==n)&&(g=(p=t).copy()).on(x,v=n),e.on=g})):this.styleTween(e,(w=e,E=t+"",function(){var e=O(this,w);return e===E?null:e===_?b:b=C(_=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t){this.style.setProperty(e,i.call(this,t),n)}),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=eZ(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=eU(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var o=eL(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}o.tween=r}}:function(e,t,n){var r,o;if("function"!=typeof n)throw Error();return function(){var i=eL(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},u=0,l=o.length;u<l;++u)if(o[u].name===t){o[u]=s;break}u===l&&o.push(s)}i.tween=o}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eB(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eB(this,e).delay=t}})(t,e)):eU(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){eL(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){eL(this,e).duration=t}})(t,e)):eU(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){eL(this,e).ease=t}}(t,e)):eU(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();eL(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};n.each(function(){var n=eL(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t}),0===o&&i()})},[Symbol.iterator]:tA[Symbol.iterator]};var tR={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};et.prototype.interrupt=function(e){return this.each(function(){eV(this,e)})},et.prototype.transition=function(e){var t,n;e instanceof tI?(t=e._id,e=e._name):(t=++tj,(n=tR).time=eM(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,l=0;l<u;++l)(a=s[l])&&eT(a,e,t,l,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new tI(r,this._parents,e,t)};let tz=e=>()=>e;function tP(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function tO(e,t,n){this.k=e,this.x=t,this.y=n}tO.prototype={constructor:tO,scale:function(e){return 1===e?this:new tO(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tO(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var t$=new tO(1,0,0);function tD(e){for(;!e.__zoom;)if(!(e=e.parentNode))return t$;return e.__zoom}function tT(e){e.stopImmediatePropagation()}function tB(e){e.preventDefault(),e.stopImmediatePropagation()}function tL(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function tU(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tV(){return this.__zoom||t$}function tF(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function tH(){return navigator.maxTouchPoints||"ontouchstart"in this}function tW(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function tY(){var e,t,n,r=tL,o=tU,i=tW,a=tF,s=tH,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=em,h=f("start","zoom","end"),p=0,g=10;function v(e){e.property("__zoom",tV).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",k).filter(s).on("touchstart.zoom",S).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(u[0],Math.min(u[1],t)))===e.k?e:new tO(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new tO(e.k,r,o)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",function(){_(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,i=_(this,e).event(r),a=o.apply(this,e),s=null==n?x(a):"function"==typeof n?n.apply(this,e):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=this.__zoom,c="function"==typeof t?t.apply(this,e):t,f=d(l.invert(s).concat(u/l.k),c.invert(s).concat(u/c.k));return function(e){if(1===e)e=c;else{var t=f(e),n=u/t[2];e=new tO(n,s[0]-t[0]*n,s[1]-t[1]*n)}i.zoom(null,e)}})}function _(e,t,n){return!n&&e.__zooming||new b(e,t)}function b(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function E(e,...t){if(r.apply(this,arguments)){var n=_(this,t).event(e),o=this.__zoom,s=Math.max(u[0],Math.min(u[1],o.k*Math.pow(2,a.apply(this,arguments)))),c=er(e);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=o.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[c,o.invert(c)],eV(this),n.start()}tB(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",i(y(m(o,s),n.mouse[0],n.mouse[1]),n.extent,l))}}function C(e,...t){if(!n&&r.apply(this,arguments)){var o=e.currentTarget,a=_(this,t,!0).event(e),s=en(e.view).on("mousemove.zoom",function(e){if(tB(e),!a.moved){var t=e.clientX-c,n=e.clientY-d;a.moved=t*t+n*n>p}a.event(e).zoom("mouse",i(y(a.that.__zoom,a.mouse[0]=er(e,o),a.mouse[1]),a.extent,l))},!0).on("mouseup.zoom",function(e){s.on("mousemove.zoom mouseup.zoom",null),el(e.view,a.moved),tB(e),a.event(e).end()},!0),u=er(e,o),c=e.clientX,d=e.clientY;eu(e.view),tT(e),a.mouse=[u,this.__zoom.invert(u)],eV(this),a.start()}}function k(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=er(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),u=n.k*(e.shiftKey?.5:2),d=i(y(m(n,u),a,s),o.apply(this,t),l);tB(e),c>0?en(this).transition().duration(c).call(w,d,a,e):en(this).call(v.transform,d,a,e)}}function S(n,...o){if(r.apply(this,arguments)){var i,a,s,u,l=n.touches,c=l.length,d=_(this,o,n.changedTouches.length===c).event(n);for(tT(n),a=0;a<c;++a)u=[u=er(s=l[a],this),this.__zoom.invert(u),s.identifier],d.touch0?d.touch1||d.touch0[2]===u[2]||(d.touch1=u,d.taps=0):(d.touch0=u,i=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),i&&(d.taps<2&&(t=u[0],e=setTimeout(function(){e=null},500)),eV(this),d.start())}}function N(e,...t){if(this.__zooming){var n,r,o,a,s=_(this,t).event(e),u=e.changedTouches,c=u.length;for(tB(e),n=0;n<c;++n)o=er(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],f=s.touch0[1],h=s.touch1[0],p=s.touch1[1],g=(g=h[0]-d[0])*g+(g=h[1]-d[1])*g,v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v;r=m(r,Math.sqrt(g/v)),o=[(d[0]+h[0])/2,(d[1]+h[1])/2],a=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(y(r,o,a),s.extent,l))}}function M(e,...r){if(this.__zooming){var o,i,a=_(this,r).event(e),s=e.changedTouches,u=s.length;for(tT(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<u;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=er(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<g)){var l=en(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",tV),e!==o?w(e,t,n,r):o.interrupt().each(function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},v.scaleBy=function(e,t,n,r){v.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,function(){var e=o.apply(this,arguments),r=this.__zoom,a=null==n?x(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof t?t.apply(this,arguments):t;return i(y(m(r,u),a,s),e,l)},n,r)},v.translateBy=function(e,t,n,r){v.transform(e,function(){return i(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)},null,r)},v.translateTo=function(e,t,n,r,a){v.transform(e,function(){var e=o.apply(this,arguments),a=this.__zoom,s=null==r?x(e):"function"==typeof r?r.apply(this,arguments):r;return i(t$.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)},r,a)},b.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=en(this.that).datum();h.call(e,this.that,new tP(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:h}),t)}},v.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:tz(+e),v):a},v.filter=function(e){return arguments.length?(r="function"==typeof e?e:tz(!!e),v):r},v.touchable=function(e){return arguments.length?(s="function"==typeof e?e:tz(!!e),v):s},v.extent=function(e){return arguments.length?(o="function"==typeof e?e:tz([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):o},v.scaleExtent=function(e){return arguments.length?(u[0]=+e[0],u[1]=+e[1],v):[u[0],u[1]]},v.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],v):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},v.constrain=function(e){return arguments.length?(i=e,v):i},v.duration=function(e){return arguments.length?(c=+e,v):c},v.interpolate=function(e){return arguments.length?(d=e,v):d},v.on=function(){var e=h.on.apply(h,arguments);return e===h?v:e},v.clickDistance=function(e){return arguments.length?(p=(e*=1)*e,v):Math.sqrt(p)},v.tapDistance=function(e){return arguments.length?(g=+e,v):g},v}tD.prototype=tO.prototype;let tq={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},tX=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],tG=["Enter"," ","Escape"];(function(e){e.Strict="strict",e.Loose="loose"})(o||(o={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(i||(i={})),function(e){e.Partial="partial",e.Full="full"}(a||(a={}));let tZ={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(s||(s={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(u||(u={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(l||(l={}));let tK={[l.Left]:l.Right,[l.Right]:l.Left,[l.Top]:l.Bottom,[l.Bottom]:l.Top};function tQ(e){return null===e?null:e?"valid":"invalid"}let tJ=e=>"id"in e&&"source"in e&&"target"in e,t0=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),t1=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),t2=(e,t=[0,0])=>{let{width:n,height:r}=nb(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},t5=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>0===e.length?{x:0,y:0,width:0,height:0}:ns(e.reduce((e,n)=>{let r="string"==typeof n,o=t.nodeLookup||r?void 0:n;return t.nodeLookup&&(o=r?t.nodeLookup.get(n):t1(n)?n:t.nodeLookup.get(n.id)),ni(e,o?nl(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),t3=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){let t=nl(e);n=ni(n,t)}}),ns(n)},t4=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{let s={...nv(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;let o=e.width??t.width??t.initialWidth??null,l=e.height??t.height??t.initialHeight??null,c=nd(s,nu(t)),d=(o??0)*(l??0),f=i&&c>0;(!t.internals.handleBounds||f||c>=d||t.dragging)&&u.push(t)}return u},t6=(e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))};async function t9({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===e.size)return Promise.resolve(!0);let s=nx(t3(function(e,t){let n=new Map,r=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&(t?.includeHiddenNodes||!e.hidden)&&(!r||r.has(e.id))&&n.set(e.id,e)}),n}(e,a)),t,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(s,{duration:a?.duration}),Promise.resolve(!0)}function t8({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){let a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:l}=s?s.internals.positionAbsolute:{x:0,y:0},c=a.origin??r,d=o;if("parent"!==a.extent||a.expandParent)s&&n_(a.extent)&&(d=[[a.extent[0][0]+u,a.extent[0][1]+l],[a.extent[1][0]+u,a.extent[1][1]+l]]);else if(s){let e=s.measured.width,t=s.measured.height;e&&t&&(d=[[u,l],[u+e,l+t]])}else i?.("005",tq.error005());let f=n_(d)?nt(t,d,a.measured):t;return(void 0===a.measured.width||void 0===a.measured.height)&&i?.("015",tq.error015()),{position:{x:f.x-u+(a.measured.width??0)*c[0],y:f.y-l+(a.measured.height??0)*c[1]},positionAbsolute:f}}async function t7({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){let i=new Set(e.map(e=>e.id)),a=[];for(let e of n){if(!1===e.deletable)continue;let t=i.has(e.id),n=!t&&e.parentId&&a.find(t=>t.id===e.parentId);(t||n)&&a.push(e)}let s=new Set(t.map(e=>e.id)),u=r.filter(e=>!1!==e.deletable),l=t6(a,u);for(let e of u)s.has(e.id)&&!l.find(t=>t.id===e.id)&&l.push(e);if(!o)return{edges:l,nodes:a};let c=await o({nodes:a,edges:l});return"boolean"==typeof c?c?{edges:l,nodes:a}:{edges:[],nodes:[]}:c}let ne=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),nt=(e={x:0,y:0},t,n)=>({x:ne(e.x,t[0][0],t[1][0]-(n?.width??0)),y:ne(e.y,t[0][1],t[1][1]-(n?.height??0))});function nn(e,t,n){let{width:r,height:o}=nb(n),{x:i,y:a}=n.internals.positionAbsolute;return nt(e,[[i,a],[i+r,a+o]],t)}let nr=(e,t,n)=>e<t?ne(Math.abs(e-t),1,t)/t:e>n?-ne(Math.abs(e-n),1,t)/t:0,no=(e,t,n=15,r=40)=>[nr(e.x,r,t.width-r)*n,nr(e.y,r,t.height-r)*n],ni=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),na=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ns=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),nu=(e,t=[0,0])=>{let{x:n,y:r}=t1(e)?e.internals.positionAbsolute:t2(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},nl=(e,t=[0,0])=>{let{x:n,y:r}=t1(e)?e.internals.positionAbsolute:t2(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},nc=(e,t)=>ns(ni(na(e),na(t))),nd=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),nf=e=>nh(e.width)&&nh(e.height)&&nh(e.x)&&nh(e.y),nh=e=>!isNaN(e)&&isFinite(e),np=(e,t)=>{},ng=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),nv=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{let s={x:(e-n)/o,y:(t-r)/o};return i?ng(s,a):s},nm=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function ny(e,t){if("number"==typeof e)return Math.floor(t-t/(1+e));if("string"==typeof e&&e.endsWith("px")){let t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"==typeof e&&e.endsWith("%")){let n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}let nx=(e,t,n,r,o,i)=>{let a=function(e,t,n){if("string"==typeof e||"number"==typeof e){let r=ny(e,n),o=ny(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"==typeof e){let r=ny(e.top??e.y??0,n),o=ny(e.bottom??e.y??0,n),i=ny(e.left??e.x??0,t),a=ny(e.right??e.x??0,t);return{top:r,right:a,bottom:o,left:i,x:i+a,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),s=ne(Math.min((t-a.x)/e.width,(n-a.y)/e.height),r,o),u=e.x+e.width/2,l=e.y+e.height/2,c=t/2-u*s,d=n/2-l*s,f=function(e,t,n,r,o,i){let{x:a,y:s}=nm(e,[t,n,r]),{x:u,y:l}=nm({x:e.x+e.width,y:e.y+e.height},[t,n,r]);return{left:Math.floor(a),top:Math.floor(s),right:Math.floor(o-u),bottom:Math.floor(i-l)}}(e,c,d,s,t,n),h={left:Math.min(f.left-a.left,0),top:Math.min(f.top-a.top,0),right:Math.min(f.right-a.right,0),bottom:Math.min(f.bottom-a.bottom,0)};return{x:c-h.left+h.right,y:d-h.top+h.bottom,zoom:s}},nw=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function n_(e){return void 0!==e&&"parent"!==e}function nb(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function nE(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function nC(e,t={width:0,height:0},n,r,o){let i={...e},a=r.get(n);if(a){let e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return i}function nk(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function nS(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){let{x:i,y:a}=nR(e),s=nv({x:i-(o?.left??0),y:a-(o?.top??0)},r),{x:u,y:l}=n?ng(s,t):s;return{xSnapped:u,ySnapped:l,...s}}let nN=e=>({width:e.offsetWidth,height:e.offsetHeight}),nM=e=>e?.getRootNode?.()||window?.document,nj=["INPUT","SELECT","TEXTAREA"];function nI(e){let t=e.composedPath?.()?.[0]||e.target;return t?.nodeType===1&&(nj.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey"))}let nA=e=>"clientX"in e,nR=(e,t)=>{let n=nA(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},nz=(e,t,n,r,o)=>{let i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...nN(t)}}):null};function nP({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){let u=.125*e+.375*o+.375*a+.125*n,l=.125*t+.375*i+.375*s+.125*r,c=Math.abs(u-e),d=Math.abs(l-t);return[u,l,c,d]}function nO(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function n$({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case l.Left:return[t-nO(t-r,i),n];case l.Right:return[t+nO(r-t,i),n];case l.Top:return[t,n-nO(n-o,i)];case l.Bottom:return[t,n+nO(o-n,i)]}}function nD({sourceX:e,sourceY:t,sourcePosition:n=l.Bottom,targetX:r,targetY:o,targetPosition:i=l.Top,curvature:a=.25}){let[s,u]=n$({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,d]=n$({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[f,h,p,g]=nP({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${e},${t} C${s},${u} ${c},${d} ${r},${o}`,f,h,p,g]}function nT({sourceX:e,sourceY:t,targetX:n,targetY:r}){let o=Math.abs(n-e)/2,i=Math.abs(r-t)/2;return[n<e?n+o:n-o,r<t?r+i:r-i,o,i]}function nB({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;let i=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?a:0)}function nL({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){let i=ni(nl(e),nl(t));return i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1),nd({x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]},ns(i))>0}let nU=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,nV=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),nF=(e,t)=>{let n;return e.source&&e.target?nV(n=tJ(e)?{...e}:{...e,id:nU(e)},t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n)):(np("006",tq.error006()),t)};function nH({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[o,i,a,s]=nT({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}let nW={[l.Left]:{x:-1,y:0},[l.Right]:{x:1,y:0},[l.Top]:{x:0,y:-1},[l.Bottom]:{x:0,y:1}},nY=({source:e,sourcePosition:t=l.Bottom,target:n})=>t===l.Left||t===l.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},nq=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function nX({sourceX:e,sourceY:t,sourcePosition:n=l.Bottom,targetX:r,targetY:o,targetPosition:i=l.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20}){let[d,f,h,p,g]=function({source:e,sourcePosition:t=l.Bottom,target:n,targetPosition:r=l.Top,center:o,offset:i}){let a,s;let u=nW[t],c=nW[r],d={x:e.x+u.x*i,y:e.y+u.y*i},f={x:n.x+c.x*i,y:n.y+c.y*i},h=nY({source:d,sourcePosition:t,target:f}),p=0!==h.x?"x":"y",g=h[p],v=[],m={x:0,y:0},y={x:0,y:0},[x,w,_,b]=nT({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[p]*c[p]==-1){a=o.x??x,s=o.y??w;let e=[{x:a,y:d.y},{x:a,y:f.y}],t=[{x:d.x,y:s},{x:f.x,y:s}];v=u[p]===g?"x"===p?e:t:"x"===p?t:e}else{let o=[{x:d.x,y:f.y}],l=[{x:f.x,y:d.y}];if(v="x"===p?u.x===g?l:o:u.y===g?o:l,t===r){let t=Math.abs(e[p]-n[p]);if(t<=i){let r=Math.min(i-1,i-t);u[p]===g?m[p]=(d[p]>e[p]?-1:1)*r:y[p]=(f[p]>n[p]?-1:1)*r}}if(t!==r){let e="x"===p?"y":"x",t=u[p]===c[e],n=d[e]>f[e],r=d[e]<f[e];(1===u[p]&&(!t&&n||t&&r)||1!==u[p]&&(!t&&r||t&&n))&&(v="x"===p?o:l)}let h={x:d.x+m.x,y:d.y+m.y},x={x:f.x+y.x,y:f.y+y.y};Math.max(Math.abs(h.x-v[0].x),Math.abs(x.x-v[0].x))>=Math.max(Math.abs(h.y-v[0].y),Math.abs(x.y-v[0].y))?(a=(h.x+x.x)/2,s=v[0].y):(a=v[0].x,s=(h.y+x.y)/2)}return[[e,{x:d.x+m.x,y:d.y+m.y},...v,{x:f.x+y.x,y:f.y+y.y},n],a,s,_,b]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:u},offset:c});return[d.reduce((e,t,n)=>{let r="";return e+(n>0&&n<d.length-1?function(e,t,n,r){let o=Math.min(nq(e,t)/2,nq(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${i+o*t},${a}Q ${i},${a} ${i},${a+o*r}`}let s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${a+o*u}Q ${i},${a} ${i+o*s},${a}`}(d[n-1],t,d[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`)},""),f,h,p,g]}function nG(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function nZ(e){let{sourceNode:t,targetNode:n}=e;if(!nG(t)||!nG(n))return null;let r=t.internals.handleBounds||nK(t.handles),i=n.internals.handleBounds||nK(n.handles),a=nJ(r?.source??[],e.sourceHandle),s=nJ(e.connectionMode===o.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),e.targetHandle);if(!a||!s)return e.onError?.("008",tq.error008(a?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let u=a?.position||l.Bottom,c=s?.position||l.Top,d=nQ(t,a,u),f=nQ(n,s,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:u,targetPosition:c}}function nK(e){if(!e)return null;let t=[],n=[];for(let r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function nQ(e,t,n=l.Left,r=!1){let o=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??nb(e);if(r)return{x:o+a/2,y:i+s/2};switch(t?.position??n){case l.Top:return{x:o+a/2,y:i};case l.Right:return{x:o+a,y:i+s/2};case l.Bottom:return{x:o+a/2,y:i+s};case l.Left:return{x:o,y:i+s/2}}}function nJ(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function n0(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}function n1(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){let i=new Set;return e.reduce((e,a)=>([a.markerStart||r,a.markerEnd||o].forEach(r=>{if(r&&"object"==typeof r){let o=n0(r,t);i.has(o)||(e.push({id:o,color:r.color||n,...r}),i.add(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}let n2={nodeOrigin:[0,0],nodeExtent:tX,elevateNodesOnSelect:!0,defaults:{}},n5={...n2,checkEquality:!0};function n3(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function n4(e,t,n){let r=n3(n2,n);for(let n of e.values())if(n.parentId)n9(n,e,t,r);else{let e=nt(t2(n,r.nodeOrigin),n_(n.extent)?n.extent:r.nodeExtent,nb(n));n.internals.positionAbsolute=e}}function n6(e,t,n,r){let o=n3(n5,r),i=!0,a=new Map(t),s=1e3*!!o?.elevateNodesOnSelect;for(let u of(t.clear(),n.clear(),e)){let e=a.get(u.id);if(o.checkEquality&&u===e?.internals.userNode)t.set(u.id,e);else{let n=nt(t2(u,o.nodeOrigin),n_(u.extent)?u.extent:o.nodeExtent,nb(u));e={...o.defaults,...u,measured:{width:u.measured?.width,height:u.measured?.height},internals:{positionAbsolute:n,handleBounds:u.measured?e?.internals.handleBounds:void 0,z:n8(u,s),userNode:u}},t.set(u.id,e)}e.measured&&e.measured.width&&e.measured.height||e.hidden||(i=!1),u.parentId&&n9(e,t,n,r)}return i}function n9(e,t,n,r){let{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=n3(n2,r),s=e.parentId,u=t.get(s);if(!u){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);let{x:l,y:c,z:d}=function(e,t,n,r,o){let{x:i,y:a}=t.internals.positionAbsolute,s=nb(e),u=t2(e,n),l=n_(e.extent)?nt(u,e.extent,s):u,c=nt({x:i+l.x,y:a+l.y},r,s);"parent"===e.extent&&(c=nn(c,s,t));let d=n8(e,o),f=t.internals.z??0;return{x:c.x,y:c.y,z:f>d?f:d}}(e,u,i,a,1e3*!!o),{positionAbsolute:f}=e.internals,h=l!==f.x||c!==f.y;(h||d!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:h?{x:l,y:c}:f,z:d}})}function n8(e,t){return(nh(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function n7(e,t,n,r=[0,0]){let o=[],i=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let r=nc(i.get(n.parentId)?.expandedRect??nu(e),n.rect);i.set(n.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach(({expandedRect:t,parent:i},a)=>{let s=i.internals.positionAbsolute,u=nb(i),l=i.origin??r,c=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,f=Math.max(u.width,Math.round(t.width)),h=Math.max(u.height,Math.round(t.height)),p=(f-u.width)*l[0],g=(h-u.height)*l[1];(c>0||d>0||p||g)&&(o.push({id:a,type:"position",position:{x:i.position.x-c+p,y:i.position.y-d+g}}),n.get(a)?.forEach(t=>{e.some(e=>e.id===t.id)||o.push({id:t.id,type:"position",position:{x:t.position.x+c,y:t.position.y+d}})})),(u.width<t.width||u.height<t.height||c||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:f+(c?l[0]*c-p:0),height:h+(d?l[1]*d-g:0)}})}),o}function re(e,t,n,r,o,i){let a=r?.querySelector(".xyflow__viewport"),s=!1;if(!a)return{changes:[],updatedInternals:s};let u=[],l=window.getComputedStyle(a),{m22:c}=new window.DOMMatrixReadOnly(l.transform),d=[];for(let r of e.values()){let e=t.get(r.id);if(!e)continue;if(e.hidden){t.set(e.id,{...e,internals:{...e.internals,handleBounds:void 0}}),s=!0;continue}let a=nN(r.nodeElement),l=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(l||!e.internals.handleBounds||r.force)){let f=r.nodeElement.getBoundingClientRect(),h=n_(e.extent)?e.extent:i,{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=nn(p,a,t.get(e.parentId)):h&&(p=nt(p,h,a));let g={...e,measured:a,internals:{...e.internals,positionAbsolute:p,handleBounds:{source:nz("source",r.nodeElement,f,c,e.id),target:nz("target",r.nodeElement,f,c,e.id)}}};t.set(e.id,g),e.parentId&&n9(g,t,n,{nodeOrigin:o}),s=!0,l&&(u.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:nu(g,o)}))}}if(d.length>0){let e=n7(d,t,n,o);u.push(...e)}return{changes:u,updatedInternals:s}}async function rt({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function rn(e,t,n,r,o,i){let a=o,s=r.get(a)||new Map;r.set(a,s.set(n,t)),a=`${o}-${e}`;let u=r.get(a)||new Map;if(r.set(a,u.set(n,t)),i){a=`${o}-${e}-${i}`;let s=r.get(a)||new Map;r.set(a,s.set(n,t))}}function rr(e,t,n){for(let r of(e.clear(),t.clear(),n)){let{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a},u=`${n}-${i}--${o}-${a}`;rn("source",s,`${o}-${a}--${n}-${i}`,e,n,i),rn("target",s,u,e,o,a),t.set(r.id,r)}}function ro(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)break;r=r?.parentElement}while(r);return!1}function ri({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){let o=[];for(let[e,i]of t){let t=n.get(e)?.internals.userNode;t&&o.push({...t,position:i.position,dragging:r})}if(!e)return[o[0],o];let i=n.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:r}:o[0],o]}function ra({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,u=!1,l={x:0,y:0},c=null,d=!1,h=null,p=!1;return{update:function({noDragClassName:g,handleSelector:v,domNode:m,isSelectable:y,nodeId:x,nodeClickDistance:w=0}){function _({x:e,y:n},o){let{nodeLookup:a,nodeExtent:u,snapGrid:l,snapToGrid:c,nodeOrigin:d,onNodeDrag:f,onSelectionDrag:h,onError:p,updateNodePositions:g}=t();i={x:e,y:n};let v=!1,m={x:0,y:0,x2:0,y2:0};for(let[t,r]of(s.size>1&&u&&(m=na(t3(s))),s)){if(!a.has(t))continue;let o={x:e-r.distance.x,y:n-r.distance.y};c&&(o=ng(o,l));let i=[[u[0][0],u[0][1]],[u[1][0],u[1][1]]];if(s.size>1&&u&&!r.extent){let{positionAbsolute:e}=r.internals,t=e.x-m.x+u[0][0],n=e.x+r.measured.width-m.x2+u[1][0];i=[[t,e.y-m.y+u[0][1]],[n,e.y+r.measured.height-m.y2+u[1][1]]]}let{position:f,positionAbsolute:h}=t8({nodeId:t,nextPosition:o,nodeLookup:a,nodeExtent:i,nodeOrigin:d,onError:p});v=v||r.position.x!==f.x||r.position.y!==f.y,r.position=f,r.internals.positionAbsolute=h}if(v&&(g(s,!0),o&&(r||f||!x&&h))){let[e,t]=ri({nodeId:x,dragItems:s,nodeLookup:a});r?.(o,s,e,t),f?.(o,e,t),x||h?.(o,t)}}async function b(){if(!c)return;let{transform:e,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:o}=t();if(!o){u=!1,cancelAnimationFrame(a);return}let[s,d]=no(l,c,r);(0!==s||0!==d)&&(i.x=(i.x??0)-s/e[2],i.y=(i.y??0)-d/e[2],await n({x:s,y:d})&&_(i,null)),a=requestAnimationFrame(b)}function E(r){let{nodeLookup:o,multiSelectionActive:a,nodesDraggable:u,transform:l,snapGrid:f,snapToGrid:h,selectNodesOnDrag:p,onNodeDragStart:g,onSelectionDragStart:v,unselectNodesAndEdges:m}=t();d=!0,p&&y||a||!x||o.get(x)?.selected||m(),y&&p&&x&&e?.(x);let w=nS(r.sourceEvent,{transform:l,snapGrid:f,snapToGrid:h,containerBounds:c});if(i=w,(s=function(e,t,n,r){let o=new Map;for(let[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!function e(t,n){if(!t.parentId)return!1;let r=n.get(t.parentId);return!!r&&(!!r.selected||e(r,n))}(a,e))&&(a.draggable||t&&void 0===a.draggable)){let t=e.get(i);t&&o.set(i,{id:i,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return o}(o,u,w,x)).size>0&&(n||g||!x&&v)){let[e,t]=ri({nodeId:x,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,e,t),g?.(r.sourceEvent,e,t),x||v?.(r.sourceEvent,t)}}h=en(m);let C=(function(){var e,t,n,r,o=ef,i=eh,a=ep,s=eg,u={},l=f("start","drag","end"),c=0,d=0;function h(e){e.on("mousedown.drag",p).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,eo).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!r&&o.call(this,a,s)){var u=w(this,i.call(this,a,s),a,s,"mouse");u&&(en(a.view).on("mousemove.drag",g,ei).on("mouseup.drag",v,ei),eu(a.view),ea(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function g(r){if(es(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>d}u.mouse("drag",r)}function v(e){en(e.view).on("mousemove.drag mouseup.drag",null),el(e.view,n),es(e),u.mouse("end",e)}function m(e,t){if(o.call(this,e,t)){var n,r,a=e.changedTouches,s=i.call(this,e,t),u=a.length;for(n=0;n<u;++n)(r=w(this,s,e,t,a[n].identifier,a[n]))&&(ea(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=u[r[t].identifier])&&(es(e),n("drag",e,r[t]))}function x(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(n=u[o[t].identifier])&&(ea(e),n("end",e,o[t]))}function w(e,t,n,r,o,i){var s,d,f,p=l.copy(),g=er(i||n,t);if(null!=(f=a.call(e,new ed("beforestart",{sourceEvent:n,target:h,identifier:o,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-g[0]||0,d=f.y-g[1]||0,function n(i,a,l){var v,m=g;switch(i){case"start":u[o]=n,v=c++;break;case"end":delete u[o],--c;case"drag":g=er(l||a,t),v=c}p.call(i,e,new ed(i,{sourceEvent:a,subject:f,target:h,identifier:o,active:v,x:g[0]+s,y:g[1]+d,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(o="function"==typeof e?e:ec(!!e),h):o},h.container=function(e){return arguments.length?(i="function"==typeof e?e:ec(e),h):i},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:ec(e),h):a},h.touchable=function(e){return arguments.length?(s="function"==typeof e?e:ec(!!e),h):s},h.on=function(){var e=l.on.apply(l,arguments);return e===l?h:e},h.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,h):Math.sqrt(d)},h})().clickDistance(w).on("start",e=>{let{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:a,snapToGrid:s}=t();c=n?.getBoundingClientRect()||null,p=!1,0===r&&E(e),i=nS(e.sourceEvent,{transform:o,snapGrid:a,snapToGrid:s,containerBounds:c}),l=nR(e.sourceEvent,c)}).on("drag",e=>{let{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:a,nodeDragThreshold:f,nodeLookup:h}=t(),g=nS(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:a,containerBounds:c});if(("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||x&&!h.has(x))&&(p=!0),!p){if(!u&&n&&d&&(u=!0,b()),!d){let t=g.xSnapped-(i.x??0),n=g.ySnapped-(i.y??0);Math.sqrt(t*t+n*n)>f&&E(e)}(i.x!==g.xSnapped||i.y!==g.ySnapped)&&s&&d&&(l=nR(e.sourceEvent,c),_(g,e.sourceEvent))}}).on("end",e=>{if(d&&!p&&(u=!1,d=!1,cancelAnimationFrame(a),s.size>0)){let{nodeLookup:n,updateNodePositions:r,onNodeDragStop:i,onSelectionDragStop:a}=t();if(r(s,!1),o||i||!x&&a){let[t,r]=ri({nodeId:x,dragItems:s,nodeLookup:n,dragging:!1});o?.(e.sourceEvent,s,t,r),i?.(e.sourceEvent,t,r),x||a?.(e.sourceEvent,r)}}}).filter(e=>{let t=e.target;return!e.button&&(!g||!ro(t,`.${g}`,m))&&(!v||ro(t,v,m))});h.call(C)},destroy:function(){h?.on(".drag",null)}}}function rs(e,t,n,r,o,i=!1){let a=r.get(e);if(!a)return null;let s="strict"===o?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find(e=>e.id===n):s?.[0])??null;return u&&i?{...u,...nQ(a,u,u.position,!0)}:u}function ru(e,t){return e?e:t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null}let rl=()=>!0;function rc(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:a,doc:s,lib:u,flowId:l,isValidConnection:c=rl,nodeLookup:d}){let f="target"===a,h=t?s.querySelector(`.${u}-flow__handle[data-id="${l}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=nR(e),v=s.elementFromPoint(p,g),m=v?.classList.contains(`${u}-flow__handle`)?v:h,y={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){let e=ru(void 0,m),t=m.getAttribute("data-nodeid"),a=m.getAttribute("data-handleid"),s=m.classList.contains("connectable"),u=m.classList.contains("connectableend");if(!t||!e)return y;let l={source:f?t:r,sourceHandle:f?a:i,target:f?r:t,targetHandle:f?i:a};y.connection=l,y.isValid=s&&u&&(n===o.Strict?f&&"source"===e||!f&&"target"===e:t!==r||a!==i)&&c(l),y.toHandle=rs(t,e,a,d,n,!1)}return y}let rd={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:u,lib:c,autoPanOnConnect:d,flowId:f,panBy:h,cancelConnection:p,onConnectStart:g,onConnect:v,onConnectEnd:m,isValidConnection:y=rl,onReconnectEnd:x,updateConnection:w,getTransform:_,getFromHandle:b,autoPanSpeed:E}){let C;let k=nM(e.target),S=0,{x:N,y:M}=nR(e),j=ru(i,k?.elementFromPoint(N,M)),I=s?.getBoundingClientRect();if(!I||!j)return;let A=rs(o,j,r,u,t);if(!A)return;let R=nR(e,I),z=!1,P=null,O=!1,$=null,D={...A,nodeId:o,type:j,position:A.position},T=u.get(o),B={inProgress:!0,isValid:null,from:nQ(T,D,l.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:T,to:R,toHandle:null,toPosition:tK[D.position],toNode:null};w(B);let L=B;function U(e){var i,s;let l;if(!b()||!D){V(e);return}let p=_();C=function(e,t,n,r){let o=[],i=1/0;for(let a of function(e,t,n){let r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())nd(o,nu(e))>0&&r.push(e);return r}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:s,y:u}=nQ(a,n,n.position,!0),l=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(u-e.y,2));!(l>t)&&(l<i?(o=[{...n,x:s,y:u}],i=l):l===i&&o.push({...n,x:s,y:u}))}if(!o.length)return null;if(o.length>1){let e="source"===r.type?"target":"source";return o.find(t=>t.type===e)??o[0]}return o[0]}(nv(R=nR(e,I),p,!1,[1,1]),n,u,D),z||(function e(){if(!d||!I)return;let[t,n]=no(R,I,E);h({x:t,y:n}),S=requestAnimationFrame(e)}(),z=!0);let g=rc(e,{handle:C,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:k,lib:c,flowId:f,nodeLookup:u});$=g.handleDomNode,P=g.connection,i=!!C,s=g.isValid,l=null,s?l=!0:i&&!s&&(l=!1),O=l;let v={...L,isValid:O,to:C&&O?nm({x:C.x,y:C.y},p):R,toHandle:g.toHandle,toPosition:O&&g.toHandle?g.toHandle.position:tK[D.position],toNode:g.toHandle?u.get(g.toHandle.nodeId):null};(!O||!C||!L.toHandle||!v.toHandle||L.toHandle.type!==v.toHandle.type||L.toHandle.nodeId!==v.toHandle.nodeId||L.toHandle.id!==v.toHandle.id||L.to.x!==v.to.x||L.to.y!==v.to.y)&&(w(v),L=v)}function V(e){(C||$)&&P&&O&&v?.(P);let{inProgress:t,...n}=L,r={...n,toPosition:L.toHandle?L.toPosition:null};m?.(e,r),i&&x?.(e,r),p(),cancelAnimationFrame(S),z=!1,O=!1,P=null,$=null,k.removeEventListener("mousemove",U),k.removeEventListener("mouseup",V),k.removeEventListener("touchmove",U),k.removeEventListener("touchend",V)}g?.(e,{nodeId:o,handleId:r,handleType:j}),k.addEventListener("mousemove",U),k.addEventListener("mouseup",V),k.addEventListener("touchmove",U),k.addEventListener("touchend",V)},isValid:rc};function rf({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){let o=en(e);return{update:function({translateExtent:e,width:i,height:a,zoomStep:s=10,pannable:u=!0,zoomable:l=!0,inversePan:c=!1}){let d=[0,0],f=tY().on("start",e=>{("mousedown"===e.sourceEvent.type||"touchstart"===e.sourceEvent.type)&&(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",u?o=>{let s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!t)return;let u=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],l=[u[0]-d[0],u[1]-d[1]];d=u;let f=r()*Math.max(s[2],Math.log(s[2]))*(c?-1:1),h={x:s[0]-l[0]*f,y:s[1]-l[1]*f};t.setViewportConstrained({x:h.x,y:h.y,zoom:s[2]},[[0,0],[i,a]],e)}:null).on("zoom.wheel",l?e=>{let r=n();if("wheel"!==e.sourceEvent.type||!t)return;let o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,i=r[2]*Math.pow(2,o);t.scaleTo(i)}:null);o.call(f,{})},destroy:function(){o.on("zoom",null)},pointer:er}}let rh=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,rp=e=>({x:e.x,y:e.y,zoom:e.k}),rg=({x:e,y:t,zoom:n})=>t$.translate(e,t).scale(n),rv=(e,t)=>e.target.closest(`.${t}`),rm=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),ry=(e,t=0,n=()=>{})=>{let r="number"==typeof t&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},rx=e=>{let t=e.ctrlKey&&nw()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function rw({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:a,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:l,onDraggingChange:c}){let d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=tY().clickDistance(!nh(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),p=en(e).call(h);x({x:a.x,y:a.y,zoom:ne(a.zoom,t,n)},[[0,0],[f.width,f.height]],o);let g=p.on("wheel.zoom"),v=p.on("dblclick.zoom");function m(e,t){return p?new Promise(n=>{h?.transform(ry(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)}function y(){h.on("zoom",null)}async function x(e,t,n){let r=rg(e),o=h?.constrain()(r,t,n);return o&&await m(o),new Promise(e=>e(o))}return h.wheelDelta(rx),{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:a,panOnScrollMode:f,panOnScrollSpeed:m,preventScrolling:x,zoomOnPinch:w,zoomOnScroll:_,zoomOnDoubleClick:b,zoomActivationKeyPressed:E,lib:C,onTransformChange:k}){r&&!d.isZoomingOrPanning&&y();let S=!o||E||r?function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){if(!t&&"wheel"===r.type&&!r.ctrlKey||rv(r,e))return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:e,preventScrolling:x,d3ZoomHandler:g}):function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:a,zoomOnPinch:s,onPanZoomStart:u,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(rv(d,t))return!1;d.preventDefault(),d.stopImmediatePropagation();let f=n.property("__zoom").k||1;if(d.ctrlKey&&s){let e=er(d),t=f*Math.pow(2,rx(d));r.scaleTo(n,t,e,d);return}let h=1===d.deltaMode?20:1,p=o===i.Vertical?0:d.deltaX*h,g=o===i.Horizontal?0:d.deltaY*h;!nw()&&d.shiftKey&&o!==i.Vertical&&(p=d.deltaY*h,g=0),r.translateBy(n,-(p/f)*a,-(g/f)*a,{internal:!0});let v=rp(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,u?.(d,v)),e.isPanScrolling&&(l?.(d,v),e.panScrollTimeout=setTimeout(()=>{c?.(d,v),e.isPanScrolling=!1},150))}}({zoomPanValues:d,noWheelClassName:e,d3Selection:p,d3Zoom:h,panOnScrollMode:f,panOnScrollSpeed:m,zoomOnPinch:w,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:l});if(p.on("wheel.zoom",S,{passive:!1}),!r){let e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;let o=rp(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:u});h.on("start",e);let t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{e.usedRightMouseButton=!!(n&&rm(t,e.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,rp(i.transform))}}({zoomPanValues:d,panOnDrag:a,onPaneContextMenu:!!n,onPanZoom:s,onTransformChange:k});h.on("zoom",t);let r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&rm(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&rh(e.prevViewport,a.transform))){let t=rp(a.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(a.sourceEvent,t)},150*!!n)}}}({zoomPanValues:d,panOnDrag:a,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:l,onDraggingChange:c});h.on("end",r)}let N=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:l}){return c=>{let d=e||t,f=n&&c.ctrlKey;if(1===c.button&&"mousedown"===c.type&&(rv(c,`${l}-flow__node`)||rv(c,`${l}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||a||rv(c,s)&&"wheel"===c.type||rv(c,u)&&("wheel"!==c.type||o&&"wheel"===c.type&&!e)||!n&&c.ctrlKey&&"wheel"===c.type)return!1;if(!n&&"touchstart"===c.type&&c.touches?.length>1)return c.preventDefault(),!1;if(!d&&!o&&!f&&"wheel"===c.type||!r&&("mousedown"===c.type||"touchstart"===c.type)||Array.isArray(r)&&!r.includes(c.button)&&"mousedown"===c.type)return!1;let h=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||"wheel"===c.type)&&h}}({zoomActivationKeyPressed:E,panOnDrag:a,zoomOnScroll:_,panOnScroll:o,zoomOnDoubleClick:b,zoomOnPinch:w,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:C});h.filter(N),b?p.on("dblclick.zoom",v):p.on("dblclick.zoom",null)},destroy:y,setViewport:async function e(e,t){let n=rg(e);return await m(n,t),new Promise(e=>e(n))},setViewportConstrained:x,getViewport:function(){let e=p?tD(p.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return p?new Promise(n=>{h?.scaleTo(ry(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return p?new Promise(n=>{h?.scaleBy(ry(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){h?.scaleExtent(e)},setTranslateExtent:function(e){h?.translateExtent(e)},syncViewport:function(e){if(p){let t=rg(e),n=p.property("__zoom");(n.k!==e.zoom||n.x!==e.x||n.y!==e.y)&&h?.transform(p,t,null,{sync:!0})}},setClickDistance:function(e){let t=!nh(e)||e<0?0:e;h?.clickDistance(t)}}}!function(e){e.Line="line",e.Handle="handle"}(c||(c={}))},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},74354:(e,t,n)=>{var r=n(23768),o=n(77200),i=n(37263),a=n(51719);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},74913:e=>{e.exports=function(e){return e!=e}},76760:e=>{"use strict";e.exports=require("node:path")},76830:e=>{"use strict";e.exports=require("prettier/parser-babel")},77200:(e,t,n)=>{var r=n(38487);e.exports=function(e,t){var n=[];return r(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}},77337:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{A:()=>u});var o=n(13486);n(60159);var i=n(35412),a=n(3117),s=e([i,a]);[i,a]=s.then?(await s)():s;let u=e=>{let{isEdit:t,dates:n,onChange:r}=e;return t||n?.length===2?(0,o.jsxs)("div",{className:"mt-1.5 flex items-center text-[11px] text-gray-400",children:[!t&&(0,o.jsx)(i.hOh,{className:"text-xs mr-1"}),(0,o.jsx)(a.n,{value:n,isEdit:t,onChange:e=>r({dates:e})})]}):null};r()}catch(e){r(e)}})},78288:(e,t,n)=>{var r=n(82629),o=n(11693),i=n(31354);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},78877:e=>{"use strict";e.exports=require("node:v8")},80617:(e,t,n)=>{var r=n(59234),o=n(29065),i=n(93040),a=n(85378);e.exports=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])})},81193:function(e,t,n){var r;e=n.nmd(e),(function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=1/0,l=0/0,c=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],d="[object Arguments]",f="[object Array]",h="[object Boolean]",p="[object Date]",g="[object Error]",v="[object Function]",m="[object GeneratorFunction]",y="[object Map]",x="[object Number]",w="[object Object]",_="[object Promise]",b="[object RegExp]",E="[object Set]",C="[object String]",k="[object Symbol]",S="[object WeakMap]",N="[object ArrayBuffer]",M="[object DataView]",j="[object Float32Array]",I="[object Float64Array]",A="[object Int8Array]",R="[object Int16Array]",z="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",$="[object Uint16Array]",D="[object Uint32Array]",T=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,L=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,F=RegExp(U.source),H=RegExp(V.source),W=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,Q=RegExp(K.source),J=/^\s+/,ee=/\s/,et=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,en=/\{\n\/\* \[wrapped with (.+)\] \*/,er=/,? & /,eo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ei=/[()=,{}\[\]\/\s]/,ea=/\\(\\)?/g,es=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,eu=/\w*$/,el=/^[-+]0x[0-9a-f]+$/i,ec=/^0b[01]+$/i,ed=/^\[object .+?Constructor\]$/,ef=/^0o[0-7]+$/i,eh=/^(?:0|[1-9]\d*)$/,ep=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,eg=/($^)/,ev=/['\n\r\u2028\u2029\\]/g,em="\ud800-\udfff",ey="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ex="\\u2700-\\u27bf",ew="a-z\\xdf-\\xf6\\xf8-\\xff",e_="A-Z\\xc0-\\xd6\\xd8-\\xde",eb="\\ufe0e\\ufe0f",eE="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eC="['’]",ek="["+eE+"]",eS="["+ey+"]",eN="["+ew+"]",eM="[^"+em+eE+"\\d+"+ex+ew+e_+"]",ej="\ud83c[\udffb-\udfff]",eI="[^"+em+"]",eA="(?:\ud83c[\udde6-\uddff]){2}",eR="[\ud800-\udbff][\udc00-\udfff]",ez="["+e_+"]",eP="\\u200d",eO="(?:"+eN+"|"+eM+")",e$="(?:"+ez+"|"+eM+")",eD="(?:"+eC+"(?:d|ll|m|re|s|t|ve))?",eT="(?:"+eC+"(?:D|LL|M|RE|S|T|VE))?",eB="(?:"+eS+"|"+ej+")?",eL="["+eb+"]?",eU="(?:"+eP+"(?:"+[eI,eA,eR].join("|")+")"+eL+eB+")*",eV=eL+eB+eU,eF="(?:"+["["+ex+"]",eA,eR].join("|")+")"+eV,eH="(?:"+[eI+eS+"?",eS,eA,eR,"["+em+"]"].join("|")+")",eW=RegExp(eC,"g"),eY=RegExp(eS,"g"),eq=RegExp(ej+"(?="+ej+")|"+eH+eV,"g"),eX=RegExp([ez+"?"+eN+"+"+eD+"(?="+[ek,ez,"$"].join("|")+")",e$+"+"+eT+"(?="+[ek,ez+eO,"$"].join("|")+")",ez+"?"+eO+"+"+eD,ez+"+"+eT,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",eF].join("|"),"g"),eG=RegExp("["+eP+em+ey+eb+"]"),eZ=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eK=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],eQ=-1,eJ={};eJ[j]=eJ[I]=eJ[A]=eJ[R]=eJ[z]=eJ[P]=eJ[O]=eJ[$]=eJ[D]=!0,eJ[d]=eJ[f]=eJ[N]=eJ[h]=eJ[M]=eJ[p]=eJ[g]=eJ[v]=eJ[y]=eJ[x]=eJ[w]=eJ[b]=eJ[E]=eJ[C]=eJ[S]=!1;var e0={};e0[d]=e0[f]=e0[N]=e0[M]=e0[h]=e0[p]=e0[j]=e0[I]=e0[A]=e0[R]=e0[z]=e0[y]=e0[x]=e0[w]=e0[b]=e0[E]=e0[C]=e0[k]=e0[P]=e0[O]=e0[$]=e0[D]=!0,e0[g]=e0[v]=e0[S]=!1;var e1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},e2=parseFloat,e5=parseInt,e3="object"==typeof global&&global&&global.Object===Object&&global,e4="object"==typeof self&&self&&self.Object===Object&&self,e6=e3||e4||Function("return this")(),e9=t&&!t.nodeType&&t,e8=e9&&e&&!e.nodeType&&e,e7=e8&&e8.exports===e9,te=e7&&e3.process,tt=function(){try{var e=e8&&e8.require&&e8.require("util").types;if(e)return e;return te&&te.binding&&te.binding("util")}catch(e){}}(),tn=tt&&tt.isArrayBuffer,tr=tt&&tt.isDate,to=tt&&tt.isMap,ti=tt&&tt.isRegExp,ta=tt&&tt.isSet,ts=tt&&tt.isTypedArray;function tu(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function tl(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function tc(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function td(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function tf(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function th(e,t){return!!(null==e?0:e.length)&&tE(e,t,0)>-1}function tp(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function tg(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function tv(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function tm(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function ty(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function tx(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var tw=tN("length");function t_(e,t,n){var r;return n(e,function(e,n,o){if(t(e,n,o))return r=n,!1}),r}function tb(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return -1}function tE(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return -1}(e,t,n):tb(e,tk,n)}function tC(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return -1}function tk(e){return e!=e}function tS(e,t){var n=null==e?0:e.length;return n?tI(e,t)/n:l}function tN(e){return function(t){return null==t?o:t[e]}}function tM(e){return function(t){return null==e?o:e[t]}}function tj(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function tI(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);o!==a&&(n=o===n?a:n+a)}return n}function tA(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function tR(e){return e?e.slice(0,tX(e)+1).replace(J,""):e}function tz(e){return function(t){return e(t)}}function tP(e,t){return tg(t,function(t){return e[t]})}function tO(e,t){return e.has(t)}function t$(e,t){for(var n=-1,r=e.length;++n<r&&tE(t,e[n],0)>-1;);return n}function tD(e,t){for(var n=e.length;n--&&tE(t,e[n],0)>-1;);return n}var tT=tM({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tB=tM({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tL(e){return"\\"+e1[e]}function tU(e){return eG.test(e)}function tV(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function tF(e,t){return function(n){return e(t(n))}}function tH(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];(a===t||a===s)&&(e[n]=s,i[o++]=n)}return i}function tW(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function tY(e){return tU(e)?function(e){for(var t=eq.lastIndex=0;eq.test(e);)++t;return t}(e):tw(e)}function tq(e){return tU(e)?e.match(eq)||[]:e.split("")}function tX(e){for(var t=e.length;t--&&ee.test(e.charAt(t)););return t}var tG=tM({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),tZ=function e(t){var n,r,ee,em,ey=(t=null==t?e6:tZ.defaults(e6.Object(),t,tZ.pick(e6,eK))).Array,ex=t.Date,ew=t.Error,e_=t.Function,eb=t.Math,eE=t.Object,eC=t.RegExp,ek=t.String,eS=t.TypeError,eN=ey.prototype,eM=e_.prototype,ej=eE.prototype,eI=t["__core-js_shared__"],eA=eM.toString,eR=ej.hasOwnProperty,ez=0,eP=(n=/[^.]+$/.exec(eI&&eI.keys&&eI.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",eO=ej.toString,e$=eA.call(eE),eD=e6._,eT=eC("^"+eA.call(eR).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eB=e7?t.Buffer:o,eL=t.Symbol,eU=t.Uint8Array,eV=eB?eB.allocUnsafe:o,eF=tF(eE.getPrototypeOf,eE),eH=eE.create,eq=ej.propertyIsEnumerable,eG=eN.splice,e1=eL?eL.isConcatSpreadable:o,e3=eL?eL.iterator:o,e4=eL?eL.toStringTag:o,e9=function(){try{var e=of(eE,"defineProperty");return e({},"",{}),e}catch(e){}}(),e8=t.clearTimeout!==e6.clearTimeout&&t.clearTimeout,te=ex&&ex.now!==e6.Date.now&&ex.now,tt=t.setTimeout!==e6.setTimeout&&t.setTimeout,tw=eb.ceil,tM=eb.floor,tK=eE.getOwnPropertySymbols,tQ=eB?eB.isBuffer:o,tJ=t.isFinite,t0=eN.join,t1=tF(eE.keys,eE),t2=eb.max,t5=eb.min,t3=ex.now,t4=t.parseInt,t6=eb.random,t9=eN.reverse,t8=of(t,"DataView"),t7=of(t,"Map"),ne=of(t,"Promise"),nt=of(t,"Set"),nn=of(t,"WeakMap"),nr=of(eE,"create"),no=nn&&new nn,ni={},na=oD(t8),ns=oD(t7),nu=oD(ne),nl=oD(nt),nc=oD(nn),nd=eL?eL.prototype:o,nf=nd?nd.valueOf:o,nh=nd?nd.toString:o;function np(e){if(iX(e)&&!iD(e)&&!(e instanceof ny)){if(e instanceof nm)return e;if(eR.call(e,"__wrapped__"))return oT(e)}return new nm(e)}var ng=function(){function e(){}return function(t){if(!iq(t))return{};if(eH)return eH(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function nv(){}function nm(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function ny(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=0xffffffff,this.__views__=[]}function nx(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nw(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function n_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nb(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new n_;++t<n;)this.add(e[t])}function nE(e){var t=this.__data__=new nw(e);this.size=t.size}function nC(e,t){var n=iD(e),r=!n&&i$(e),o=!n&&!r&&iU(e),i=!n&&!r&&!o&&i2(e),a=n||r||o||i,s=a?tA(e.length,ek):[],u=s.length;for(var l in e)(t||eR.call(e,l))&&!(a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ox(l,u)))&&s.push(l);return s}function nk(e){var t=e.length;return t?e[rl(0,t-1)]:o}np.templateSettings={escape:W,evaluate:Y,interpolate:q,variable:"",imports:{_:np}},np.prototype=nv.prototype,np.prototype.constructor=np,nm.prototype=ng(nv.prototype),nm.prototype.constructor=nm,ny.prototype=ng(nv.prototype),ny.prototype.constructor=ny,nx.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},nx.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=+!!t,t},nx.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===a?o:n}return eR.call(t,e)?t[e]:o},nx.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==o:eR.call(t,e)},nx.prototype.set=function(e,t){var n=this.__data__;return this.size+=+!this.has(e),n[e]=nr&&o===t?a:t,this},nw.prototype.clear=function(){this.__data__=[],this.size=0},nw.prototype.delete=function(e){var t=this.__data__,n=nM(t,e);return!(n<0)&&(n==t.length-1?t.pop():eG.call(t,n,1),--this.size,!0)},nw.prototype.get=function(e){var t=this.__data__,n=nM(t,e);return n<0?o:t[n][1]},nw.prototype.has=function(e){return nM(this.__data__,e)>-1},nw.prototype.set=function(e,t){var n=this.__data__,r=nM(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},n_.prototype.clear=function(){this.size=0,this.__data__={hash:new nx,map:new(t7||nw),string:new nx}},n_.prototype.delete=function(e){var t=oc(this,e).delete(e);return this.size-=+!!t,t},n_.prototype.get=function(e){return oc(this,e).get(e)},n_.prototype.has=function(e){return oc(this,e).has(e)},n_.prototype.set=function(e,t){var n=oc(this,e),r=n.size;return n.set(e,t),this.size+=+(n.size!=r),this},nb.prototype.add=nb.prototype.push=function(e){return this.__data__.set(e,a),this},nb.prototype.has=function(e){return this.__data__.has(e)};function nS(e,t,n){(o===n||iz(e[t],n))&&(o!==n||t in e)||nA(e,t,n)}function nN(e,t,n){var r=e[t];eR.call(e,t)&&iz(r,n)&&(o!==n||t in e)||nA(e,t,n)}function nM(e,t){for(var n=e.length;n--;)if(iz(e[n][0],t))return n;return -1}function nj(e,t,n,r){return nT(e,function(e,o,i){t(r,e,n(e),i)}),r}function nI(e,t){return e&&rU(t,ap(t),e)}function nA(e,t,n){"__proto__"==t&&e9?e9(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function nR(e,t){for(var n=-1,r=t.length,i=ey(r),a=null==e;++n<r;)i[n]=a?o:al(e,t[n]);return i}function nz(e,t,n){return e==e&&(o!==n&&(e=e<=n?e:n),o!==t&&(e=e>=t?e:t)),e}function nP(e,t,n,r,i,a){var s,u=1&t,l=2&t,c=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),o!==s)return s;if(!iq(e))return e;var f=iD(e);if(f){if(_=(g=e).length,S=new g.constructor(_),_&&"string"==typeof g[0]&&eR.call(g,"index")&&(S.index=g.index,S.input=g.input),s=S,!u)return rL(e,s)}else{var g,_,S,T,B,L,U,V,F=og(e),H=F==v||F==m;if(iU(e))return rP(e,u);if(F==w||F==d||H&&!i){if(s=l||H?{}:om(e),!u){return l?(T=e,B=(V=s)&&rU(e,ag(e),V),rU(T,op(T),B)):(L=e,U=nI(s,e),rU(L,oh(L),U))}}else{if(!e0[F])return i?e:{};s=function(e,t,n){var r,o,i=e.constructor;switch(t){case N:return rO(e);case h:case p:return new i(+e);case M:return r=n?rO(e.buffer):e.buffer,new e.constructor(r,e.byteOffset,e.byteLength);case j:case I:case A:case R:case z:case P:case O:case $:case D:return r$(e,n);case y:return new i;case x:case C:return new i(e);case b:return(o=new e.constructor(e.source,eu.exec(e))).lastIndex=e.lastIndex,o;case E:return new i;case k:return nf?eE(nf.call(e)):{}}}(e,F,u)}}a||(a=new nE);var W=a.get(e);if(W)return W;a.set(e,s),iJ(e)?e.forEach(function(r){s.add(nP(r,t,n,r,e,a))}):iG(e)&&e.forEach(function(r,o){s.set(o,nP(r,t,n,o,e,a))});var Y=c?l?oi:oo:l?ag:ap,q=f?o:Y(e);return tc(q||e,function(r,o){q&&(r=e[o=r]),nN(s,o,nP(r,t,n,o,e,a))}),s}function nO(e,t,n){var r=n.length;if(null==e)return!r;for(e=eE(e);r--;){var i=n[r],a=t[i],s=e[i];if(o===s&&!(i in e)||!a(s))return!1}return!0}function n$(e,t,n){if("function"!=typeof e)throw new eS(i);return oI(function(){e.apply(o,n)},t)}function nD(e,t,n,r){var o=-1,i=th,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=tg(t,tz(n))),r?(i=tp,a=!1):t.length>=200&&(i=tO,a=!1,t=new nb(t));e:for(;++o<s;){var c=e[o],d=null==n?c:n(c);if(c=r||0!==c?c:0,a&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;u.push(c)}else i(t,d,r)||u.push(c)}return u}nE.prototype.clear=function(){this.__data__=new nw,this.size=0},nE.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nE.prototype.get=function(e){return this.__data__.get(e)},nE.prototype.has=function(e){return this.__data__.has(e)},nE.prototype.set=function(e,t){var n=this.__data__;if(n instanceof nw){var r=n.__data__;if(!t7||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new n_(r)}return n.set(e,t),this.size=n.size,this};var nT=rH(nY),nB=rH(nq,!0);function nL(e,t){var n=!0;return nT(e,function(e,r,o){return n=!!t(e,r,o)}),n}function nU(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(o===u?s==s&&!i1(s):n(s,u)))var u=s,l=a}return l}function nV(e,t){var n=[];return nT(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function nF(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=oy),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?nF(s,t-1,n,r,o):tv(o,s):r||(o[o.length]=s)}return o}var nH=rW(),nW=rW(!0);function nY(e,t){return e&&nH(e,t,ap)}function nq(e,t){return e&&nW(e,t,ap)}function nX(e,t){return tf(t,function(t){return iH(e[t])})}function nG(e,t){t=rA(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o$(t[n++])];return n&&n==r?e:o}function nZ(e,t,n){var r=t(e);return iD(e)?r:tv(r,n(e))}function nK(e){var t;return null==e?o===e?"[object Undefined]":"[object Null]":e4&&e4 in eE(e)?function(e){var t=eR.call(e,e4),n=e[e4];try{e[e4]=o;var r=!0}catch(e){}var i=eO.call(e);return r&&(t?e[e4]=n:delete e[e4]),i}(e):(t=e,eO.call(t))}function nQ(e,t){return e>t}function nJ(e,t){return null!=e&&eR.call(e,t)}function n0(e,t){return null!=e&&t in eE(e)}function n1(e,t,n){for(var r=n?tp:th,i=e[0].length,a=e.length,s=a,u=ey(a),l=1/0,c=[];s--;){var d=e[s];s&&t&&(d=tg(d,tz(t))),l=t5(d.length,l),u[s]=!n&&(t||i>=120&&d.length>=120)?new nb(s&&d):o}d=e[0];var f=-1,h=u[0];e:for(;++f<i&&c.length<l;){var p=d[f],g=t?t(p):p;if(p=n||0!==p?p:0,!(h?tO(h,g):r(c,g,n))){for(s=a;--s;){var v=u[s];if(!(v?tO(v,g):r(e[s],g,n)))continue e}h&&h.push(g),c.push(p)}}return c}function n2(e,t,n){t=rA(t,e);var r=null==(e=oN(e,t))?e:e[o$(oG(t))];return null==r?o:tu(r,e,n)}function n5(e){return iX(e)&&nK(e)==d}function n3(e,t,n,r,i){return e===t||(null!=e&&null!=t&&(iX(e)||iX(t))?function(e,t,n,r,i,a){var s=iD(e),u=iD(t),l=s?f:og(e),c=u?f:og(t);l=l==d?w:l,c=c==d?w:c;var v=l==w,m=c==w,_=l==c;if(_&&iU(e)){if(!iU(t))return!1;s=!0,v=!1}if(_&&!v)return a||(a=new nE),s||i2(e)?on(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case N:if(e.byteLength!=t.byteLength||!i(new eU(e),new eU(t)))break;return!0;case h:case p:case x:return iz(+e,+t);case g:return e.name==t.name&&e.message==t.message;case b:case C:return e==t+"";case y:var s=tV;case E:var u=1&r;if(s||(s=tW),e.size!=t.size&&!u)break;var l=a.get(e);if(l)return l==t;r|=2,a.set(e,t);var c=on(s(e),s(t),r,o,i,a);return a.delete(e),c;case k:if(nf)return nf.call(e)==nf.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var S=v&&eR.call(e,"__wrapped__"),j=m&&eR.call(t,"__wrapped__");if(S||j){var I=S?e.value():e,A=j?t.value():t;return a||(a=new nE),i(I,A,n,r,a)}}return!!_&&(a||(a=new nE),function(e,t,n,r,i,a){var s=1&n,u=oo(e),l=u.length;if(l!=oo(t).length&&!s)return!1;for(var c=l;c--;){var d=u[c];if(!(s?d in t:eR.call(t,d)))return!1}var f=a.get(e),h=a.get(t);if(f&&h)return f==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var g=s;++c<l;){var v=e[d=u[c]],m=t[d];if(r)var y=s?r(m,v,d,t,e,a):r(v,m,d,e,t,a);if(!(o===y?v===m||i(v,m,n,r,a):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,r,i,a))}(e,t,n,r,n3,i):e!=e&&t!=t)}function n4(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=eE(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){var l=(u=n[i])[0],c=e[l],d=u[1];if(s&&u[2]){if(o===c&&!(l in e))return!1}else{var f=new nE;if(r)var h=r(c,d,l,e,t,f);if(!(o===h?n3(d,c,3,r,f):h))return!1}}return!0}function n6(e){var t;return!(!iq(e)||(t=e,eP&&eP in t))&&(iH(e)?eT:ed).test(oD(e))}function n9(e){return"function"==typeof e?e:null==e?aL:"object"==typeof e?iD(e)?rn(e[0],e[1]):rt(e):aG(e)}function n8(e){if(!oC(e))return t1(e);var t=[];for(var n in eE(e))eR.call(e,n)&&"constructor"!=n&&t.push(n);return t}function n7(e,t){return e<t}function re(e,t){var n=-1,r=iB(e)?ey(e.length):[];return nT(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function rt(e){var t=od(e);return 1==t.length&&t[0][2]?ok(t[0][0],t[0][1]):function(n){return n===e||n4(n,e,t)}}function rn(e,t){var n;return o_(e)&&(n=t)==n&&!iq(n)?ok(o$(e),t):function(n){var r=al(n,e);return o===r&&r===t?ac(n,e):n3(t,r,3)}}function rr(e,t,n,r,i){e!==t&&nH(t,function(a,s){if(i||(i=new nE),iq(a))(function(e,t,n,r,i,a,s){var u=oM(e,n),l=oM(t,n),c=s.get(l);if(c){nS(e,n,c);return}var d=a?a(u,l,n+"",e,t,s):o,f=o===d;if(f){var h=iD(l),p=!h&&iU(l),g=!h&&!p&&i2(l);d=l,h||p||g?iD(u)?d=u:iL(u)?d=rL(u):p?(f=!1,d=rP(l,!0)):g?(f=!1,d=r$(l,!0)):d=[]:iK(l)||i$(l)?(d=u,i$(u)?d=ae(u):(!iq(u)||iH(u))&&(d=om(l))):f=!1}f&&(s.set(l,d),i(d,l,r,a,s),s.delete(l)),nS(e,n,d)})(e,t,s,n,rr,r,i);else{var u=r?r(oM(e,s),a,s+"",e,t,i):o;o===u&&(u=a),nS(e,s,u)}},ag)}function ro(e,t){var n=e.length;if(n)return ox(t+=t<0?n:0,n)?e[t]:o}function ri(e,t,n){t=t.length?tg(t,function(e){return iD(e)?function(t){return nG(t,1===e.length?e[0]:e)}:e}):[aL];var r=-1;return t=tg(t,tz(ol())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(re(e,function(e,n,o){return{criteria:tg(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;++r<a;){var u=rD(o[r],i[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return e.index-t.index}(e,t,n)})}function ra(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=nG(e,a);n(s,a)&&rf(i,rA(a,e),s)}return i}function rs(e,t,n,r){var o=r?tC:tE,i=-1,a=t.length,s=e;for(e===t&&(t=rL(t)),n&&(s=tg(e,tz(n)));++i<a;)for(var u=0,l=t[i],c=n?n(l):l;(u=o(s,c,u,r))>-1;)s!==e&&eG.call(s,u,1),eG.call(e,u,1);return e}function ru(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;ox(o)?eG.call(e,o,1):rE(e,o)}}return e}function rl(e,t){return e+tM(t6()*(t-e+1))}function rc(e,t){var n="";if(!e||t<1||t>0x1fffffffffffff)return n;do t%2&&(n+=e),(t=tM(t/2))&&(e+=e);while(t);return n}function rd(e,t){return oA(oS(e,t,aL),e+"")}function rf(e,t,n,r){if(!iq(e))return e;t=rA(t,e);for(var i=-1,a=t.length,s=a-1,u=e;null!=u&&++i<a;){var l=o$(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)break;if(i!=s){var d=u[l];c=r?r(d,l,u):o,o===c&&(c=iq(d)?d:ox(t[i+1])?[]:{})}nN(u,l,c),u=u[l]}return e}var rh=no?function(e,t){return no.set(e,t),e}:aL,rp=e9?function(e,t){return e9(e,"toString",{configurable:!0,enumerable:!1,value:aD(t),writable:!0})}:aL;function rg(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ey(o);++r<o;)i[r]=e[r+t];return i}function rv(e,t){var n;return nT(e,function(e,r,o){return!(n=t(e,r,o))}),!!n}function rm(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=0x7fffffff){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!i1(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ry(e,t,aL,n)}function ry(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,u=null===t,l=i1(t),c=o===t;i<a;){var d=tM((i+a)/2),f=n(e[d]),h=o!==f,p=null===f,g=f==f,v=i1(f);if(s)var m=r||g;else m=c?g&&(r||h):u?g&&h&&(r||!p):l?g&&h&&!p&&(r||!v):!p&&!v&&(r?f<=t:f<t);m?i=d+1:a=d}return t5(a,0xfffffffe)}function rx(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!iz(s,u)){var u=s;i[o++]=0===a?0:a}}return i}function rw(e){return"number"==typeof e?e:i1(e)?l:+e}function r_(e){if("string"==typeof e)return e;if(iD(e))return tg(e,r_)+"";if(i1(e))return nh?nh.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function rb(e,t,n){var r=-1,o=th,i=e.length,a=!0,s=[],u=s;if(n)a=!1,o=tp;else if(i>=200){var l=t?null:r6(e);if(l)return tW(l);a=!1,o=tO,u=new nb}else u=t?[]:s;e:for(;++r<i;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else o(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function rE(e,t){return t=rA(t,e),null==(e=oN(e,t))||delete e[o$(oG(t))]}function rC(e,t,n,r){return rf(e,t,n(nG(e,t)),r)}function rk(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?rg(e,r?0:i,r?i+1:o):rg(e,r?i+1:0,r?o:i)}function rS(e,t){var n=e;return n instanceof ny&&(n=n.value()),tm(t,function(e,t){return t.func.apply(t.thisArg,tv([e],t.args))},n)}function rN(e,t,n){var r=e.length;if(r<2)return r?rb(e[0]):[];for(var o=-1,i=ey(r);++o<r;)for(var a=e[o],s=-1;++s<r;)s!=o&&(i[o]=nD(i[o]||a,e[s],t,n));return rb(nF(i,1),t,n)}function rM(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var u=r<a?t[r]:o;n(s,e[r],u)}return s}function rj(e){return iL(e)?e:[]}function rI(e){return"function"==typeof e?e:aL}function rA(e,t){return iD(e)?e:o_(e,t)?[e]:oO(at(e))}function rR(e,t,n){var r=e.length;return n=o===n?r:n,!t&&n>=r?e:rg(e,t,n)}var rz=e8||function(e){return e6.clearTimeout(e)};function rP(e,t){if(t)return e.slice();var n=e.length,r=eV?eV(n):new e.constructor(n);return e.copy(r),r}function rO(e){var t=new e.constructor(e.byteLength);return new eU(t).set(new eU(e)),t}function r$(e,t){var n=t?rO(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function rD(e,t){if(e!==t){var n=o!==e,r=null===e,i=e==e,a=i1(e),s=o!==t,u=null===t,l=t==t,c=i1(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return -1}return 0}function rT(e,t,n,r){for(var o=-1,i=e.length,a=n.length,s=-1,u=t.length,l=t2(i-a,0),c=ey(u+l),d=!r;++s<u;)c[s]=t[s];for(;++o<a;)(d||o<i)&&(c[n[o]]=e[o]);for(;l--;)c[s++]=e[o++];return c}function rB(e,t,n,r){for(var o=-1,i=e.length,a=-1,s=n.length,u=-1,l=t.length,c=t2(i-s,0),d=ey(c+l),f=!r;++o<c;)d[o]=e[o];for(var h=o;++u<l;)d[h+u]=t[u];for(;++a<s;)(f||o<i)&&(d[h+n[a]]=e[o++]);return d}function rL(e,t){var n=-1,r=e.length;for(t||(t=ey(r));++n<r;)t[n]=e[n];return t}function rU(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=r?r(n[u],e[u],u,n,e):o;o===l&&(l=e[u]),i?nA(n,u,l):nN(n,u,l)}return n}function rV(e,t){return function(n,r){var o=iD(n)?tl:nj,i=t?t():{};return o(n,e,ol(r,2),i)}}function rF(e){return rd(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&ow(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=eE(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}function rH(e,t){return function(n,r){if(null==n)return n;if(!iB(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=eE(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function rW(e){return function(t,n,r){for(var o=-1,i=eE(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}function rY(e){return function(t){var n=tU(t=at(t))?tq(t):o,r=n?n[0]:t.charAt(0),i=n?rR(n,1).join(""):t.slice(1);return r[e]()+i}}function rq(e){return function(t){return tm(aP(aS(t).replace(eW,"")),e,"")}}function rX(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ng(e.prototype),r=e.apply(n,t);return iq(r)?r:n}}function rG(e){return function(t,n,r){var i=eE(t);if(!iB(t)){var a=ol(n,3);t=ap(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function rZ(e){return or(function(t){var n=t.length,r=n,a=nm.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new eS(i);if(a&&!u&&"wrapper"==os(s))var u=new nm([],!0)}for(r=u?r:n;++r<n;){var l=os(s=t[r]),c="wrapper"==l?oa(s):o;u=c&&ob(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[os(c[0])].apply(u,c[3]):1==s.length&&ob(s)?u[l]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&iD(r))return u.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}})}function rK(e,t,n,r,i,a,s,u,l,c){var d=128&t,f=1&t,h=2&t,p=24&t,g=512&t,v=h?o:rX(e);function m(){for(var y=arguments.length,x=ey(y),w=y;w--;)x[w]=arguments[w];if(p)var _=ou(m),b=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(x,_);if(r&&(x=rT(x,r,i,p)),a&&(x=rB(x,a,s,p)),y-=b,p&&y<c){var E=tH(x,_);return r3(e,t,rK,m.placeholder,n,x,E,u,l,c-y)}var C=f?n:this,k=h?C[e]:e;return y=x.length,u?x=function(e,t){for(var n=e.length,r=t5(t.length,n),i=rL(e);r--;){var a=t[r];e[r]=ox(a,n)?i[a]:o}return e}(x,u):g&&y>1&&x.reverse(),d&&l<y&&(x.length=l),this&&this!==e6&&this instanceof m&&(k=v||rX(k)),k.apply(C,x)}return m}function rQ(e,t){return function(n,r){var o,i;return o=t(r),i={},nY(n,function(t,n,r){e(i,o(t),n,r)}),i}}function rJ(e,t){return function(n,r){var i;if(o===n&&o===r)return t;if(o!==n&&(i=n),o!==r){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=r_(n),r=r_(r)):(n=rw(n),r=rw(r)),i=e(n,r)}return i}}function r0(e){return or(function(t){return t=tg(t,tz(ol())),rd(function(n){var r=this;return e(t,function(e){return tu(e,r,n)})})})}function r1(e,t){var n=(t=o===t?" ":r_(t)).length;if(n<2)return n?rc(t,e):t;var r=rc(t,tw(e/tY(t)));return tU(t)?rR(tq(r),0,e).join(""):r.slice(0,e)}function r2(e){return function(t,n,r){return r&&"number"!=typeof r&&ow(t,n,r)&&(n=r=o),t=i6(t),o===n?(n=t,t=0):n=i6(n),r=o===r?t<n?1:-1:i6(r),function(e,t,n,r){for(var o=-1,i=t2(tw((t-e)/(n||1)),0),a=ey(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,n,r,e)}}function r5(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=i7(t),n=i7(n)),e(t,n)}}function r3(e,t,n,r,i,a,s,u,l,c){var d=8&t,f=d?s:o,h=d?o:s,p=d?a:o,g=d?o:a;t|=d?32:64,4&(t&=~(d?64:32))||(t&=-4);var v=[e,t,i,p,f,g,h,u,l,c],m=n.apply(o,v);return ob(e)&&oj(m,v),m.placeholder=r,oR(m,e,t)}function r4(e){var t=eb[e];return function(e,n){if(e=i7(e),(n=null==n?0:t5(i9(n),292))&&tJ(e)){var r=(at(e)+"e").split("e");return+((r=(at(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var r6=nt&&1/tW(new nt([,-0]))[1]==u?function(e){return new nt(e)}:aW;function r9(e){return function(t){var n,r,o=og(t);return o==y?tV(t):o==E?(n=-1,r=Array(t.size),t.forEach(function(e){r[++n]=[e,e]}),r):tg(e(t),function(e){return[e,t[e]]})}}function r8(e,t,n,r,a,u,l,c){var d=2&t;if(!d&&"function"!=typeof e)throw new eS(i);var f=r?r.length:0;if(f||(t&=-97,r=a=o),l=o===l?l:t2(i9(l),0),c=o===c?c:i9(c),f-=a?a.length:0,64&t){var h=r,p=a;r=a=o}var g=d?o:oa(e),v=[e,t,n,r,a,h,p,u,l,c];if(g&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(i||a){1&r&&(e[2]=t[2],o|=1&n?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?rT(l,u,t[4]):u,e[4]=l?tH(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?rB(l,u,t[6]):u,e[6]=l?tH(e[5],s):t[6]),(u=t[7])&&(e[7]=u),128&r&&(e[8]=null==e[8]?t[8]:t5(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}}(v,g),e=v[0],t=v[1],n=v[2],r=v[3],a=v[4],(c=v[9]=v[9]===o?d?0:e.length:t2(v[9]-f,0))||!(24&t)||(t&=-25),t&&1!=t)8==t||16==t?M=function(e,t,n){var r=rX(e);function i(){for(var a=arguments.length,s=ey(a),u=a,l=ou(i);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:tH(s,l);return(a-=c.length)<n?r3(e,t,rK,i.placeholder,o,s,c,o,o,n-a):tu(this&&this!==e6&&this instanceof i?r:e,this,s)}return i}(e,t,c):32!=t&&33!=t||a.length?M=rK.apply(o,v):(m=e,y=t,x=n,w=r,_=1&y,b=rX(m),M=function e(){for(var t=-1,n=arguments.length,r=-1,o=w.length,i=ey(o+n),a=this&&this!==e6&&this instanceof e?b:m;++r<o;)i[r]=w[r];for(;n--;)i[r++]=arguments[++t];return tu(a,_?x:this,i)});else var m,y,x,w,_,b,E,C,k,S,N,M=(E=e,C=t,k=n,S=1&C,N=rX(E),function e(){return(this&&this!==e6&&this instanceof e?N:E).apply(S?k:this,arguments)});return oR((g?rh:oj)(M,v),e,t)}function r7(e,t,n,r){return o===e||iz(e,ej[n])&&!eR.call(r,n)?t:e}function oe(e,t,n,r,i,a){return iq(e)&&iq(t)&&(a.set(t,e),rr(e,t,o,oe,a),a.delete(t)),e}function ot(e){return iK(e)?o:e}function on(e,t,n,r,i,a){var s=1&n,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),d=a.get(t);if(c&&d)return c==t&&d==e;var f=-1,h=!0,p=2&n?new nb:o;for(a.set(e,t),a.set(t,e);++f<u;){var g=e[f],v=t[f];if(r)var m=s?r(v,g,f,t,e,a):r(g,v,f,e,t,a);if(o!==m){if(m)continue;h=!1;break}if(p){if(!tx(t,function(e,t){if(!tO(p,t)&&(g===e||i(g,e,n,r,a)))return p.push(t)})){h=!1;break}}else if(!(g===v||i(g,v,n,r,a))){h=!1;break}}return a.delete(e),a.delete(t),h}function or(e){return oA(oS(e,o,oH),e+"")}function oo(e){return nZ(e,ap,oh)}function oi(e){return nZ(e,ag,op)}var oa=no?function(e){return no.get(e)}:aW;function os(e){for(var t=e.name+"",n=ni[t],r=eR.call(ni,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ou(e){return(eR.call(np,"placeholder")?np:e).placeholder}function ol(){var e=np.iteratee||aU;return e=e===aU?n9:e,arguments.length?e(arguments[0],arguments[1]):e}function oc(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function od(e){for(var t=ap(e),n=t.length;n--;){var r,o=t[n],i=e[o];t[n]=[o,i,(r=i)==r&&!iq(r)]}return t}function of(e,t){var n=null==e?o:e[t];return n6(n)?n:o}var oh=tK?function(e){return null==e?[]:tf(tK(e=eE(e)),function(t){return eq.call(e,t)})}:aQ,op=tK?function(e){for(var t=[];e;)tv(t,oh(e)),e=eF(e);return t}:aQ,og=nK;function ov(e,t,n){t=rA(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=o$(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&iY(o)&&ox(a,o)&&(iD(e)||i$(e))}function om(e){return"function"!=typeof e.constructor||oC(e)?{}:ng(eF(e))}function oy(e){return iD(e)||i$(e)||!!(e1&&e&&e[e1])}function ox(e,t){var n=typeof e;return!!(t=null==t?0x1fffffffffffff:t)&&("number"==n||"symbol"!=n&&eh.test(e))&&e>-1&&e%1==0&&e<t}function ow(e,t,n){if(!iq(n))return!1;var r=typeof t;return("number"==r?!!(iB(n)&&ox(t,n.length)):"string"==r&&t in n)&&iz(n[t],e)}function o_(e,t){if(iD(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||i1(e))||G.test(e)||!X.test(e)||null!=t&&e in eE(t)}function ob(e){var t=os(e),n=np[t];if("function"!=typeof n||!(t in ny.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(t8&&og(new t8(new ArrayBuffer(1)))!=M||t7&&og(new t7)!=y||ne&&og(ne.resolve())!=_||nt&&og(new nt)!=E||nn&&og(new nn)!=S)&&(og=function(e){var t=nK(e),n=t==w?e.constructor:o,r=n?oD(n):"";if(r)switch(r){case na:return M;case ns:return y;case nu:return _;case nl:return E;case nc:return S}return t});var oE=eI?iH:aJ;function oC(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ej)}function ok(e,t){return function(n){return null!=n&&n[e]===t&&(o!==t||e in eE(n))}}function oS(e,t,n){return t=t2(o===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=t2(r.length-t,0),a=ey(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=ey(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),tu(e,this,s)}}function oN(e,t){return t.length<2?e:nG(e,rg(t,0,-1))}function oM(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var oj=oz(rh),oI=tt||function(e,t){return e6.setTimeout(e,t)},oA=oz(rp);function oR(e,t,n){var r,o,i,a=t+"";return oA(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(et,"{\n/* [wrapped with "+t+"] */\n")}(a,(r=(i=a.match(en))?i[1].split(er):[],o=n,tc(c,function(e){var t="_."+e[0];o&e[1]&&!th(r,t)&&r.push(t)}),r.sort())))}function oz(e){var t=0,n=0;return function(){var r=t3(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function oP(e,t){var n=-1,r=e.length,i=r-1;for(t=o===t?r:t;++n<t;){var a=rl(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var oO=(ee=(r=iN(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Z,function(e,n,r,o){t.push(r?o.replace(ea,"$1"):n||e)}),t},function(e){return 500===ee.size&&ee.clear(),e})).cache,r);function o$(e){if("string"==typeof e||i1(e))return e;var t=e+"";return"0"==t&&1/e==-u?"-0":t}function oD(e){if(null!=e){try{return eA.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function oT(e){if(e instanceof ny)return e.clone();var t=new nm(e.__wrapped__,e.__chain__);return t.__actions__=rL(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var oB=rd(function(e,t){return iL(e)?nD(e,nF(t,1,iL,!0)):[]}),oL=rd(function(e,t){var n=oG(t);return iL(n)&&(n=o),iL(e)?nD(e,nF(t,1,iL,!0),ol(n,2)):[]}),oU=rd(function(e,t){var n=oG(t);return iL(n)&&(n=o),iL(e)?nD(e,nF(t,1,iL,!0),o,n):[]});function oV(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var o=null==n?0:i9(n);return o<0&&(o=t2(r+o,0)),tb(e,ol(t,3),o)}function oF(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r-1;return o!==n&&(i=i9(n),i=n<0?t2(r+i,0):t5(i,r-1)),tb(e,ol(t,3),i,!0)}function oH(e){return(null==e?0:e.length)?nF(e,1):[]}function oW(e){return e&&e.length?e[0]:o}var oY=rd(function(e){var t=tg(e,rj);return t.length&&t[0]===e[0]?n1(t):[]}),oq=rd(function(e){var t=oG(e),n=tg(e,rj);return t===oG(n)?t=o:n.pop(),n.length&&n[0]===e[0]?n1(n,ol(t,2)):[]}),oX=rd(function(e){var t=oG(e),n=tg(e,rj);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?n1(n,o,t):[]});function oG(e){var t=null==e?0:e.length;return t?e[t-1]:o}var oZ=rd(oK);function oK(e,t){return e&&e.length&&t&&t.length?rs(e,t):e}var oQ=or(function(e,t){var n=null==e?0:e.length,r=nR(e,t);return ru(e,tg(t,function(e){return ox(e,n)?+e:e}).sort(rD)),r});function oJ(e){return null==e?e:t9.call(e)}var o0=rd(function(e){return rb(nF(e,1,iL,!0))}),o1=rd(function(e){var t=oG(e);return iL(t)&&(t=o),rb(nF(e,1,iL,!0),ol(t,2))}),o2=rd(function(e){var t=oG(e);return t="function"==typeof t?t:o,rb(nF(e,1,iL,!0),o,t)});function o5(e){if(!(e&&e.length))return[];var t=0;return e=tf(e,function(e){if(iL(e))return t=t2(e.length,t),!0}),tA(t,function(t){return tg(e,tN(t))})}function o3(e,t){if(!(e&&e.length))return[];var n=o5(e);return null==t?n:tg(n,function(e){return tu(t,o,e)})}var o4=rd(function(e,t){return iL(e)?nD(e,t):[]}),o6=rd(function(e){return rN(tf(e,iL))}),o9=rd(function(e){var t=oG(e);return iL(t)&&(t=o),rN(tf(e,iL),ol(t,2))}),o8=rd(function(e){var t=oG(e);return t="function"==typeof t?t:o,rN(tf(e,iL),o,t)}),o7=rd(o5),ie=rd(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,o3(e,n)});function it(e){var t=np(e);return t.__chain__=!0,t}function ir(e,t){return t(e)}var io=or(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return nR(t,e)};return!(t>1)&&!this.__actions__.length&&r instanceof ny&&ox(n)?((r=r.slice(n,+n+ +!!t)).__actions__.push({func:ir,args:[i],thisArg:o}),new nm(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),ii=rV(function(e,t,n){eR.call(e,n)?++e[n]:nA(e,n,1)}),ia=rG(oV),is=rG(oF);function iu(e,t){return(iD(e)?tc:nT)(e,ol(t,3))}function il(e,t){return(iD(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:nB)(e,ol(t,3))}var ic=rV(function(e,t,n){eR.call(e,n)?e[n].push(t):nA(e,n,[t])}),id=rd(function(e,t,n){var r=-1,o="function"==typeof t,i=iB(e)?ey(e.length):[];return nT(e,function(e){i[++r]=o?tu(t,e,n):n2(e,t,n)}),i}),ih=rV(function(e,t,n){nA(e,n,t)});function ip(e,t){return(iD(e)?tg:re)(e,ol(t,3))}var ig=rV(function(e,t,n){e[+!n].push(t)},function(){return[[],[]]}),iv=rd(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ow(e,t[0],t[1])?t=[]:n>2&&ow(t[0],t[1],t[2])&&(t=[t[0]]),ri(e,nF(t,1),[])}),im=te||function(){return e6.Date.now()};function iy(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,r8(e,128,o,o,o,o,t)}function ix(e,t){var n;if("function"!=typeof t)throw new eS(i);return e=i9(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var iw=rd(function(e,t,n){var r=1;if(n.length){var o=tH(n,ou(iw));r|=32}return r8(e,r,t,n,o)}),i_=rd(function(e,t,n){var r=3;if(n.length){var o=tH(n,ou(i_));r|=32}return r8(t,r,e,n,o)});function ib(e,t,n){t=n?o:t;var r=r8(e,8,o,o,o,o,o,t);return r.placeholder=ib.placeholder,r}function iE(e,t,n){t=n?o:t;var r=r8(e,16,o,o,o,o,o,t);return r.placeholder=iE.placeholder,r}function iC(e,t,n){var r,a,s,u,l,c,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new eS(i);function g(t){var n=r,i=a;return r=a=o,d=t,u=e.apply(i,n)}function v(e){var n=e-c,r=e-d;return o===c||n>=t||n<0||h&&r>=s}function m(){var e,n,r,o=im();if(v(o))return y(o);l=oI(m,(e=o-c,n=o-d,r=t-e,h?t5(r,s-n):r))}function y(e){return(l=o,p&&r)?g(e):(r=a=o,u)}function x(){var e,n=im(),i=v(n);if(r=arguments,a=this,c=n,i){if(o===l)return d=e=c,l=oI(m,t),f?g(e):u;if(h)return rz(l),l=oI(m,t),g(c)}return o===l&&(l=oI(m,t)),u}return t=i7(t)||0,iq(n)&&(f=!!n.leading,s=(h="maxWait"in n)?t2(i7(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),x.cancel=function(){o!==l&&rz(l),d=0,r=c=a=l=o},x.flush=function(){return o===l?u:y(im())},x}var ik=rd(function(e,t){return n$(e,1,t)}),iS=rd(function(e,t,n){return n$(e,i7(t)||0,n)});function iN(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new eS(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(iN.Cache||n_),n}function iM(e){if("function"!=typeof e)throw new eS(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}iN.Cache=n_;var ij=rd(function(e,t){var n=(t=1==t.length&&iD(t[0])?tg(t[0],tz(ol())):tg(nF(t,1),tz(ol()))).length;return rd(function(r){for(var o=-1,i=t5(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return tu(e,this,r)})}),iI=rd(function(e,t){var n=tH(t,ou(iI));return r8(e,32,o,t,n)}),iA=rd(function(e,t){var n=tH(t,ou(iA));return r8(e,64,o,t,n)}),iR=or(function(e,t){return r8(e,256,o,o,o,t)});function iz(e,t){return e===t||e!=e&&t!=t}var iP=r5(nQ),iO=r5(function(e,t){return e>=t}),i$=n5(function(){return arguments}())?n5:function(e){return iX(e)&&eR.call(e,"callee")&&!eq.call(e,"callee")},iD=ey.isArray,iT=tn?tz(tn):function(e){return iX(e)&&nK(e)==N};function iB(e){return null!=e&&iY(e.length)&&!iH(e)}function iL(e){return iX(e)&&iB(e)}var iU=tQ||aJ,iV=tr?tz(tr):function(e){return iX(e)&&nK(e)==p};function iF(e){if(!iX(e))return!1;var t=nK(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!iK(e)}function iH(e){if(!iq(e))return!1;var t=nK(e);return t==v||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function iW(e){return"number"==typeof e&&e==i9(e)}function iY(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=0x1fffffffffffff}function iq(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function iX(e){return null!=e&&"object"==typeof e}var iG=to?tz(to):function(e){return iX(e)&&og(e)==y};function iZ(e){return"number"==typeof e||iX(e)&&nK(e)==x}function iK(e){if(!iX(e)||nK(e)!=w)return!1;var t=eF(e);if(null===t)return!0;var n=eR.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&eA.call(n)==e$}var iQ=ti?tz(ti):function(e){return iX(e)&&nK(e)==b},iJ=ta?tz(ta):function(e){return iX(e)&&og(e)==E};function i0(e){return"string"==typeof e||!iD(e)&&iX(e)&&nK(e)==C}function i1(e){return"symbol"==typeof e||iX(e)&&nK(e)==k}var i2=ts?tz(ts):function(e){return iX(e)&&iY(e.length)&&!!eJ[nK(e)]},i5=r5(n7),i3=r5(function(e,t){return e<=t});function i4(e){if(!e)return[];if(iB(e))return i0(e)?tq(e):rL(e);if(e3&&e[e3])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[e3]());var t=og(e);return(t==y?tV:t==E?tW:aE)(e)}function i6(e){return e?(e=i7(e))===u||e===-u?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function i9(e){var t=i6(e),n=t%1;return t==t?n?t-n:t:0}function i8(e){return e?nz(i9(e),0,0xffffffff):0}function i7(e){if("number"==typeof e)return e;if(i1(e))return l;if(iq(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=iq(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=tR(e);var n=ec.test(e);return n||ef.test(e)?e5(e.slice(2),n?2:8):el.test(e)?l:+e}function ae(e){return rU(e,ag(e))}function at(e){return null==e?"":r_(e)}var an=rF(function(e,t){if(oC(t)||iB(t)){rU(t,ap(t),e);return}for(var n in t)eR.call(t,n)&&nN(e,n,t[n])}),ar=rF(function(e,t){rU(t,ag(t),e)}),ao=rF(function(e,t,n,r){rU(t,ag(t),e,r)}),ai=rF(function(e,t,n,r){rU(t,ap(t),e,r)}),aa=or(nR),as=rd(function(e,t){e=eE(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&ow(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=ag(a),u=-1,l=s.length;++u<l;){var c=s[u],d=e[c];(o===d||iz(d,ej[c])&&!eR.call(e,c))&&(e[c]=a[c])}return e}),au=rd(function(e){return e.push(o,oe),tu(am,o,e)});function al(e,t,n){var r=null==e?o:nG(e,t);return o===r?n:r}function ac(e,t){return null!=e&&ov(e,t,n0)}var ad=rQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eO.call(t)),e[t]=n},aD(aL)),af=rQ(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=eO.call(t)),eR.call(e,t)?e[t].push(n):e[t]=[n]},ol),ah=rd(n2);function ap(e){return iB(e)?nC(e):n8(e)}function ag(e){return iB(e)?nC(e,!0):function(e){if(!iq(e))return function(e){var t=[];if(null!=e)for(var n in eE(e))t.push(n);return t}(e);var t=oC(e),n=[];for(var r in e)"constructor"==r&&(t||!eR.call(e,r))||n.push(r);return n}(e)}var av=rF(function(e,t,n){rr(e,t,n)}),am=rF(function(e,t,n,r){rr(e,t,n,r)}),ay=or(function(e,t){var n={};if(null==e)return n;var r=!1;t=tg(t,function(t){return t=rA(t,e),r||(r=t.length>1),t}),rU(e,oi(e),n),r&&(n=nP(n,7,ot));for(var o=t.length;o--;)rE(n,t[o]);return n}),ax=or(function(e,t){return null==e?{}:ra(e,t,function(t,n){return ac(e,n)})});function aw(e,t){if(null==e)return{};var n=tg(oi(e),function(e){return[e]});return t=ol(t),ra(e,n,function(e,n){return t(e,n[0])})}var a_=r9(ap),ab=r9(ag);function aE(e){return null==e?[]:tP(e,ap(e))}var aC=rq(function(e,t,n){return t=t.toLowerCase(),e+(n?ak(t):t)});function ak(e){return az(at(e).toLowerCase())}function aS(e){return(e=at(e))&&e.replace(ep,tT).replace(eY,"")}var aN=rq(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),aM=rq(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),aj=rY("toLowerCase"),aI=rq(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),aA=rq(function(e,t,n){return e+(n?" ":"")+az(t)}),aR=rq(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),az=rY("toUpperCase");function aP(e,t,n){if(e=at(e),t=n?o:t,o===t){var r;return(r=e,eZ.test(r))?e.match(eX)||[]:e.match(eo)||[]}return e.match(t)||[]}var aO=rd(function(e,t){try{return tu(e,o,t)}catch(e){return iF(e)?e:new ew(e)}}),a$=or(function(e,t){return tc(t,function(t){nA(e,t=o$(t),iw(e[t],e))}),e});function aD(e){return function(){return e}}var aT=rZ(),aB=rZ(!0);function aL(e){return e}function aU(e){return n9("function"==typeof e?e:nP(e,1))}var aV=rd(function(e,t){return function(n){return n2(n,e,t)}}),aF=rd(function(e,t){return function(n){return n2(e,n,t)}});function aH(e,t,n){var r=ap(t),o=nX(t,r);null!=n||iq(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=nX(t,ap(t)));var i=!(iq(n)&&"chain"in n)||!!n.chain,a=iH(e);return tc(o,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=rL(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,tv([this.value()],arguments))})}),e}function aW(){}var aY=r0(tg),aq=r0(td),aX=r0(tx);function aG(e){return o_(e)?tN(o$(e)):function(t){return nG(t,e)}}var aZ=r2(),aK=r2(!0);function aQ(){return[]}function aJ(){return!1}var a0=rJ(function(e,t){return e+t},0),a1=r4("ceil"),a2=rJ(function(e,t){return e/t},1),a5=r4("floor"),a3=rJ(function(e,t){return e*t},1),a4=r4("round"),a6=rJ(function(e,t){return e-t},0);return np.after=function(e,t){if("function"!=typeof t)throw new eS(i);return e=i9(e),function(){if(--e<1)return t.apply(this,arguments)}},np.ary=iy,np.assign=an,np.assignIn=ar,np.assignInWith=ao,np.assignWith=ai,np.at=aa,np.before=ix,np.bind=iw,np.bindAll=a$,np.bindKey=i_,np.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return iD(e)?e:[e]},np.chain=it,np.chunk=function(e,t,n){t=(n?ow(e,t,n):o===t)?1:t2(i9(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,s=ey(tw(r/t));i<r;)s[a++]=rg(e,i,i+=t);return s},np.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},np.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ey(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tv(iD(n)?rL(n):[n],nF(t,1))},np.cond=function(e){var t=null==e?0:e.length,n=ol();return e=t?tg(e,function(e){if("function"!=typeof e[1])throw new eS(i);return[n(e[0]),e[1]]}):[],rd(function(n){for(var r=-1;++r<t;){var o=e[r];if(tu(o[0],this,n))return tu(o[1],this,n)}})},np.conforms=function(e){var t,n;return n=ap(t=nP(e,1)),function(e){return nO(e,t,n)}},np.constant=aD,np.countBy=ii,np.create=function(e,t){var n=ng(e);return null==t?n:nI(n,t)},np.curry=ib,np.curryRight=iE,np.debounce=iC,np.defaults=as,np.defaultsDeep=au,np.defer=ik,np.delay=iS,np.difference=oB,np.differenceBy=oL,np.differenceWith=oU,np.drop=function(e,t,n){var r=null==e?0:e.length;return r?rg(e,(t=n||o===t?1:i9(t))<0?0:t,r):[]},np.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?rg(e,0,(t=r-(t=n||o===t?1:i9(t)))<0?0:t):[]},np.dropRightWhile=function(e,t){return e&&e.length?rk(e,ol(t,3),!0,!0):[]},np.dropWhile=function(e,t){return e&&e.length?rk(e,ol(t,3),!0):[]},np.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ow(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=i9(n))<0&&(n=-n>i?0:i+n),(r=o===r||r>i?i:i9(r))<0&&(r+=i),r=n>r?0:i8(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},np.filter=function(e,t){return(iD(e)?tf:nV)(e,ol(t,3))},np.flatMap=function(e,t){return nF(ip(e,t),1)},np.flatMapDeep=function(e,t){return nF(ip(e,t),u)},np.flatMapDepth=function(e,t,n){return n=o===n?1:i9(n),nF(ip(e,t),n)},np.flatten=oH,np.flattenDeep=function(e){return(null==e?0:e.length)?nF(e,u):[]},np.flattenDepth=function(e,t){return(null==e?0:e.length)?nF(e,t=o===t?1:i9(t)):[]},np.flip=function(e){return r8(e,512)},np.flow=aT,np.flowRight=aB,np.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},np.functions=function(e){return null==e?[]:nX(e,ap(e))},np.functionsIn=function(e){return null==e?[]:nX(e,ag(e))},np.groupBy=ic,np.initial=function(e){return(null==e?0:e.length)?rg(e,0,-1):[]},np.intersection=oY,np.intersectionBy=oq,np.intersectionWith=oX,np.invert=ad,np.invertBy=af,np.invokeMap=id,np.iteratee=aU,np.keyBy=ih,np.keys=ap,np.keysIn=ag,np.map=ip,np.mapKeys=function(e,t){var n={};return t=ol(t,3),nY(e,function(e,r,o){nA(n,t(e,r,o),e)}),n},np.mapValues=function(e,t){var n={};return t=ol(t,3),nY(e,function(e,r,o){nA(n,r,t(e,r,o))}),n},np.matches=function(e){return rt(nP(e,1))},np.matchesProperty=function(e,t){return rn(e,nP(t,1))},np.memoize=iN,np.merge=av,np.mergeWith=am,np.method=aV,np.methodOf=aF,np.mixin=aH,np.negate=iM,np.nthArg=function(e){return e=i9(e),rd(function(t){return ro(t,e)})},np.omit=ay,np.omitBy=function(e,t){return aw(e,iM(ol(t)))},np.once=function(e){return ix(2,e)},np.orderBy=function(e,t,n,r){return null==e?[]:(iD(t)||(t=null==t?[]:[t]),iD(n=r?o:n)||(n=null==n?[]:[n]),ri(e,t,n))},np.over=aY,np.overArgs=ij,np.overEvery=aq,np.overSome=aX,np.partial=iI,np.partialRight=iA,np.partition=ig,np.pick=ax,np.pickBy=aw,np.property=aG,np.propertyOf=function(e){return function(t){return null==e?o:nG(e,t)}},np.pull=oZ,np.pullAll=oK,np.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?rs(e,t,ol(n,2)):e},np.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?rs(e,t,o,n):e},np.pullAt=oQ,np.range=aZ,np.rangeRight=aK,np.rearg=iR,np.reject=function(e,t){return(iD(e)?tf:nV)(e,iM(ol(t,3)))},np.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],i=e.length;for(t=ol(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return ru(e,o),n},np.rest=function(e,t){if("function"!=typeof e)throw new eS(i);return rd(e,t=o===t?t:i9(t))},np.reverse=oJ,np.sampleSize=function(e,t,n){return t=(n?ow(e,t,n):o===t)?1:i9(t),(iD(e)?function(e,t){return oP(rL(e),nz(t,0,e.length))}:function(e,t){var n=aE(e);return oP(n,nz(t,0,n.length))})(e,t)},np.set=function(e,t,n){return null==e?e:rf(e,t,n)},np.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:rf(e,t,n,r)},np.shuffle=function(e){return(iD(e)?function(e){return oP(rL(e))}:function(e){return oP(aE(e))})(e)},np.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ow(e,t,n)?(t=0,n=r):(t=null==t?0:i9(t),n=o===n?r:i9(n)),rg(e,t,n)):[]},np.sortBy=iv,np.sortedUniq=function(e){return e&&e.length?rx(e):[]},np.sortedUniqBy=function(e,t){return e&&e.length?rx(e,ol(t,2)):[]},np.split=function(e,t,n){return(n&&"number"!=typeof n&&ow(e,t,n)&&(t=n=o),n=o===n?0xffffffff:n>>>0)?(e=at(e))&&("string"==typeof t||null!=t&&!iQ(t))&&!(t=r_(t))&&tU(e)?rR(tq(e),0,n):e.split(t,n):[]},np.spread=function(e,t){if("function"!=typeof e)throw new eS(i);return t=null==t?0:t2(i9(t),0),rd(function(n){var r=n[t],o=rR(n,0,t);return r&&tv(o,r),tu(e,this,o)})},np.tail=function(e){var t=null==e?0:e.length;return t?rg(e,1,t):[]},np.take=function(e,t,n){return e&&e.length?rg(e,0,(t=n||o===t?1:i9(t))<0?0:t):[]},np.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?rg(e,(t=r-(t=n||o===t?1:i9(t)))<0?0:t,r):[]},np.takeRightWhile=function(e,t){return e&&e.length?rk(e,ol(t,3),!1,!0):[]},np.takeWhile=function(e,t){return e&&e.length?rk(e,ol(t,3)):[]},np.tap=function(e,t){return t(e),e},np.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new eS(i);return iq(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),iC(e,t,{leading:r,maxWait:t,trailing:o})},np.thru=ir,np.toArray=i4,np.toPairs=a_,np.toPairsIn=ab,np.toPath=function(e){return iD(e)?tg(e,o$):i1(e)?[e]:rL(oO(at(e)))},np.toPlainObject=ae,np.transform=function(e,t,n){var r=iD(e),o=r||iU(e)||i2(e);if(t=ol(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:iq(e)&&iH(i)?ng(eF(e)):{}}return(o?tc:nY)(e,function(e,r,o){return t(n,e,r,o)}),n},np.unary=function(e){return iy(e,1)},np.union=o0,np.unionBy=o1,np.unionWith=o2,np.uniq=function(e){return e&&e.length?rb(e):[]},np.uniqBy=function(e,t){return e&&e.length?rb(e,ol(t,2)):[]},np.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?rb(e,o,t):[]},np.unset=function(e,t){return null==e||rE(e,t)},np.unzip=o5,np.unzipWith=o3,np.update=function(e,t,n){return null==e?e:rC(e,t,rI(n))},np.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:rC(e,t,rI(n),r)},np.values=aE,np.valuesIn=function(e){return null==e?[]:tP(e,ag(e))},np.without=o4,np.words=aP,np.wrap=function(e,t){return iI(rI(t),e)},np.xor=o6,np.xorBy=o9,np.xorWith=o8,np.zip=o7,np.zipObject=function(e,t){return rM(e||[],t||[],nN)},np.zipObjectDeep=function(e,t){return rM(e||[],t||[],rf)},np.zipWith=ie,np.entries=a_,np.entriesIn=ab,np.extend=ar,np.extendWith=ao,aH(np,np),np.add=a0,np.attempt=aO,np.camelCase=aC,np.capitalize=ak,np.ceil=a1,np.clamp=function(e,t,n){return o===n&&(n=t,t=o),o!==n&&(n=(n=i7(n))==n?n:0),o!==t&&(t=(t=i7(t))==t?t:0),nz(i7(e),t,n)},np.clone=function(e){return nP(e,4)},np.cloneDeep=function(e){return nP(e,5)},np.cloneDeepWith=function(e,t){return nP(e,5,t="function"==typeof t?t:o)},np.cloneWith=function(e,t){return nP(e,4,t="function"==typeof t?t:o)},np.conformsTo=function(e,t){return null==t||nO(e,t,ap(t))},np.deburr=aS,np.defaultTo=function(e,t){return null==e||e!=e?t:e},np.divide=a2,np.endsWith=function(e,t,n){e=at(e),t=r_(t);var r=e.length,i=n=o===n?r:nz(i9(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},np.eq=iz,np.escape=function(e){return(e=at(e))&&H.test(e)?e.replace(V,tB):e},np.escapeRegExp=function(e){return(e=at(e))&&Q.test(e)?e.replace(K,"\\$&"):e},np.every=function(e,t,n){var r=iD(e)?td:nL;return n&&ow(e,t,n)&&(t=o),r(e,ol(t,3))},np.find=ia,np.findIndex=oV,np.findKey=function(e,t){return t_(e,ol(t,3),nY)},np.findLast=is,np.findLastIndex=oF,np.findLastKey=function(e,t){return t_(e,ol(t,3),nq)},np.floor=a5,np.forEach=iu,np.forEachRight=il,np.forIn=function(e,t){return null==e?e:nH(e,ol(t,3),ag)},np.forInRight=function(e,t){return null==e?e:nW(e,ol(t,3),ag)},np.forOwn=function(e,t){return e&&nY(e,ol(t,3))},np.forOwnRight=function(e,t){return e&&nq(e,ol(t,3))},np.get=al,np.gt=iP,np.gte=iO,np.has=function(e,t){return null!=e&&ov(e,t,nJ)},np.hasIn=ac,np.head=oW,np.identity=aL,np.includes=function(e,t,n,r){e=iB(e)?e:aE(e),n=n&&!r?i9(n):0;var o=e.length;return n<0&&(n=t2(o+n,0)),i0(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&tE(e,t,n)>-1},np.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var o=null==n?0:i9(n);return o<0&&(o=t2(r+o,0)),tE(e,t,o)},np.inRange=function(e,t,n){var r,i,a;return t=i6(t),o===n?(n=t,t=0):n=i6(n),(r=e=i7(e))>=t5(i=t,a=n)&&r<t2(i,a)},np.invoke=ah,np.isArguments=i$,np.isArray=iD,np.isArrayBuffer=iT,np.isArrayLike=iB,np.isArrayLikeObject=iL,np.isBoolean=function(e){return!0===e||!1===e||iX(e)&&nK(e)==h},np.isBuffer=iU,np.isDate=iV,np.isElement=function(e){return iX(e)&&1===e.nodeType&&!iK(e)},np.isEmpty=function(e){if(null==e)return!0;if(iB(e)&&(iD(e)||"string"==typeof e||"function"==typeof e.splice||iU(e)||i2(e)||i$(e)))return!e.length;var t=og(e);if(t==y||t==E)return!e.size;if(oC(e))return!n8(e).length;for(var n in e)if(eR.call(e,n))return!1;return!0},np.isEqual=function(e,t){return n3(e,t)},np.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return o===r?n3(e,t,o,n):!!r},np.isError=iF,np.isFinite=function(e){return"number"==typeof e&&tJ(e)},np.isFunction=iH,np.isInteger=iW,np.isLength=iY,np.isMap=iG,np.isMatch=function(e,t){return e===t||n4(e,t,od(t))},np.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,n4(e,t,od(t),n)},np.isNaN=function(e){return iZ(e)&&e!=+e},np.isNative=function(e){if(oE(e))throw new ew("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return n6(e)},np.isNil=function(e){return null==e},np.isNull=function(e){return null===e},np.isNumber=iZ,np.isObject=iq,np.isObjectLike=iX,np.isPlainObject=iK,np.isRegExp=iQ,np.isSafeInteger=function(e){return iW(e)&&e>=-0x1fffffffffffff&&e<=0x1fffffffffffff},np.isSet=iJ,np.isString=i0,np.isSymbol=i1,np.isTypedArray=i2,np.isUndefined=function(e){return o===e},np.isWeakMap=function(e){return iX(e)&&og(e)==S},np.isWeakSet=function(e){return iX(e)&&"[object WeakSet]"==nK(e)},np.join=function(e,t){return null==e?"":t0.call(e,t)},np.kebabCase=aN,np.last=oG,np.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return -1;var i=r;return o!==n&&(i=(i=i9(n))<0?t2(r+i,0):t5(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--&&e[r]!==t;);return r}(e,t,i):tb(e,tk,i,!0)},np.lowerCase=aM,np.lowerFirst=aj,np.lt=i5,np.lte=i3,np.max=function(e){return e&&e.length?nU(e,aL,nQ):o},np.maxBy=function(e,t){return e&&e.length?nU(e,ol(t,2),nQ):o},np.mean=function(e){return tS(e,aL)},np.meanBy=function(e,t){return tS(e,ol(t,2))},np.min=function(e){return e&&e.length?nU(e,aL,n7):o},np.minBy=function(e,t){return e&&e.length?nU(e,ol(t,2),n7):o},np.stubArray=aQ,np.stubFalse=aJ,np.stubObject=function(){return{}},np.stubString=function(){return""},np.stubTrue=function(){return!0},np.multiply=a3,np.nth=function(e,t){return e&&e.length?ro(e,i9(t)):o},np.noConflict=function(){return e6._===this&&(e6._=eD),this},np.noop=aW,np.now=im,np.pad=function(e,t,n){e=at(e);var r=(t=i9(t))?tY(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return r1(tM(o),n)+e+r1(tw(o),n)},np.padEnd=function(e,t,n){e=at(e);var r=(t=i9(t))?tY(e):0;return t&&r<t?e+r1(t-r,n):e},np.padStart=function(e,t,n){e=at(e);var r=(t=i9(t))?tY(e):0;return t&&r<t?r1(t-r,n)+e:e},np.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t*=1),t4(at(e).replace(J,""),t||0)},np.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ow(e,t,n)&&(t=n=o),o===n&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),o===e&&o===t?(e=0,t=1):(e=i6(e),o===t?(t=e,e=0):t=i6(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=t6();return t5(e+i*(t-e+e2("1e-"+((i+"").length-1))),t)}return rl(e,t)},np.reduce=function(e,t,n){var r=iD(e)?tm:tj,o=arguments.length<3;return r(e,ol(t,4),n,o,nT)},np.reduceRight=function(e,t,n){var r=iD(e)?ty:tj,o=arguments.length<3;return r(e,ol(t,4),n,o,nB)},np.repeat=function(e,t,n){return t=(n?ow(e,t,n):o===t)?1:i9(t),rc(at(e),t)},np.replace=function(){var e=arguments,t=at(e[0]);return e.length<3?t:t.replace(e[1],e[2])},np.result=function(e,t,n){t=rA(t,e);var r=-1,i=t.length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[o$(t[r])];o===a&&(r=i,a=n),e=iH(a)?a.call(e):a}return e},np.round=a4,np.runInContext=e,np.sample=function(e){return(iD(e)?nk:function(e){return nk(aE(e))})(e)},np.size=function(e){if(null==e)return 0;if(iB(e))return i0(e)?tY(e):e.length;var t=og(e);return t==y||t==E?e.size:n8(e).length},np.snakeCase=aI,np.some=function(e,t,n){var r=iD(e)?tx:rv;return n&&ow(e,t,n)&&(t=o),r(e,ol(t,3))},np.sortedIndex=function(e,t){return rm(e,t)},np.sortedIndexBy=function(e,t,n){return ry(e,t,ol(n,2))},np.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=rm(e,t);if(r<n&&iz(e[r],t))return r}return -1},np.sortedLastIndex=function(e,t){return rm(e,t,!0)},np.sortedLastIndexBy=function(e,t,n){return ry(e,t,ol(n,2),!0)},np.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=rm(e,t,!0)-1;if(iz(e[n],t))return n}return -1},np.startCase=aA,np.startsWith=function(e,t,n){return e=at(e),n=null==n?0:nz(i9(n),0,e.length),t=r_(t),e.slice(n,n+t.length)==t},np.subtract=a6,np.sum=function(e){return e&&e.length?tI(e,aL):0},np.sumBy=function(e,t){return e&&e.length?tI(e,ol(t,2)):0},np.template=function(e,t,n){var r=np.templateSettings;n&&ow(e,t,n)&&(t=o),e=at(e),t=ao({},t,r,r7);var i,a,s=ao({},t.imports,r.imports,r7),u=ap(s),l=tP(s,u),c=0,d=t.interpolate||eg,f="__p += '",h=eC((t.escape||eg).source+"|"+d.source+"|"+(d===q?es:eg).source+"|"+(t.evaluate||eg).source+"|$","g"),p="//# sourceURL="+(eR.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++eQ+"]")+"\n";e.replace(h,function(t,n,r,o,s,u){return r||(r=o),f+=e.slice(c,u).replace(ev,tL),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t}),f+="';\n";var g=eR.call(t,"variable")&&t.variable;if(g){if(ei.test(g))throw new ew("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(T,""):f).replace(B,"$1").replace(L,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=aO(function(){return e_(u,p+"return "+f).apply(o,l)});if(v.source=f,iF(v))throw v;return v},np.times=function(e,t){if((e=i9(e))<1||e>0x1fffffffffffff)return[];var n=0xffffffff,r=t5(e,0xffffffff);t=ol(t),e-=0xffffffff;for(var o=tA(r,t);++n<e;)t(n);return o},np.toFinite=i6,np.toInteger=i9,np.toLength=i8,np.toLower=function(e){return at(e).toLowerCase()},np.toNumber=i7,np.toSafeInteger=function(e){return e?nz(i9(e),-0x1fffffffffffff,0x1fffffffffffff):0===e?e:0},np.toString=at,np.toUpper=function(e){return at(e).toUpperCase()},np.trim=function(e,t,n){if((e=at(e))&&(n||o===t))return tR(e);if(!e||!(t=r_(t)))return e;var r=tq(e),i=tq(t),a=t$(r,i),s=tD(r,i)+1;return rR(r,a,s).join("")},np.trimEnd=function(e,t,n){if((e=at(e))&&(n||o===t))return e.slice(0,tX(e)+1);if(!e||!(t=r_(t)))return e;var r=tq(e),i=tD(r,tq(t))+1;return rR(r,0,i).join("")},np.trimStart=function(e,t,n){if((e=at(e))&&(n||o===t))return e.replace(J,"");if(!e||!(t=r_(t)))return e;var r=tq(e),i=t$(r,tq(t));return rR(r,i).join("")},np.truncate=function(e,t){var n=30,r="...";if(iq(t)){var i="separator"in t?t.separator:i;n="length"in t?i9(t.length):n,r="omission"in t?r_(t.omission):r}var a=(e=at(e)).length;if(tU(e)){var s=tq(e);a=s.length}if(n>=a)return e;var u=n-tY(r);if(u<1)return r;var l=s?rR(s,0,u).join(""):e.slice(0,u);if(o===i)return l+r;if(s&&(u+=l.length-u),iQ(i)){if(e.slice(u).search(i)){var c,d=l;for(i.global||(i=eC(i.source,at(eu.exec(i))+"g")),i.lastIndex=0;c=i.exec(d);)var f=c.index;l=l.slice(0,o===f?u:f)}}else if(e.indexOf(r_(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+r},np.unescape=function(e){return(e=at(e))&&F.test(e)?e.replace(U,tG):e},np.uniqueId=function(e){var t=++ez;return at(e)+t},np.upperCase=aR,np.upperFirst=az,np.each=iu,np.eachRight=il,np.first=oW,aH(np,(em={},nY(np,function(e,t){eR.call(np.prototype,t)||(em[t]=e)}),em),{chain:!1}),np.VERSION="4.17.21",tc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){np[e].placeholder=np}),tc(["drop","take"],function(e,t){ny.prototype[e]=function(n){n=o===n?1:t2(i9(n),0);var r=this.__filtered__&&!t?new ny(this):this.clone();return r.__filtered__?r.__takeCount__=t5(n,r.__takeCount__):r.__views__.push({size:t5(n,0xffffffff),type:e+(r.__dir__<0?"Right":"")}),r},ny.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),tc(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ny.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ol(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),tc(["head","last"],function(e,t){var n="take"+(t?"Right":"");ny.prototype[e]=function(){return this[n](1).value()[0]}}),tc(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ny.prototype[e]=function(){return this.__filtered__?new ny(this):this[n](1)}}),ny.prototype.compact=function(){return this.filter(aL)},ny.prototype.find=function(e){return this.filter(e).head()},ny.prototype.findLast=function(e){return this.reverse().find(e)},ny.prototype.invokeMap=rd(function(e,t){return"function"==typeof e?new ny(this):this.map(function(n){return n2(n,e,t)})}),ny.prototype.reject=function(e){return this.filter(iM(ol(e)))},ny.prototype.slice=function(e,t){e=i9(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ny(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),o!==t&&(n=(t=i9(t))<0?n.dropRight(-t):n.take(t-e)),n)},ny.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ny.prototype.toArray=function(){return this.take(0xffffffff)},nY(ny.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=np[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(np.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof ny,l=s[0],c=u||iD(t),d=function(e){var t=i.apply(np,tv([e],s));return r&&f?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,h=!!this.__actions__.length,p=a&&!f,g=u&&!h;if(!a&&c){t=g?t:new ny(this);var v=e.apply(t,s);return v.__actions__.push({func:ir,args:[d],thisArg:o}),new nm(v,f)}return p&&g?e.apply(this,s):(v=this.thru(d),p?r?v.value()[0]:v.value():v)})}),tc(["pop","push","shift","sort","splice","unshift"],function(e){var t=eN[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);np.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(iD(o)?o:[],e)}return this[n](function(n){return t.apply(iD(n)?n:[],e)})}}),nY(ny.prototype,function(e,t){var n=np[t];if(n){var r=n.name+"";eR.call(ni,r)||(ni[r]=[]),ni[r].push({name:t,func:n})}}),ni[rK(o,2).name]=[{name:"wrapper",func:o}],ny.prototype.clone=function(){var e=new ny(this.__wrapped__);return e.__actions__=rL(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rL(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rL(this.__views__),e},ny.prototype.reverse=function(){if(this.__filtered__){var e=new ny(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},ny.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=iD(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=t5(t,e+a);break;case"takeRight":e=t2(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=t5(u,this.__takeCount__);if(!n||!r&&o==u&&h==u)return rS(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var g=-1,v=e[l+=t];++g<d;){var m=c[g],y=m.iteratee,x=m.type,w=y(v);if(2==x)v=w;else if(!w){if(1==x)continue e;break e}}p[f++]=v}return p},np.prototype.at=io,np.prototype.chain=function(){return it(this)},np.prototype.commit=function(){return new nm(this.value(),this.__chain__)},np.prototype.next=function(){this.__values__===o&&(this.__values__=i4(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}},np.prototype.plant=function(e){for(var t,n=this;n instanceof nv;){var r=oT(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},np.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ny){var t=e;return this.__actions__.length&&(t=new ny(this)),(t=t.reverse()).__actions__.push({func:ir,args:[oJ],thisArg:o}),new nm(t,this.__chain__)}return this.thru(oJ)},np.prototype.toJSON=np.prototype.valueOf=np.prototype.value=function(){return rS(this.__wrapped__,this.__actions__)},np.prototype.first=np.prototype.head,e3&&(np.prototype[e3]=function(){return this}),np}();e6._=tZ,o!==(r=(function(){return tZ}).call(t,n,t,e))&&(e.exports=r)}).call(this)},81212:(e,t,n)=>{"use strict";n.d(t,{$E:()=>s,a3:()=>l,vX:()=>u});var r=n(1831),o=n.n(r),i=n(13940),a=n.n(i);o().extend(a());let s=e=>{let t=e.reduce((e,t)=>e+o()(t.end).diff(o()(t.start)),0),n=o().duration(t);return{hours:Math.floor(n.asHours()),minutes:n.minutes(),seconds:n.seconds()}},u=e=>{let{hours:t,minutes:n,seconds:r}=e,o="";return t&&(o+=`${t}h `),n&&(o+=`${n}m `),r&&(o+=`${r}s`),o},l=(e,t)=>{let n=o().duration(o()(t).diff(o()(e))),r=Math.floor(n.asHours());return u({hours:r,minutes:n.minutes(),seconds:n.seconds()})}},81479:(e,t,n)=>{var r=n(36945),o=n(59332),i=n(18585);e.exports=function(e){return o(e)?i(e):r(e)}},81816:(e,t,n)=>{"use strict";e.exports=n(64904)},81904:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{V:()=>c});var o=n(13486),i=n(60159),a=n(35412),s=n(17121),u=n(81212),l=e([a]);a=(l.then?(await l)():l)[0];let c=e=>{let{executionRecords:t,isEdit:n,onChange:r}=e,[l,c]=(0,i.useState)(!1),{hours:d,minutes:f,seconds:h}=(0,u.$E)(t);return n?(0,o.jsxs)("div",{className:"mt-1.5",children:[(0,o.jsxs)("div",{className:"text-[11px] text-gray-600 mb-2",children:["总耗时：",(0,u.vX)({hours:d,minutes:f,seconds:h})]}),(0,o.jsx)(a.lVW,{initialValues:{executionRecords:t.map(e=>({start:(0,s.yf)(e.start),end:(0,s.yf)(e.end)}))},onValuesChange:(e,t)=>{r?.({executionRecords:t.executionRecords.map(e=>({start:e.start?.valueOf(),end:e.end?.valueOf()}))})},children:(0,o.jsx)(a.lVW.List,{name:"executionRecords",children:(e,{add:t,remove:n})=>(0,o.jsxs)(o.Fragment,{children:[e.map(({key:e,name:t,...r})=>(0,o.jsxs)("div",{className:"mb-2 flex items-center",children:[(0,o.jsx)(a.lVW.Item,{...r,noStyle:!0,name:[t,"start"],className:"mb-0 flex-1",rules:[{required:!0,message:"请选择开始时间"}],children:(0,o.jsx)(a.lrV,{showTime:!0,placeholder:"开始时间",className:"w-full",format:"DD HH:mm"})}),(0,o.jsx)("div",{className:"mx-1",children:"至"}),(0,o.jsx)(a.lVW.Item,{...r,noStyle:!0,name:[t,"end"],className:"mb-0 flex-1",children:(0,o.jsx)(a.lrV,{showTime:!0,placeholder:"结束时间",className:"w-full",format:"DD HH:mm"})}),(0,o.jsx)(a.$nd,{type:"text",className:"ml-2",icon:(0,o.jsx)(a.SUY,{}),onClick:()=>n(t)})]},e)),(0,o.jsx)(a.lVW.Item,{children:(0,o.jsx)(a.$nd,{type:"dashed",onClick:()=>t({}),block:!0,icon:(0,o.jsx)(a.bW0,{}),className:"text-[11px]",children:"添加执行记录"})})]})})})]}):(0,o.jsxs)("div",{className:"mt-1.5",children:[!!t.length&&(0,o.jsxs)("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-between text-[11px] text-gray-500 hover:text-gray-600",children:[(0,o.jsxs)("span",{children:["总耗时：",(0,u.vX)({hours:d,minutes:f,seconds:h})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("span",{className:"mr-1",children:["共 ",t.length," 次执行"]}),l?(0,o.jsx)(a.k8Y,{className:"text-xs"}):(0,o.jsx)(a.lHd,{className:"text-xs"})]})]}),(0,o.jsx)("div",{className:`
          overflow-hidden transition-all duration-300
          ${l?"max-h-[300px] opacity-100 mt-2":"max-h-0 opacity-0"}
        `,children:(0,o.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>(0,o.jsx)("div",{className:"relative border-l border-gray-200",children:(0,o.jsxs)("div",{className:"flex flex-row pl-1 justify-between align-middle text-[11px]",children:[(0,o.jsx)("div",{className:"text-gray-400",style:{width:"33.33%"},children:(0,s.yf)(e.start).format("MM-DD HH:mm")}),(0,o.jsx)("div",{className:"text-gray-400",style:{width:"33.33%"},children:e.end?(0,s.yf)(e.end).format("MM-DD HH:mm"):"-"}),(0,o.jsx)("div",{className:"text-gray-400",style:{width:"33.33%",textAlign:"right"},children:(0,u.a3)(e.start,e.end)})]})},t))})})]})};r()}catch(e){r(e)}})},82263:(e,t,n)=>{"use strict";n.a(e,async(e,r)=>{try{n.d(t,{e:()=>u});var o=n(17121),i=n(15568),a=n(26230),s=e([a]);a=(s.then?(await s)():s)[0];let u=e=>{let{nodes:t,edges:n,handles:r}=e,{setNodes:s,setEdges:u}=(0,a.Fo)();(0,i.useDebouncedEffect)(()=>{if(!t?.length||!n?.length||!t.every(e=>e.measured))return;let e=r.reduce((e,t)=>t(e),{nodes:t,edges:n});s(o._.cloneDeep(e.nodes)),u(o._.cloneDeep(e.edges))},[t,n],{wait:10})};r()}catch(e){r(e)}})},82627:(e,t,n)=>{var r=n(59538);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},82629:(e,t,n)=>{var r=n(97372);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,l=a}return l}},82876:e=>{e.exports=function(){}},82954:(e,t,n)=>{var r=n(46795),o=n(89049).Graph;e.exports=function(e,t,n){var i=function(e){for(var t;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(o){var s=e.node(o),u=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),r.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+s})}),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},83505:e=>{"use strict";e.exports=import("prettier/standalone")},84420:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});let r=(0,n(2051).vt)(e=>({isEditing:!1,setEditing:t=>{e({isEditing:t})},isExecuting:!1,setExecuting:t=>{e({isExecuting:t})}}))},85180:(e,t,n)=>{var r=n(97372);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),s=void 0!==t,u=null===t,l=t==t,c=r(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||o&&s&&l||!n&&l||!i)return 1;if(!o&&!a&&!c&&e<t||c&&n&&i&&!o&&!a||u&&n&&i||!s&&i||!l)return -1}return 0}},85302:e=>{e.exports=function(e,t){return e<t}},85775:(e,t,n)=>{var r=n(69110),o=n(71603),i=n(38082),a=n(51719),s=n(53380),u=n(46930),l=n(23365),c=n(18517),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},86048:e=>{e.exports={task:"styles_task__Am_dW",snap:"styles_snap__WXTZS"}},86070:(e,t,n)=>{var r=n(46795);e.exports=function(e,t,n){var o,i={};r.forEach(n,function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s){t.setEdge(a,s);return}s=r}})}},86400:(e,t,n)=>{var r=n(59234);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},86440:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},86545:(e,t,n)=>{var r=n(46795),o=n(14014);function i(e,t,n,r,i,a){var s=i[t][a-1],u=o.addDummyNode(e,"border",{width:0,height:0,rank:a,borderType:t},n);i[t][a]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}e.exports=function(e){r.forEach(e.children(),function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}})}},86838:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>f,tree:()=>l});var r=n(24332),o=n(48819),i=n(67851),a=n.n(i),s=n(97540),u={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>s[e]);n.d(t,u);let l={children:["",{children:["task",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,66028)),"/Users/wangzhenyu/Code/work/persons/app/src/app/task/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,90791)),"/Users/wangzhenyu/Code/work/persons/app/src/app/task/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,85631)),"/Users/wangzhenyu/Code/work/persons/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,92341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/wangzhenyu/Code/work/persons/app/src/app/task/page.tsx"],d={require:n,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/task/page",pathname:"/task",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},87173:(e,t,n)=>{var r=n(46795),o=n(89049).Graph,i=n(97029);e.exports=function(e,t){if(1>=e.nodeCount())return[];var n,l,c,d,f,h,p,g=(n=e,l=t||a,c=new o,d=0,f=0,r.forEach(n.nodes(),function(e){c.setNode(e,{v:e,in:0,out:0})}),r.forEach(n.edges(),function(e){var t=c.edge(e.v,e.w)||0,n=l(e);c.setEdge(e.v,e.w,t+n),f=Math.max(f,c.node(e.v).out+=n),d=Math.max(d,c.node(e.w).in+=n)}),h=r.range(f+d+3).map(function(){return new i}),p=d+1,r.forEach(c.nodes(),function(e){u(h,p,c.node(e))}),{graph:c,buckets:h,zeroIdx:p}),v=function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=i.dequeue();)s(e,t,n,r);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){o=o.concat(s(e,t,n,r,!0));break}}}return o}(g.graph,g.buckets,g.zeroIdx);return r.flatten(r.map(v,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=r.constant(1);function s(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,u(t,n,s)}),r.forEach(e.outEdges(o.v),function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,u(t,n,a)}),e.removeNode(o.v),a}function u(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},87527:(e,t,n)=>{var r=n(67374),o=n(36845);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},89049:(e,t,n)=>{var r;try{r=n(38072)}catch(e){}r||(r=window.graphlib),e.exports=r},89066:(e,t,n)=>{var r=n(67759),o=n(79814),i=n(479),a=n(37263),s=n(92089),u=n(51719),l=n(46930),c=n(39020),d=n(22759),f=n(18517);e.exports=function(e,t,n){var h=u(e),p=h||l(e)||f(e);if(t=a(t,4),null==n){var g=e&&e.constructor;n=p?h?new g:[]:d(e)&&c(g)?o(s(e)):{}}return(p?r:i)(e,function(e,r,o){return t(n,e,r,o)}),n}},89116:e=>{"use strict";e.exports=require("vscode-oniguruma")},89122:(e,t,n)=>{var r=n(46795);e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var o=r.reduce(n,function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}})}},90791:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(38828),o=n(52333),i=n(50643),a=n.n(i);function s({children:e}){return(0,r.jsx)(o.ReactFlowProvider,{children:(0,r.jsx)("div",{className:a().task,children:e})})}},91235:(e,t,n)=>{var r=n(46795),o=n(14014),i=n(89049).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){n.setNode("layer"+t,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},91311:(e,t,n)=>{"use strict";var r=n(46795),o=n(14014);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){(function(e,t){var n,r,i,a=t.v,s=e.node(a).rank,u=t.w,l=e.node(u).rank,c=t.name,d=e.edge(t),f=d.labelRank;if(l!==s+1){for(e.removeEdge(t),i=0,++s;s<l;++i,++s)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=o.addDummyNode(e,"edge",r,"_d"),s===f&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},c),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,u,{weight:d.weight},c)}})(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)})}}},91949:(e,t,n)=>{var r=n(59234),o=n(93040),i=n(4375),a=n(30751);e.exports=o(function(e){return i(r(e,1,a,!0))})},92107:(e,t,n)=>{"use strict";var r=n(46795),o=n(89049).Graph,i=n(38535).slack;e.exports=function(e){var t,n,a,s,u=new o({directed:!1}),l=e.nodes()[0],c=e.nodeCount();for(u.setNode(l,{});t=u,n=e,r.forEach(t.nodes(),function e(o){r.forEach(n.nodeEdges(o),function(r){var a=r.v,s=o===a?r.w:a;t.hasNode(s)||i(n,r)||(t.setNode(s,{}),t.setEdge(o,s,{}),e(s))})}),t.nodeCount()<c;)a=function(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)})}(u,e),s=u.hasNode(a.v)?i(e,a):-i(e,a),function(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}(u,e,s);return u}},92471:(e,t,n)=>{var r;try{r={clone:n(54859),constant:n(24996),each:n(88109),filter:n(74354),has:n(59878),isArray:n(51719),isEmpty:n(85775),isFunction:n(39020),isUndefined:n(13538),keys:n(97496),map:n(81e3),reduce:n(71962),size:n(65005),transform:n(89066),union:n(91949),values:n(72190)}}catch(e){}r||(r=window._),e.exports=r},92592:(e,t,n)=>{"use strict";var r=n(46795);function o(e){r.forEach(e.nodes(),function(t){i(e.node(t))}),r.forEach(e.edges(),function(t){i(e.edge(t))})}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&o(e)},undo:function(e){var t,n,i=e.graph().rankdir.toLowerCase();("bt"===i||"rl"===i)&&(t=e,r.forEach(t.nodes(),function(e){a(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)})),("lr"===i||"rl"===i)&&(n=e,r.forEach(n.nodes(),function(e){s(n.node(e))}),r.forEach(n.edges(),function(e){var t=n.edge(e);r.forEach(t.points,s),r.has(t,"x")&&s(t)}),o(e))}}},94012:(e,t,n)=>{"use strict";var r=n(46795),o=n(17060),i=n(91311),a=n(25743),s=n(14014).normalizeRanks,u=n(72358),l=n(14014).removeEmptyRanks,c=n(28471),d=n(86545),f=n(92592),h=n(37415),p=n(50514),g=n(14014),v=n(89049).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){var t,n,o;return t=e,n=new v({multigraph:!0,compound:!0}),o=S(t.graph()),n.setGraph(r.merge({},y,k(o,m),r.pick(o,x))),r.forEach(t.nodes(),function(e){var o=S(t.node(e));n.setNode(e,r.defaults(k(o,w),_)),n.setParent(e,t.parent(e))}),r.forEach(t.edges(),function(e){var o=S(t.edge(e));n.setEdge(e,r.merge({},E,k(o,b),r.pick(o,C)))}),n});n("  runLayout",function(){var e,v;e=t,(v=n)("    makeSpaceForEdgeLabels",function(){var t,n;n=(t=e).graph(),n.ranksep/=2,r.forEach(t.edges(),function(e){var r=t.edge(e);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),v("    removeSelfEdges",function(){var t;t=e,r.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}),v("    acyclic",function(){o.run(e)}),v("    nestingGraph.run",function(){c.run(e)}),v("    rank",function(){a(g.asNonCompoundGraph(e))}),v("    injectEdgeLabelProxies",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",o,"_ep")}})}),v("    removeEmptyRanks",function(){l(e)}),v("    nestingGraph.cleanup",function(){c.cleanup(e)}),v("    normalizeRanks",function(){s(e)}),v("    assignRankMinMax",function(){var t,n;t=e,n=0,r.forEach(t.nodes(),function(e){var o=t.node(e);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,n=r.max(n,o.maxRank))}),t.graph().maxRank=n}),v("    removeEdgeLabelProxies",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}),v("    normalize.run",function(){i.run(e)}),v("    parentDummyChains",function(){u(e)}),v("    addBorderSegments",function(){d(e)}),v("    order",function(){h(e)}),v("    insertSelfEdges",function(){var t,n;t=e,n=g.buildLayerMatrix(t),r.forEach(n,function(e){var n=0;r.forEach(e,function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}),v("    adjustCoordinateSystem",function(){f.adjust(e)}),v("    position",function(){p(e)}),v("    positionSelfEdges",function(){var t;t=e,r.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})}),v("    removeBorderNodes",function(){var t;t=e,r.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}}),r.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}),v("    normalize.undo",function(){i.undo(e)}),v("    fixupEdgeLabelCoords",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),v("    undoCoordinateSystem",function(){f.undo(e)}),v("    translateGraph",function(){(function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;function l(e){var r=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(e.nodes(),function(t){l(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&l(n)}),t-=s,o-=u,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=o}),r.forEach(e.edges(),function(n){var i=e.edge(n);r.forEach(i.points,function(e){e.x-=t,e.y-=o}),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)}),a.width=n-t+s,a.height=i-o+u})(e)}),v("    assignNodeIntersects",function(){var t;t=e,r.forEach(t.edges(),function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(g.intersectRect(i,n)),o.points.push(g.intersectRect(a,r))})}),v("    reversePoints",function(){var t;t=e,r.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}),v("    acyclic.undo",function(){o.undo(e)})}),n("  updateInputGraph",function(){var n,o;n=e,o=t,r.forEach(n.nodes(),function(e){var t=n.node(e),r=o.node(e);t&&(t.x=r.x,t.y=r.y,o.children(e).length&&(t.width=r.width,t.height=r.height))}),r.forEach(n.edges(),function(e){var t=n.edge(e),i=o.edge(e);t.points=i.points,r.has(i,"x")&&(t.x=i.x,t.y=i.y)}),n.graph().width=o.graph().width,n.graph().height=o.graph().height})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],w=["width","height"],_={width:0,height:0},b=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"];function k(e,t){return r.mapValues(r.pick(e,t),Number)}function S(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},95356:e=>{e.exports="0.8.5"},96091:(e,t,n)=>{var r=n(18991),o=n(82876),i=n(27177);e.exports=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o},97029:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},97315:(e,t,n)=>{var r=n(24162);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},97866:(e,t,n)=>{var r=n(16546);e.exports=function(e,t){return r(e,t,"pre")}},98455:(e,t,n)=>{"use strict";var r=n(46795),o=n(89049).Graph,i=n(14014);function a(e,t){var n={};return r.reduce(t,function(t,o){var i=0,a=0,s=t.length,l=r.last(o);return r.forEach(o,function(t,c){var d=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),f=d?e.node(d).order:s;(d||t===l)&&(r.forEach(o.slice(a,c+1),function(t){r.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;(a<i||f<a)&&!(o.dummy&&e.node(t).dummy)&&u(n,r,t)})}),a=c+1,i=f)}),o}),n}function s(e,t){var n={};function o(t,o,i,a,s){var l;r.forEach(r.range(o,i),function(o){l=t[o],e.node(l).dummy&&r.forEach(e.predecessors(l),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&u(n,t,l)})})}return r.reduce(t,function(t,n){var i,a=-1,s=0;return r.forEach(n,function(r,u){if("border"===e.node(r).dummy){var l=e.predecessors(r);l.length&&(i=e.node(l[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,t.length)}),n}),n}function u(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function l(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function c(e,t,n,o){var i={},a={},s={};return r.forEach(t,function(e){r.forEach(e,function(e,t){i[e]=e,a[e]=e,s[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var u=o(e);if(u.length)for(var c=((u=r.sortBy(u,function(e){return s[e]})).length-1)/2,d=Math.floor(c),f=Math.ceil(c);d<=f;++d){var h=u[d];a[e]===e&&t<s[h]&&!l(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}})}),{root:i,align:a}}function d(e,t,n,i,a){var s,u,l,c,d,f,h,p,g,v,m={},y=(s=e,u=t,l=n,c=a,p=new o,v=(d=(g=s.graph()).nodesep,f=g.edgesep,h=c,function(e,t,n){var o,i,a=e.node(t),s=e.node(n);if(o=0+a.width/2,r.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":i=-a.width/2;break;case"r":i=a.width/2}if(i&&(o+=h?i:-i),i=0,o+=(a.dummy?f:d)/2,o+=(s.dummy?f:d)/2,o+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":i=s.width/2;break;case"r":i=-s.width/2}return i&&(o+=h?i:-i),i=0,o}),r.forEach(u,function(e){var t;r.forEach(e,function(e){var n=l[e];if(p.setNode(n),t){var r=l[t],o=p.edge(r,n);p.setEdge(r,n,Math.max(v(s,e,t),o||0))}t=e})}),p),x=a?"borderLeft":"borderRight";function w(e,t){for(var n=y.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return w(function(e){m[e]=y.inEdges(e).reduce(function(e,t){return Math.max(e,m[t.v]+y.edge(t))},0)},y.predecessors.bind(y)),w(function(t){var n=y.outEdges(t).reduce(function(e,t){return Math.min(e,m[t.w]-y.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==x&&(m[t]=Math.max(m[t],n))},y.successors.bind(y)),r.forEach(i,function(e){m[e]=m[n[e]]}),m}function f(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var i,a,s=(i=e,a=r,i.node(a).width/2);n=Math.max(t+s,n),o=Math.min(t-s,o)}),n-o})}function h(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,u=n+a,l=e[u];if(l!==t){var c=r.values(l);(s="l"===a?o-r.min(c):i-r.max(c))&&(e[u]=r.mapValues(l,function(e){return e+s}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2})}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),u={};r.forEach(["u","d"],function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var a=("u"===i?e.predecessors:e.successors).bind(e),s=c(e,t,o,a),l=d(e,t,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,function(e){return-e})),u[i+n]=l})});var l=f(e,u);return h(u,l),p(u,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:l,verticalAlignment:c,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p}},98995:e=>{"use strict";e.exports=require("node:module")},99916:(e,t,n)=>{var r=n(26309),o=n(9911),i=n(72323),a=n(22759),s=n(72703);e.exports=function(e,t,n,u){if(!a(e))return e;t=o(t,e);for(var l=-1,c=t.length,d=c-1,f=e;null!=f&&++l<c;){var h=s(t[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)break;if(l!=d){var g=f[h];void 0===(p=u?u(g,h,f):void 0)&&(p=a(g)?g:i(t[l+1])?[]:{})}r(f,h,p),f=f[h]}return e}}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[734,661,206,571],()=>n(86838));module.exports=r})();
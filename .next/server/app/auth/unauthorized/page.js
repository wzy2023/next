(()=>{var e={};e.id=140,e.ids=[140],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7273:e=>{"use strict";e.exports=require("prettier/parser-typescript")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23988:(e,r,t)=>{Promise.resolve().then(t.bind(t,90432))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34589:e=>{"use strict";e.exports=require("node:assert")},34880:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=t(24332),n=t(48819),a=t(67851),o=t.n(a),i=t(97540),u={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>i[e]);t.d(r,u);let l={children:["",{children:["auth",{children:["unauthorized",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90432)),"/Users/wangzhenyu/Code/work/persons/app/src/app/auth/unauthorized/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85631)),"/Users/wangzhenyu/Code/work/persons/app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,92341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/wangzhenyu/Code/work/persons/app/src/app/auth/unauthorized/page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/auth/unauthorized/page",pathname:"/auth/unauthorized",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},51455:e=>{"use strict";e.exports=require("node:fs/promises")},57975:e=>{"use strict";e.exports=require("node:util")},60372:(e,r,t)=>{Promise.resolve().then(t.bind(t,66539))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66539:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>z});var s=t(13486),n=t(60159),a=t(47519),o=t(2984),i=t(68246),u=t(56183),l=t(78507),c=t(28627),d=t(63042),p=t(91575),h=t(13909);let x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};var f=t(17573),m=n.forwardRef(function(e,r){return n.createElement(f.default,(0,h.A)({},e,{ref:r,icon:x}))});let g={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z"}}]},name:"retweet",theme:"outlined"};var v=n.forwardRef(function(e,r){return n.createElement(f.default,(0,h.A)({},e,{ref:r,icon:g}))});let w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var y=n.forwardRef(function(e,r){return n.createElement(f.default,(0,h.A)({},e,{ref:r,icon:w}))}),b=t(32888),j=t(85015);let q=()=>{let{data:e,status:r}=(0,a.useSession)(),t=(0,o.useRouter)(),p=(0,o.useSearchParams)().get("callbackUrl")||"/",h=(0,n.useMemo)(()=>{if("authenticated"!==r||!p||"/"===p)return!1;let t=j.W.find(e=>p.startsWith(e.path.split("/").slice(0,2).join("/")));if(!t?.allowedRoles||0===t.allowedRoles.length)return!0;let s=e?.user?.role||"";return!!t.allowedRoles.includes(s)},[e,r,p]),x=async()=>{await (0,a.signOut)({callbackUrl:"/auth/signin"})};return(0,s.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-6 bg-gray-100",children:(0,s.jsx)(i.A,{className:"w-full max-w-lg shadow-lg",children:(0,s.jsx)(u.Ay,{status:"403",title:"访问受限",icon:(0,s.jsx)(m,{style:{color:"#f5222d"}}),subTitle:(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)(l.A.Paragraph,{children:["很抱歉，您的账号 ",(0,s.jsx)("strong",{children:e?.user?.email})," 没有权限访问此功能。"]}),(0,s.jsx)(l.A.Paragraph,{children:"需要特定邮箱账号才能访问某些功能。如果您认为这是一个错误，请联系管理员申请权限。"})]}),extra:(0,s.jsxs)(c.A,{children:[h?(0,s.jsx)(d.Ay,{type:"primary",icon:(0,s.jsx)(v,{}),onClick:()=>t.push(p),children:"重试"}):(0,s.jsx)(d.Ay,{type:"primary",icon:(0,s.jsx)(y,{}),onClick:()=>t.push("/"),children:"回到首页"}),(0,s.jsx)(d.Ay,{type:"primary",danger:!0,icon:(0,s.jsx)(b.A,{}),onClick:x,children:"切换账号"})]})})})})},z=()=>(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)(p.A,{}),children:(0,s.jsx)(q,{})})},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},76760:e=>{"use strict";e.exports=require("node:path")},76830:e=>{"use strict";e.exports=require("prettier/parser-babel")},78877:e=>{"use strict";e.exports=require("node:v8")},83505:e=>{"use strict";e.exports=import("prettier/standalone")},89116:e=>{"use strict";e.exports=require("vscode-oniguruma")},90432:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/wangzhenyu/Code/work/persons/app/src/app/auth/unauthorized/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wangzhenyu/Code/work/persons/app/src/app/auth/unauthorized/page.tsx","default")},98995:e=>{"use strict";e.exports=require("node:module")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[734,661,206,571],()=>t(34880));module.exports=s})();
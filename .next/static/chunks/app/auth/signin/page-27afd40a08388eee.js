(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4680],{38224:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>b});var c=l(54568),r=l(7620),t=l(62942),a=l(19764),n=l(50585),i=l(75019),d=l(85295),o=l(54458),h=l(29565),x=l(28059);let u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z"}}]},name:"google",theme:"outlined"};var m=l(64607),f=r.forwardRef(function(e,s){return r.createElement(m.default,(0,x.A)({},e,{ref:s,icon:u}))}),g=l(89223);let{Title:j,Paragraph:v,Text:p}=a.A,y=()=>{let e=(0,t.useSearchParams)(),s=e.get("callbackUrl")||"/",l=e.get("error"),{data:a,status:h}=(0,g.useSession)(),x=(0,t.useRouter)();(0,r.useEffect)(()=>{"authenticated"===h&&a&&x.push(s)},[h,a,x,s]);let u=async()=>{try{await (0,g.signIn)("google",{callbackUrl:s})}catch(e){console.log(666,"登录失败:",e),n.Ay.error("登录失败，请稍后重试")}};return(0,c.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center p-6 bg-gray-100",children:[(0,c.jsx)("div",{className:"text-center mb-8",children:(0,c.jsx)(j,{level:1,children:"个人助手系统"})}),(0,c.jsxs)(i.A,{className:"w-full max-w-md shadow-lg",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)(j,{level:3,children:"账号登录"}),(0,c.jsx)(v,{children:"使用 Google 账号登录系统"}),l&&(0,c.jsx)(p,{type:"danger",children:"AccessDenied"===l?"登录权限被拒绝":"登录失败，请重试"})]}),(0,c.jsxs)(d.A,{direction:"vertical",className:"w-full",children:[(0,c.jsx)(o.Ay,{type:"primary",size:"large",icon:(0,c.jsx)(f,{}),onClick:u,block:!0,children:"Google 账号登录"}),(0,c.jsx)("div",{className:"text-center mt-6",children:(0,c.jsx)(p,{type:"secondary",children:"只有经过授权的账号才能访问核心功能"})})]})]})]})},b=()=>(0,c.jsx)(r.Suspense,{fallback:(0,c.jsx)(h.A,{}),children:(0,c.jsx)(y,{})})},80392:(e,s,l)=>{Promise.resolve().then(l.bind(l,38224))}},e=>{var s=s=>e(e.s=s);e.O(0,[2998,6502,5888,4030,794,9223,9565,2983,587,8315,7358],()=>s(80392)),_N_E=e.O()}]);